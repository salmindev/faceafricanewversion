// For license information, see `https://assets.adobedtm.com/launch-EN1ce795381cea451fa40478e502ecce2f.js`.
window._satellite=window._satellite||{},window._satellite.container={buildInfo:{minified:!0,buildDate:"2025-02-24T17:22:28Z",turbineBuildDate:"2024-08-22T17:32:44Z",turbineVersion:"28.0.0"},environment:{id:"EN1ce795381cea451fa40478e502ecce2f",stage:"production"},dataElements:{prop_amenities:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.prop_amenities"}},campaign_parameter:{defaultValue:"",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"scid",caseInsensitive:!0}},form_step_name:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.form_step_name"}},offerCode:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"mvpOffers.offerCode"}},search_impression_criteria2_currency:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_impression_criteria2_currency"}},page_url_query_string:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";if(void 0!==window.dataLayer&&void 0!==window.dataLayer.page_url_query_string)for(var t=decodeURIComponent(window.dataLayer.page_url_query_string).split(";"),a=0;a<t.length;a++)t[a].match(/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi)||(e=e+t[a]+";");return e=""!=e?e:""}}},session_id_cookie:{cleanText:!0,modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"sessionID"}},browser_optin_tracking_status:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){let e=!0;return navigator.doNotTrack||window.doNotTrack?"1"===window.doNotTrack||"1"===navigator.doNotTrack||"yes"===navigator.doNotTrack?(_satellite.logger.warn("Browser do not track is: enabled"),e=!1):_satellite.logger.warn("Browser do not track is: not enabled"):_satellite.logger.warn("Browser do Not track is: not supported"),e}}},search_destination_state:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_destination_state"}},form_name:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return dataLayer.form_name||"LPA Survey"}}},group_opportunity_id:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.group_opportunity_id"}},env_analytics_code_version:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.env_analytics_code_version"}},fb_event_id:{storageDuration:"pageview",modulePath:"adobe-alloy/dist/lib/dataElements/eventMergeId/index.js",settings:{cacheId:"28ca667e-61fb-4e2a-8af6-06ad7b683be3"}},search_grid_view_column_name:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_grid_view_column_name"}},air_carrier:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.air_carrier"}},env_date_time:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.env_date_time"}},mr_prof_email_invalid:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_email_invalid"}},search_date_check_in_ymd:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="",t=_satellite.getVar("search_date_check_in");return t&&(e=t.match(/\d{4}/)+"-"+t.match(/\d{2}/g)[0]+"-"+t.match(/\d{2}/g)[1]),e}}},search_list_page_current:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_list_page_current"}},rfp_event_type:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.rfp_event_type"}},prop_rewards_category_level:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.prop_rewards_category_level"}},pagename_abbr:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="ot";return"/default.mi"===window.location.pathname?e="hm":window.location.pathname.indexOf("/search/findHotels")>-1?e="sh":window.location.pathname.indexOf("/reservation/findReservationDetail")>-1?e="it":window.location.pathname.indexOf("/hotels/travel/")>-1?e="hh":window.location.pathname.indexOf("/reservation/confirmation")>-1?e="bk":window.location.pathname.indexOf("/loyalty/myAccount/profile")>-1?e="mm":(window.location.pathname.indexOf("/travel-deals")>-1||window.location.pathname.indexOf("/hotel-search/")>-1)&&(e="ds"),e}}},device_detector:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t;return(e=navigator.userAgent.toLowerCase(),{device:(t=function(t){return void 0!==t&&(e=t.toLowerCase()),/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(e)?"tablet":/(mobi|ipod|phone|blackberry|opera mini|fennec|minimo|symbian|psp|nintendo ds|archos|skyfire|puffin|blazer|bolt|gobrowser|iris|maemo|semc|teashark|uzard)/.test(e)?"phone":"desktop"})(),detect:t,isMobile:"desktop"!=t(),userAgent:e}).device}}},Length:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return"undefined"!=typeof dataLayer&&dataLayer.res_stay_length?dataLayer.res_stay_length:"undefined"!=typeof dataLayer&&dataLayer.search_date_check_in&&dataLayer.search_date_check_out?("Invalid Date"==new Date(dataLayer.search_date_check_in)&&dataLayer.search_date_check_in.match(/\d\d\/\d\d/i)?dateIn=dataLayer.search_date_check_in.split("/")[1]+"/"+dataLayer.search_date_check_in.split("/")[0]+"/"+dataLayer.search_date_check_in.split("/")[2]:dateIn=dataLayer.search_date_check_in,"Invalid Date"==new Date(dataLayer.search_date_check_out)&&dataLayer.search_date_check_out.match(/\d\d\/\d\d/i)?dateOut=dataLayer.search_date_check_out.split("/")[1]+"/"+dataLayer.search_date_check_out.split("/")[0]+"/"+dataLayer.search_date_check_out.split("/")[2]:dateOut=dataLayer.search_date_check_out,Number((new Date(dateOut)-new Date(dateIn))/1e3/3600/24)):""}catch(e){return"EDL_Extractor_Error"}}}},res_room_pool_code:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_room_pool_code"}},page_pathname:{defaultValue:"",modulePath:"core/src/lib/dataElements/pageInfo.js",settings:{attribute:"pathname"}},"Hotel Photo":{defaultValue:"",modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"Hotel Photos"}},res_cash_nights:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_cash_nights"}},"search_date_check_out_yyyy-mm-dd":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return"undefined"!=typeof dataLayer&&void 0!==dataLayer.search_date_check_out&&(e=new Date(dataLayer.search_date_check_out).toISOString().substring(0,10)),e}}},rk_enabled:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.rk_enabled"}},res_bed_type:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_bed_type"}},mr_prof_address_country_abbr:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_address_country_abbr"}},brwsrLang:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.brwsrLang"}},group_qg_rfp_serp_summary:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.group_qg_rfp_serp_summary"}},guests:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.guests"}},search_availability_search:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_availability_search"}},cookie_marketingCampaignTrackingData:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){let e="",t=_satellite.cookie.get("marketingCampaignTrackingData");return void 0!==t&&""!==t&&(e=t),e}}},res_isRedemption:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_isRedemption"}},promotion_id:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(document.referrer.includes("/loyalty/createAccount/createAccountPage1")&&_satellite.getVar("page_pathname").includes("/loyalty/myAccount/profile.mi")||"true"==_satellite.getVar("mr_enrolled")&&_satellite.getVar("page_pathname").includes("/reservation/confirmation.mi")){let e=_satellite.getVar("cookie_marketingCampaignTrackingData");if(null!=e&&""!==e&&e.includes("clickref"))return"prtnrzJoinBonvoy"}const e=new URLSearchParams(window.location.search).getAll("promotion");if("undefined"!=e[0])return e[0]}}},mr_prof_upcoming_stay_consolidated:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return"undefined"!=typeof dataLayer&&void 0!==dataLayer.mr_prof_upcoming_stay&&void 0!==dataLayer.mr_prof_upcoming_stay_city&&void 0!==dataLayer.mr_prof_upcoming_stay_ci_date&&void 0!==dataLayer.mr_prof_upcoming_stay_co_date&&void 0!==dataLayer.mr_prof_upcoming_stay_hotel&&void 0!==dataLayer.mr_prof_upcoming_stay_MARSHA&&(e=_satellite.getVar("mr_prof_upcoming_stay")+"|"+_satellite.getVar("mr_prof_upcoming_stay_city")+"|"+_satellite.getVar("mr_prof_upcoming_stay_ci_date")+"|"+_satellite.getVar("mr_prof_upcoming_stay_co_date")+"|"+_satellite.getVar("mr_prof_upcoming_stay_hotel")+"|"+_satellite.getVar("mr_prof_upcoming_stay_MARSHA")),e}}},rk_currency:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.rk_currency"}},fb_fbp:{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"_fbp"}},"XDM | Vendor Data | All":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"%fb_fbc%",type:"vendor"},webPageDetails:{server:"%env_is_prod%"}},device:{type:"%device_detector%"},channel:{mediaAction:"vendor"},eventType:"Vendor",marketing:{trackingCode:"%Pinterest | External Id | Hashed%"},endUserIDs:{_experience:{aaid:{id:"%fb_fbp%"},emailid:{id:"%hashed_email%"}}},environment:{browserDetails:{userAgent:"%user_agent%"}},eventMergeId:"%fb_event_id%",_marriott_intl:{affiliate:"%cookie_Affiliate%",prop_name:"%prop_name%",sessionId:"%sessionId%",env_site_id:"%env_site_id%",mr_enrolled:"%mr_enrolled%",promotion_id:"%promotion_id%",search_brands:"%search_brands%",res_num_adults:"%res_num_adults%",vendor_value_1:"%Pinterest | Event ID%",vendor_value_2:"%de_dup cookie%",vendor_value_3:"%res_revenue_stay_total_usd_api_conversion_error_default%",mr_id_alternate:"%mr_id_alternate%",prop_brand_code:"%prop_brand_code%",prop_brand_name:"%prop_brand_name%",prop_brand_tier:"%prop_brand_tier%",res_market_code:"%res_market_code%",res_stay_length:"%res_stay_length%",mr_cei_SttBhvSeg:"%mr_cei_SttBhvSeg%",prop_marsha_code:"%prop_marsha_code%",res_isRedemption:"%res_isRedemption%",res_num_children:"%res_num_children%",prop_address_city:"%prop_address_city%",res_revenue_total:"%res_revenue_total%",user_optin_status:"%user_optin_status%",res_rooms_per_night:"%res_rooms_per_night%",search_cluster_code:"%search_cluster_code%",search_currency_type:"%search_currency_type%",search_date_check_in:"%search_date_check_in%",facebook_content_type:"%facebook_content_type%",mr_prof_address_state:"%mr_prof_address_state%",mr_prof_rewards_level:"%mr_prof_rewards_level%",search_date_check_out:"%search_date_check_out%",search_dates_flexible:"%search_dates_flexible%",selected_cluster_code:"%selected_cluster_code%",search_guests_per_room:"%search_guests_per_room%",prop_address_state_abbr:"%prop_address_state_abbr%",res_confirmation_number:"%res_confirmation_number_only%",reservation_iata_number:"%reservation_iata_number%",search_destination_city:"%search_destination_city%",mr_prof_stay_in_progress:"%mr_prof_stay_in_progress%",res_revenue_adr_rate_usd:"%res_revenue_adr_rate_usd%",res_revenue_total_locale:"%res_revenue_total_locale%",search_destination_state:"%search_destination_state%",search_list_page_current:"%search_list_page_current%",device_language_preferred:"%device_language_preferred%",prop_address_country_abbr:"%prop_address_country_abbr%",res_revenue_currency_type:"%res_revenue_currency_type (PATCH)%",search_list_records_total:"%search_list_records_total%",browser_akamai_loc_country:"%browser_akamai_loc_country%",search_destination_country:"%search_destination_country%",search_list_marsha_on_page:"%search_list_marshas_on_page%",search_list_records_on_page:"%search_list_records_on_page%",mr_prof_address_country_abbr:"%mr_prof_address_country_abbr%",mr_prof_authentication_state:"%mr_prof_authentication_state%",search_advance_purchase_days:"%search_advance_purchase_days%",marketingCampaignTrackingData:"%cookie_marketingCampaignTrackingData%",res_guest_address_country_abbr:"%res_guest_address_country_abbr%",prop_address_city_state_country:"%prop_address_city_state_country%",search_date_check_in_yyyy_mm_dd:"%search_date_check_in_yyyy-mm-dd%",search_date_check_out_yyyy_mm_dd:"%search_date_check_out_yyyy-mm-dd%",lowercase_marsha_code_comma_seprated:"%lowercase_marsha_code_comma_seprated%",search_destination_city_state_country:"%search_destination_city_state_country%"}},sandbox:{name:"aepproduction"}}},mr_cei_PurMkt:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_cei_PurMkt"}},us_privacy:{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"usprivacy"}},group_sgo_search:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.group_sgo_search"}},res_revenue_adr_total_locale:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_revenue_adr_total_locale"}},Glassbox_unionID:{cleanText:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("Glassbox_sessionID"),t=_satellite.getVar("Glassbox_visitorID");if(e&&t)return e+"|"+t}}},"Qualtrics Project ID":{defaultValue:"ZN_3ncrRv8mPAY7XWg",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"true",method:"exact match",output:"ZN_1Kj0nvxlvA3uLZx"},1:{input:"false",method:"exact match",output:"ZN_3ncrRv8mPAY7XWg"},size:2,dataElement:"%env_is_prod%",defaultValueEmpty:!0}},Medallia_eventname:{cleanText:!0,modulePath:"medallia-for-adobe-launch/lib/dataElements/event-name.js",settings:{}},page_hostname:{defaultValue:"",modulePath:"core/src/lib/dataElements/pageInfo.js",settings:{attribute:"hostname"}},search_destination_city_state_country:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return void 0!==window.dataLayer&&(e=window.dataLayer.search_destination_city_state_country||""),e?e.toUpperCase().replace(/\,/g,":"):""}}},mr_prof_upcoming_stay_hotel:{defaultValue:'""',cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_upcoming_stay_hotel"}},item_select_content:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return[{id:this.getAttribute("data-custom-marshacode"),list_position:this.closest(".property-record-item").getAttribute("data-pnum")}]}}},"Number_of_days _bookedIn_advance":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=new Date,t=e.getDate(),a=e.getMonth()+1,r=e.getFullYear(),n=e.getFullYear(),s="0",o=parseInt(_satellite.getVar("queryParams_month")),i=o-a;if(t<10&&(t="0"+t),a<10&&(a="0"+a),e=r+"/"+a+"/"+t,i>0){var c=n+"/"+o+"/01",l=new Date(e),d=new Date(c),u=Math.abs(l.getTime()-d.getTime());return s=Math.ceil(u/864e5)}return s}}},time_parting:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";if("undefined"!=typeof s){var t=s.getTimeParting("h","-5",(new Date).getFullYear()),a=s.getTimeParting("d","-5",(new Date).getFullYear()),r=s.getTimeParting("w","-5",(new Date).getFullYear());t&&(e=r+" : "+a+" : "+t)}return e}}},res_fnatopoff_nights:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_FNAtopoff_nights"}},group_marsha_count:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return dataLayer.group_marsha_list.split(",").length}}},group_rfp_added_promos:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.group_rfp_added_promos"}},search_list_marshas_on_page:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_list_marshas_on_page"}},mr_is_ritz_member:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_is_ritz_member"}},res_stay_length:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_stay_length"}},res_change_conf:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_change_conf"}},group_opportuntity_id:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.group_opportunity_id"}},res_booking_room_Count:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_booking_room_Count"}},promo_single_or_multi_property:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.promo_single_or_multi_property"}},res_num_adults:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_num_adults"}},res_revenue_total_usd:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_revenue_total_usd"}},res_revenue_total_locale:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_revenue_total_locale"}},search_sold_out_search:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_sold_out_search"}},page_friendly_name:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.page_friendly_name"}},mr_enrolled:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_enrolled"}},mr_prof_rewards_linked_accounts:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_rewards_linked_accounts"}},prop_address_country_abbr:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.prop_address_country_abbr"}},group_promo:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.group_promo"}},search_kids_per_room:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_kids_per_room"}},res_visible_rates:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_visible_rates"}},res_low_standard_rate:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_low_standard_rate"}},search_cluster_code:{defaultValue:"standard",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_cluster_code"}},search_is_dates_flexible:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_is_dates_flexible"}},isSuiteBooked:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=!1;return void 0!==_satellite.getVar("res_bed_room_type")?e=_satellite.getVar("res_bed_room_type").toLowerCase().includes("suite"):void 0!==_satellite.getVar("res_bed_type")&&(e=_satellite.getVar("res_bed_type").toLowerCase().includes("suite")),e}}},res_cashpoints_nights:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_cash_points_nights"}},chckInDat:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.chckInDat"}},housekeeping_checkin:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=dataLayer.checkin_service_default,t=dataLayer.checkin_service_plan,a=dataLayer.checkin_service_type;if(1==e&&(e="1"),0==e&&(e="0"),e&&t&&a)return e+":"+t+":"+a}}},search_previous_destination_city:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_previous_destination_city"}},env_tms:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.env_tms"}},pers_non_member_ctrl_grp_id:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.pers_non_member_ctrl_grp_id"}},env_modal_window_name:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.env_modal_window_name"}},Brand_Code_points_value:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=10,t=_satellite.getVar("prop_brand_code");return"ER"!=t&&"EX"!=t||(e=2.5),"RI"!=t&&"TP"!=t&&"EL"!=t&&"TS"!=t||(e=5),e}}},mr_pref_extra_towels:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_pref_extra_towels"}},search_filter_type:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";if("object"==typeof dataLayer.search_filter_selection)try{e=JSON.stringify(Object.keys(dataLayer.search_filter_selection)).replace(/\[|\]|"/g,"")}catch(t){e=""}else try{e=dataLayer.search_filter_selection}catch(t){e=""}return e}}},"Adobe Pagename":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=document.domain,t=document.location.pathname;return"/"==t[t.length-1]&&(t=t.substring(0,t.length-1)),e+t}}},"XDM | Pinterest | All Pages":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{marketing:{campaignName:"page_visit"},_experience:{target:{sessionid:"%sessionId%"}},eventMergeId:"%Pinterest | External Id | Hashed%",_marriott_intl:{vendor_value_1:"%sessionId%",vendor_value_2:"%res_stay_length%",prop_brand_code:"%prop_brand_code%",res_stay_length:"%res_stay_length%",prop_marsha_code:"%prop_marsha_code%",res_isRedemption:"%res_isRedemption%",prop_address_city:"%prop_address_city%",res_revenue_total:"%Pinterest | Value%",res_rooms_per_night:"%res_rooms_per_night%",search_currency_type:"%search_currency_type%",search_date_check_in:"%search_date_check_in%",mr_prof_rewards_level:"%mr_prof_rewards_level%",search_date_check_out:"%search_date_check_out%",prop_address_state_abbr:"%prop_address_state_abbr%",search_destination_city:"%search_destination_city%",prop_address_country_abbr:"%prop_address_country_abbr%",res_revenue_currency_type:"%res_revenue_currency_type%",search_advance_purchase_days:"%search_advance_purchase_days%",search_destination_city_state_country:"%search_destination_city_state_country%"}},sandbox:{name:"prod"}}},lowercase_marsha_code_comma_seprated:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("search_list_marshas_on_page").replace(/;/g,",").toLowerCase()}}},advertisingOptOut:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return"optin"===_satellite.getVar("user_optin_status")?e="false":"optout"===_satellite.getVar("user_optin_status")&&(e="true"),e}}},mr_prof_member_program_level:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return void 0!==window.dataLayer&&void 0!==window.dataLayer.mr_prof_member_program_level?e=window.dataLayer.mr_prof_member_program_level:void 0!==window.dataLayer.mr_prof_member_level_abbr&&(console.log("window.dataLayer.mr_prof_member_level_abbr : "+window.dataLayer.mr_prof_member_level_abbr),e="MRD"===window.dataLayer.mr_prof_member_level_abbr?"MR:Basic":"SAC"===window.dataLayer.mr_prof_member_level_abbr?"MR:Silver":"PAC"===window.dataLayer.mr_prof_member_level_abbr?"MR:Platinum":"PPC"===window.dataLayer.mr_prof_member_level_abbr?"MR:Titanium":"PFS"===window.dataLayer.mr_prof_member_level_abbr?"MR:Ambassador":"MR:Basic"),e}}},"Group_Marsha | Marsha":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0!==dataLayer.prop_marsha_code&&""!==dataLayer.prop_marsha_code?dataLayer.prop_marsha_code:void 0!==dataLayer.group_marsha_list&&""!==dataLayer.group_marsha_list?dataLayer.group_marsha_list:""}}},search_brands:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_brands"}},promoIDsRegistered:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.promoIDsRegistered"}},mr_prof_nights_cc:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_nights_cc"}},mr_enrollment_source:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_enrollment_source"}},prop_address_city:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.prop_address_city"}},search_list_records_on_page:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_list_records_on_page"}},memState:{defaultValue:'""',cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.memState"}},order_record_locator:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.order_record_locator"}},page_url_path_branch:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.page_url_path_branch"}},"XDM | Partnerize| PageView":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{type:"Partnerize"}},marketing:{trackingCode:"%cookie_marketingCampaignTrackingData%",campaignGroup:"%cookie_Affiliate%"},_marriott_intl:{prop_name:"%prop_name%",env_site_id:"%env_site_id%",search_brands:"%res_room_nights_total%",res_num_adults:"%res_market_code%",vendor_value_1:"%selected_cluster_code%",vendor_value_2:"%search_cluster_code%",vendor_value_3:"%browser_akamai_loc_country%",prop_brand_code:"%prop_brand_code%",res_stay_length:"%res_stay_length%",prop_marsha_code:"%prop_marsha_code%",res_revenue_total:"%res_revenue_stay_total_usd_api_conversion_error_default%",res_rooms_per_night:"%res_rooms_per_night%",search_currency_type:"%Partnerize | Currency Type%",search_date_check_in:"%search_date_check_in%",mr_prof_rewards_level:"%mr_prof_rewards_level%",search_date_check_out:"%search_date_check_out%",res_confirmation_number:"%res_confirmation_number_only%",prop_address_country_abbr:"%prop_address_country_abbr%",res_revenue_currency_type:"%res_revenue_adr_rate_usd%",search_advance_purchase_days:"%search_advance_purchase_days%"}},sandbox:{name:"prod"}}},bot_cookie_info:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){for(var e="LLN97FOB=",t=decodeURIComponent(document.cookie).split(";"),a=0;a<t.length;a++){for(var r=t[a];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(e))return r.substring(e.length,r.length)}return""}}},query_string_keys:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(){function e(e){const t=e.split("?")[1];if(!t)return[];const a=t.split("&"),r=[];return a.forEach((e=>{const[t,a]=e.split("=");t&&!r.includes(t)&&r.push(t)})),r}const t=e(window.location.search),a=e(window.location.hash);return[...new Set([...t,...a])].join("|")}return e()}}},mr_cei_PmoTaste:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_cei_PmoTaste"}},session_jsession_id:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.session_jsession_id"}},deals_special_offer_id:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.deals_special_offer_id"}},isTravelAgent:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0!==_satellite.getVar("reservation_iata_number")&&""!==_satellite.getVar("reservation_iata_number")?"true":"false"}}},group_rfp_submitted:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.group_rfp_submitted"}},prop_marsha_code_lower_case:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return"undefined"!=typeof dataLayer&&void 0!==dataLayer.prop_marsha_code&&(e=dataLayer.prop_marsha_code),e}}},ci_default_arrival_time:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.ci_default_arrival_time"}},prop_brand_code:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.prop_brand_code"}},room_details:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return void 0!==_satellite.getVar("res_bed_room_type")&&(e=_satellite.getVar("res_bed_room_type")+"|"),void 0!==_satellite.getVar("res_bed_type")&&(e+=_satellite.getVar("res_bed_type")),e}}},search_multiRate_rates_available:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_multiRate_rates_available"}},mr_cei_NewMkt:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_cei_NewMkt"}},res_revenue_stay_total_usd:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_revenue_stay_total_usd"}},page_href:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"location.href"}},search_show_available_hotels:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_show_available_hotels"}},listing_id:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){return(qParser=new RegExp("&"+e+"=([^&]*)").exec(window.location.search.replace(/^\?/,"&")))?qParser[0].split("=")[1]:""}var t;return"undefined"!=typeof datalayer&&void 0!==datalayer.listing_id?t=dataLayer.listing_id:-1!=location.pathname.indexOf("/properties/")&&0==isNaN(location.pathname.split("/")[3].split("-")[0])?t=location.pathname.split("/")[3].split("-")[0]:""!==e("listing_id")&&(t=e("listing_id")),t}}},daysToCheckin:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){var t=new Date,a=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0"),n=t.getFullYear();t=r+"/"+a+"/"+n;var s=Date.parse(t),o=Date.parse(e)-s;return Math.floor(o/864e5)}function t(e,t){let a,r=e.split("/");return a=t.indexOf("JP")>-1||t.indexOf("KR")>-1||t.indexOf("CN")>-1||t.indexOf("AE")>-1?r[1]+"/"+r[2]+"/"+r[0]:r[1]+"/"+r[0]+"/"+r[2],a}var a=0,r=window.dataLayer.chckInDat,n=window.dataLayer.mr_prof_upcoming_stay_ci_date;if(void 0===n||""===n)a=0;else{n.indexOf(".")>-1&&(n=n.replaceAll(".","/"));let s=_satellite.getVar("env_site_id");void 0!==s&&""!==s&&s.indexOf("US")<0&&(n=t(n,s),console.log(n)),-1!==location.pathname.indexOf("/reservation/confirmation")?""!=r&&void 0!==r&&(a=e(r)):""!=n&&void 0!==n&&(a=e(n)),isNaN(a)&&(a=0)}return a}}},prop_earn_rewards:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.prop_earn_rewards"}},sweepstakes_form_stat:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{
path:"dataLayer.sweepstakes_form_stat"}},search_flexible_date_tab:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_flexible_date_tab"}},search_previous_destination_country:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_previous_destination_country"}},facebook_content_type:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){let e="hotel,destination",t=window.location.pathname,a=_satellite.getVar("page_referrer");return t.indexOf("/loyalty/myAccount/profile.mi")>-1&&a.indexOf("/createAccountPage1")>-1||t.indexOf("/reservation/reviewDetails.mi")>-1?e="product,hotel":t.indexOf("/loyalty/myAccount/profile.mi")>-1&&(e="hotel,destination"),e}}},prop_address_city_state_country:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.prop_address_city_state_country"}},mr_spg_account_id:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_spg_account_id"}},res_revenue_adr_rate_usd:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_revenue_adr_rate_usd"}},search_destination_lat_long:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_destination_lat_long"}},mr_id:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_id"}},prop_brand_tier:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.prop_brand_tier"}},mr_is_member:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_is_member"}},search_num_rooms:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_num_rooms"}},hooklogic_hmGUID:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?;]"+e+"=([^;#]*)").exec("?"+_satellite.getVar("page_url_query_string"));return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}var t="";return void 0!==window.dataLayer&&void 0!==_satellite.getVar("page_url_query_string")&&(t=e("hmGUID")||""),t}}},search_list_pages_total:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_list_pages_total"}},mr_prof_address_country:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_address_country"}},env_site_id:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){let e="",t=window.location.host+window.location.pathname;return e=t.indexOf("www.marriott.co.jp/reservation/confirmation.mi")>-1?"JP":t.indexOf("www.marriott.de/reservation/confirmation.mi")>-1?"DE":t.indexOf("www.marriott.co.uk/reservation/confirmation.mi")>-1?"GB":t.indexOf("www.marriott.co.kr/reservation/confirmation.mi")>-1?"KR":dataLayer.env_site_id,e}}},page_url_query_string_150_SESSION:{defaultValue:"",storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=sessionStorage.getItem("sessionQuery");return null===e&&void 0!==(e=dataLayer.page_url_query_string)&&(e=e.slice(0,150),sessionStorage.setItem("sessionQuery",e)),e}}},"res_currency_patch ":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="USD";return e=_satellite.getVar("res_revenue_currency_type")||"",null==typeof dataLayer||null!=typeof dataLayer.res_revenue_total_usd&&""!=dataLayer.res_revenue_total_usd||null!=typeof dataLayer.res_revenue_adr_rate_usd&&""!=dataLayer.res_revenue_adr_rate_usd||null!=typeof dataLayer.res_revenue_currency_type&&"USD"!=dataLayer.res_revenue_currency_type&&null!=typeof dataLayer.res_revenue_stay_total_usd&&null!=typeof dataLayer.res_revenue_total&&window.dataLayer.res_revenue_stay_total_usd==window.dataLayer.res_revenue_total&&(e=window.dataLayer.res_revenue_currency_type),e}}},einterface_blocking:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="false";return(-1!==location.pathname.indexOf("loyalty/createAccount/createAccountPage1.mi")&&-1!==document.referrer.indexOf("/einterface/hsiaAuthenticateV4.mi")||-1!==location.pathname.indexOf("loyalty/createAccount/createAccountPage1.mi")&&-1!==location.search.indexOf("enrollmentSourceCode=MRPI"))&&(e="true"),-1===location.pathname.indexOf("einterface/hsiaAuthenticateV4.mi")&&-1===location.pathname.indexOf("marriott/internet-access/termsofuse.mi")||(e="true"),e}}},search_type:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_type"}},mrshaCode:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return"undefined"!=typeof dataLayer&&void 0!==dataLayer.prop_marsha_code&&(e=dataLayer.prop_marsha_code.toUpperCase()),e}}},mr_prof_nights_lifetime:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_nights_lifetime"}},contact_subtopic:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.contact_subtopic"}},res_change_type:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_change_type"}},mr_pref_pillow:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_pref_pillow"}},server_id_scrape:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return"undefined"!=_satellite.getVar("env_server_id")&&""!=_satellite.getVar("env_server_id")?e=_satellite.getVar("env_server_id"):document.querySelector(".js-session-detail")&&(e=document.querySelector(".js-session-detail").innerText.split(",")[0]),e}}},res_rate_total_count:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_rate_total_count"}},search_date_check_out_ymd:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return _satellite.getVar("search_date_check_out"),checkIn&&(e=checkIn.match(/\d{4}/)+"-"+checkIn.match(/\d{2}/g)[0]+"-"+checkIn.match(/\d{2}/g)[1]),e}}},hotelLoc:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.hotelLoc"}},env_onetrust_cookie_selection:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){_satellite.logger.info("onetrustCookie variable is true and OptananConsent cookie exists");var t={},a=decodeURIComponent(_satellite.cookie.get("OptanonConsent")).split("&");if(a){for(var r=0;r<a.length;r++){var n=a[r].split("=");t[n[0].trim()]=n[1].trim()}t.groups.includes("4:1")?e="Advertising cookies":t.groups.includes("3:1")?e="Functional cookies":t.groups.includes("1:1")&&(e="Required cookies")}return e}var t="";if(void 0!==window.onetrustCookie&&"true"!==window.onetrustCookie){_satellite.logger.info("onetrustCookie variable exists and is false");var a=["AU","AT","BE","BR","BG","CN","CO","HR","CZ","DK","EE","FI","FR","DE","GR","HU","IS","IE","IL","IT","LV","LI","LT","LU","MT","NL","NO","PH","PL","PT","CY","RO","RU","SP","SK","SI","KR","ES","SE","CH","GB","UA"],r=dataLayer.browser_akamai_loc_country?dataLayer.browser_akamai_loc_country:"undefined"!=typeof OneTrust?OneTrust.getGeolocationData().country:"";t=null!=r&&""!=r&&a.indexOf(r)>-1?"Default Cookie Opt-out":"Default Cookie Opt-in"}else if(void 0!==_satellite.cookie.get("OptanonConsent"))if(_satellite.cookie.get("OptanonConsent").indexOf("groups")>-1)t=e(t);else{let a=setInterval((function(){_satellite.cookie.get("OptanonConsent"),usersCountry=_satellite.getVar("browser_akamai_loc_country"),_satellite.cookie.get("OptanonConsent").indexOf("groups")>-1&&(console.log("DNAT-3835 groups value exists"),clearInterval(a),e(t))}),100)}return t}}},mr_prof_cc_all:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_cc_all"}},prop_marsha_code:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return"undefined"!=typeof dataLayer&&void 0!==dataLayer.prop_marsha_code&&(e="object"!=typeof dataLayer.prop_marsha_code?dataLayer.prop_marsha_code.toUpperCase():dataLayer.prop_marsha_code),e}}},affiliate_parameter:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(){if("undefined"!==window.location.search){var e=window.location.search.replace(/&amp;/g,"&").replace(/\?/g,"").split("&"),t={};return e.forEach((function(e){e=e.split("="),t[e[0].toLowerCase()]=decodeURIComponent(e[1]||"")})),JSON.parse(JSON.stringify(t))}return{}}var t=e();return void 0!==t.pid||void 0!==t.affname?"true":"false"}}},Glassbox_sessionID:{cleanText:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"_cls_s"}},page_referrer:{defaultValue:"",modulePath:"core/src/lib/dataElements/pageInfo.js",settings:{attribute:"referrer"}},search_destination_city:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_destination_city"}},ci_sms_optin:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.ci_sms_optin"}},is_weekend_stay:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0!==dataLayer.search_is_weekend_stay&&dataLayer.search_is_weekend_stay.includes("Weekend")?"Yes":"No"}}},user_optin_status_analytics:{defaultValue:"optout",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(){function e(e){for(var t=e+"=",a=document.cookie.split(";"),r=0;r<a.length;r++){for(var n=a[r];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(t))return n.substring(t.length,n.length)}return null}let r="optin",n=_satellite.cookie.get("OptanonConsent");if(void 0!==_satellite.getVar("overideOptOut")&&"true"==_satellite.getVar("overideOptOut"))return r="optin",_satellite.setVar("overideOptOut","false"),r;if(null!=n&&n.indexOf("groups")>-1){_satellite.logger.warn("OptanonConsent COOKIE EXISTS: "+_satellite.cookie.get("OptanonConsent"));for(var o={},i=decodeURIComponent(e("OptanonConsent")).split("&"),c=0;c<i.length;c++){var l=i[c].split("=");o[l[0].trim()]=l[1].trim()}return o.groups&&o.groups.indexOf("6:0")>-1?(s.abort=!0,r="optout"):r="optin",_satellite.logger.warn("OptanonConsent from cookie: "+r),r}return 1==a.includes(t)?(_satellite.logger.warn("OptanonConsent cookie none, GDPR country default"),r="optout",r):(_satellite.logger.warn("OptanonConsent cookie none, non-GDPR country default optin"),r="optin",r)}var t=""!==_satellite.getVar("browser_akamai_loc_country")?_satellite.getVar("browser_akamai_loc_country"):"";_satellite.logger.warn("OptanonConsent: country set");var a=["AU","AT","BE","BR","BG","CN","CO","HR","CZ","DK","EE","FI","FR","DE","GR","HU","IS","IE","IL","IT","LV","LI","LT","LU","MT","NL","NO","PH","PL","PT","CY","RO","RU","SP","SK","SI","KR","ES","SE","CH","GB","UA","UK"];return e()}}},mr_prof_address_city_state_country:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return""!==_satellite.getVar("mr_prof_authentication_state")&&"authenticated"===_satellite.getVar("mr_prof_authentication_state")&&(e=_satellite.getVar("mr_prof_address_city")+"|"+_satellite.getVar("mr_prof_address_state_abbr")+"|"+_satellite.getVar("mr_prof_address_country_abbr")),e}}},prop_address_state_name:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.prop_address_state_name"}},mr_nights_to_next_level:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_nights_to_next_level"}},group_hws_promos:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.group_hws_promos"}},mr_nights_booked_promo:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_nights_booked_promo"}},contact_topic:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.contact_topic"}},mr_pref_bed:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_pref_bed"}},check_out:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return"undefined"!=typeof tmParam&&(e=tmParam.check_out),e}}},Medallia_scalequestion_CES:{cleanText:!0,storageDuration:"session",modulePath:"medallia-for-adobe-launch/lib/dataElements/scale-question.js",settings:{medallia_question_internal_name:"216644"}},res_rate_lowest_standard:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_rate_lowest_standard"}},prop_name:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.prop_name"}},env_jacket:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.env_jacket"}},hashed_email:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.ue"}},"Facebook Checkin":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return new Date(dataLayer.chckInDat),n.toISOString().substring(0,10)}}},bonusNights:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.bonusNights"}},res_revenue_total:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_revenue_total"}},mr_nights_booked_this_year:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_nights_booked_this_year"}},prop_internet_mac:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.prop_internet_mac"}},employee_stay_flag:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.employee_stay_flag"}},items_on_purchase:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return[{id:_satellite.getVar("prop_marsha_code"),name:_satellite.getVar("prop_name"),brand:_satellite.getVar("prop_brand_name"),category:"Select",quantity:_satellite.getVar("res_rooms_per_night"),price:_satellite.getVar("res_revenue_total")}]}}},search_impression_criteria2:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_impression_criteria2"}},mr_prof_nights_event:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_nights_event"}},pts_total_points_purchase:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.pts_total_points_purchase"}},rk_errorMessage:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.rk_errorMessage"}},cookie_Affiliate:{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"Affiliate"}},search_destination_type:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_destination_type"}},fullURL:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return document.URL}}},suppressedRpcCodes:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"mvpOffers.suppressedRpcCodes"}},mr_cei_SttValSeg:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_cei_SttValSeg"}},search_result_position_selected:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_result_position_selected"}},rk_roomKeyBaseURL:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.rk_roomKeyBaseURL"}},env_server_id:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.env_server_id"}},"search_date_check_out_mm-dd-yyy":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return new Date(dataLayer.search_date_check_out).toISOString().substring(0,10)}}},search_is_rewards_redemption:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_is_rewards_redemption"}},ci_parking_option:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.ci_parking_option"}},search_day_check_in:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_day_check_in"}},selected_cluster_code:{cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.selected_cluster_code"}},browser_akamai_loc_state:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.browser_akamai_loc_state"}},Medallia_formtype:{modulePath:"medallia-for-adobe-launch/lib/dataElements/form-type.js",settings:{}},res_total_points_for_stay:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_total_points_for_stay"}},res_payment_type:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_payment_type"}},error_info:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.error_info"}},rolloverNights:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.rolloverNights"}},search_num_children:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_num_children"}},prop_bathrooms:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.prop_bathrooms"}},env_site_name:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.env_site_name"}},cookie_merchViewed:{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"merchViewed"}},mr_prof_nights_promotional:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_nights_promotional"}},site_id:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return void 0!==window.dataLayer&&(e=dataLayer.env_site_id||""),e}}},mr_prof_join_date:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_join_date"}},res_revenue_patch:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return e=_satellite.getVar("res_revenue_stay_total_usd")||"",null==typeof dataLayer||null!=typeof dataLayer.res_revenue_total_usd&&""!=dataLayer.res_revenue_total_usd||null!=typeof dataLayer.res_revenue_adr_rate_usd&&""!=dataLayer.res_revenue_adr_rate_usd||null!=typeof dataLayer.res_revenue_currency_type&&"USD"!=dataLayer.res_revenue_currency_type&&null!=typeof dataLayer.res_revenue_stay_total_usd&&null!=typeof dataLayer.res_revenue_total&&_satellite.getVar("res_revenue_stay_total_usd")==_satellite.getVar("res_revenue_total")&&(e=_satellite.getVar("res_revenue_total")),e}}},group_revenue_total_usd:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.group_revenue_total_usd"}},isRewardRedemption:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.isRewardRedemption"}},"dataLayer.mr_id_alternate":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_id_alternate"}},"Currency Code":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return void 0!==window.dataLayer&&void 0!==window.dataLayer.res_revenue_currency_type&&(e=window.dataLayer.res_revenue_currency_type),e}}},search_is_weekend_stay:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_is_weekend_stay"}},res_rate_is_member_rate:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_rate_is_member_rate"}},reservation_iata_number:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=dataLayer.reservation_iata_number;return"TR"==_satellite.getVar("env_site_id")&&"68350066"==e?e="68351135":"PL"==_satellite.getVar("env_site_id")&&"68350066"==e&&(e="68351134"),e}}},search_destination_country:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_destination_country"}},mr_nights_booked_lifetime:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_nights_booked_lifetime"}},miRecentlyViewedProperties:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="false";return null!==window.localStorage.getItem("miRecentlyViewedProperties")&&(e="true",e=(e=(e=JSON.parse(window.localStorage.miRecentlyViewedProperties).recentlyViewedProperties[0].imageUrl.length>0?"true|true":"true|false")+"|"+JSON.parse(window.localStorage.miRecentlyViewedProperties).recentlyViewedProperties[0].marshaBrandCode)+"|"+JSON.parse(window.localStorage.miRecentlyViewedProperties).recentlyViewedProperties[0].marshaCode),e}}},page_requested_uri:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.page_requested_uri"}},specialMessage:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"mvpOffers.specialMessage"}},pts_total_points_rev:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=dataLayer.pts_total_points_rev;return e.indexOf(",")>1&&(e=e.replace(",","")),e}}},"mr_prof_join_date|daysSinceJoining":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){let e="";return void 0!==dataLayer.mr_prof_join_date&&(e=_satellite.getVar("mr_prof_join_date")+"|"+_satellite.getVar("daysSinceJoining")),e}}},mr_pref_refrig:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_pref_refrig"}},res_revenue_stay_total_adr_api_conversion_error_default:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=""!=_satellite.getVar("res_revenue_stay_total_usd")?_satellite.getVar("res_revenue_stay_total_usd"):0,t=75,a=_satellite.getVar("brndCode"),r=""!==_satellite.getVar("res_room_nights_total")?_satellite.getVar("res_room_nights_total"):0,n=new Map([["AR",200],["AL",159],["AK",322],["BG",1815],["XE",82],["CY",171],["DE",169],["DS",298],["EB",580],["EL",175],["ER",193],["FI",137],["FP",138],["GE",331],["JW",330],["MD",226],["LC",429],["FS",240],["MV",290],["OX",181],["PR",101],["BR",241],["RI",188],["RZ",623],["SI",217],["SH",158],["XR",631],["TS",140],["TX",225],["WH",381],["WI",278]]);return"undefined"==typeof dataLayer||void 0!==dataLayer.res_revenue_total_usd&&""!=dataLayer.res_revenue_total_usd||void 0!==dataLayer.res_revenue_adr_rate_usd&&""!=dataLayer.res_revenue_adr_rate_usd||void 0!==dataLayer.res_revenue_currency_type&&"USD"!=dataLayer.res_revenue_currency_type&&void 0!==dataLayer.res_revenue_stay_total_usd&&void 0!==dataLayer.res_revenue_total&&window.dataLayer.res_revenue_stay_total_usd==window.dataLayer.res_revenue_total&&(n.has(a)&&(t=n.get(a)),e=t),e/r>5e3&&(n.has(a)&&(t=n.get(a)),e=t),e}}},prof_partner_code:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.prof_partner_code"}},prop_hws_tier:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.prop_hws_tier"}},is_res_revenue_334_default:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("/reservation/confirmation.mi"===_satellite.getVar("page_pathname"))return void 0===_satellite.getVar("res_revenue_total")||0==_satellite.getVar("res_revenue_total")?"Rev_Value_334_True":"Rev_Value_334_false"}}},weekend_travel_flag:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.weekend_travel_flag"}},search_rate_code:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_rate_code"}},"EF - Third Party Data Object":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){let e,t=window.thirdPartyData;return e=void 0===t?{}:t,e}}},Glassbox_visitorID:{cleanText:!0,storageDuration:"visitor",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"_cls_v"}},oneTrust_language:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"OneTrust.GetDomainData().Language.Culture"}},res_bed_room_type:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_bed_room_type"}},Credit_Card_Compare_List:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(){const e=window.location.search,t=new URLSearchParams(e);let a=[];return t.forEach(((e,t)=>{t.includes("card")&&a.push(e)})),a.join("|")}let t;return void 0!==e()&&(t=e()),t}}},start_date_single:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.start_date_single"}},cookie_mi_visitor:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.cookie_mi_visitor"}},calculateMonth:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return{"01":"January","02":"February","03":"March","04":"April","05":"May","06":"June","07":"July","08":"August","09":"September",10:"October",11:"November",12:"December"}[_satellite.getVar("queryParams_month")]}}},"XDM.Analytics.PageView.BaseObject":{modulePath:"adobe-alloy/dist/lib/dataElements/variable/index.js",settings:{cacheId:"d22c90db-e9ff-4c4b-a648-9341e2366987",dataElementId:"DE4c84fa83d96743bf83a7f33c42f25b69"}},res_number_guest:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_number_guest"}},search_keyword:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_keyword"}},env_img_path:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.env_img_path"}},mr_prof_rewards_level:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_rewards_level"}},mr_pref_room:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_pref_room"}},items_on_view_item_list:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return[{id:dataLayer.search_list_marshas_on_page.split(";")}]}}},promotion_id_7day:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";if(null!==localStorage.getItem("promotion_view_7day")){var t=new Date(localStorage.getItem("promotion_view_7day").split("|")[1]);((new Date).getTime()-t.getTime())/864e5<7&&(e=localStorage.getItem("promotion_view_7day").split("|")[0])}return e}}},mr_prof_stay_in_progress_MARSHA:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_stay_in_progress_MARSHA"}},"Resort Property CEI":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return void 0!==window.dataLayer&&void 0!==window.dataLayer.mr_cei_ResProp&&(e=window.dataLayer.mr_cei_ResProp),e}}},mr_prof_stay_in_progress_city:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_stay_in_progress_city"}},prop_brand_name:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.prop_brand_name"}},page_data_layer_ready:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.page_data_layer_ready"}},search_date_check_in:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_date_check_in"}},search_filter_selection:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";if("object"==typeof dataLayer.search_filter_selection)try{e=JSON.stringify(dataLayer.search_filter_selection).replace(/{|}|"/g,"")}catch(t){e=""}else try{e=dataLayer.search_filter_selection}catch(t){e=""}return e}}},mr_cei_PurBrand:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_cei_PurBrand"}},"Rate Program":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return void 0!==window.dataLayer&&void 0!==window.dataLayer.res_rate_program&&(e=window.dataLayer.res_rate_program),e}}},mr_id_alternate:{defaultValue:"",modulePath:"data-element-assistant/src/lib/dataElements/sequence.js",settings:{inputTypes:["dataelement","dataelement"],dataElementIds:["%dataLayer.mr_id_alternate%","%acid%"]}},salesForceDataLayer:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.GetCookieValue=function(e){var t,a,r=document.cookie.split(";");for(t=0;t<r.length;t++)if(a=r[t].substr(0,r[t].indexOf("=")),val=r[t].substr(r[t].indexOf("=")+1),(a=a.replace(/^\s+|\s+$/g,""))===e)return val;return""},window.SetCookieValue=function(e,t,a,r){r=r||window.location.hostname,t=decodeURIComponent(t+"").replace(/(<([^>]+)>)/gi,""),document.cookie=e+"="+t+(a?";expires="+a:"")+";path=/;domain="+r+";path=/"},{deviceType:{get:function(){return-1==_satellite.getVar("device_detector").indexOf("not exist")?_satellite.getVar("device_detector"):""}},authenticated:{get:function(){return"object"==typeof window.dataLayer&&window.dataLayer.mr_prof_authentication_state||""}},country:{get:function(){return"object"==typeof window.dataLayer&&window.dataLayer.browser_akamai_loc_country||""}},fromHWS:{get:function(){return"object"==typeof window.dataLayer&&window.dataLayer.search_source_hws||""}},groupMarshaList:{get:function(){return"object"==typeof window.dataLayer&&window.dataLayer.group_marsha_list||""}},sessionId:{get:function(){return"object"==typeof window.dataLayer&&window.dataLayer.sessionId||""}},firstName:{get:function(){return"object"==typeof window.dataLayer&&window.dataLayer.mr_prof_name_first||""}},lastName:{get:function(){return"object"==typeof window.dataLayer&&window.dataLayer.mr_prof_name_last||""}},email:{get:function(){return"object"==typeof window.dataLayer&&window.dataLayer.mr_prof_primary_email_addrs||""}},fullName:{get:function(){return"object"==typeof window.dataLayer&&window.dataLayer.mr_prof_name_full||""}},pageUrlPathBranch:{get:function(){return"object"==typeof window.dataLayer&&window.dataLayer.page_url_path_branch||""}},rewardsNumber:{get:function(){return"object"==typeof window.dataLayer&&window.dataLayer.mr_id||""}},rewardsLevel:{get:function(){return"object"==typeof window.dataLayer&&window.dataLayer.mr_prof_rewards_level||""}},guestCountry:{get:function(){return"object"==typeof window.dataLayer&&window.dataLayer.res_guest_address_country_abbr||""}},MARSHA:{get:function(){
return"object"==typeof window.dataLayer&&window.dataLayer.prop_marsha_code||""}},propBrandName:{get:function(){return"object"==typeof window.dataLayer&&window.dataLayer.prop_brand_name||""}},postalCode:{get:function(){return"object"==typeof window.dataLayer&&window.dataLayer.mr_prof_address_postal_code||""}},checkInDate:{get:function(){return"object"==typeof window.dataLayer&&window.dataLayer.search_date_check_in||""}},searchDestination:{get:function(){return"object"==typeof window.dataLayer&&window.dataLayer.search_destination_city_state_country||""}},searchCriteria:{get:function(){var e=[],t=parseInt("object"==typeof window.dataLayer&&window.dataLayer.numRooms||""),a=parseInt("object"==typeof window.dataLayer&&window.dataLayer.search_guests_per_room||"");""!==("object"==typeof window.dataLayer&&window.dataLayer.search_cluster_code||"")&&e.push("CLUSTER_CODE != none"),isNaN(t)||1===t||e.push("NUMBER_OF_ROOMS != 1"),isNaN(a)||1===a||e.push("NUMBER_OF_GUESTPERROOMS != 1");var r=document.getElementById("useRewardsPoints");return null!==r&&r.checked&&e.push("USE_REWARD_POINTS=true"),e.join(";")}},checkOutDate:{get:function(){return"object"==typeof window.dataLayer&&window.dataLayer.search_date_check_out||""}},confirmationNumber:{get:function(){return"object"==typeof window.dataLayer&&window.dataLayer.res_confirmation_number||""}},promoCode:{get:function(){return"object"==typeof window.hdVars&&window.hdVars.hd_corporateCode||""}},topic:{get:function(){if("/marriott/contact"===window.dataLayer.page_url_path_branch){var e=document.getElementById("topic");if(null!==e)return e.value||""}return""}},pageTitle:{get:function(){return document.title}},clusterCode:{get:function(){return"object"==typeof window.dataLayer&&window.dataLayer.search_cluster_code||""}},numberOfGuestsPerRoom:{get:function(){return"object"==typeof window.dataLayer&&window.dataLayer.search_number_guest||""}},numberOfRooms:{get:function(){return"object"==typeof window.dataLayer&&window.dataLayer.numRooms||""}},previousPage:{get:function(){return"object"==typeof window.dataLayer&&window.dataLayer.previous_page||""}},errorMessage:{get:function(){var e="",t=document.getElementById("error-messages");return null!==t&&(e=(t.innerText||t.textContent||"").replace(/^\s+|\s$/g,"")),e}},pageViews:{get:function(){var e,t=window.GetCookieValue("rpViews"),a=(e=window.location.pathname.split("/"))[e.length-1]||"";if(console.log(t+"1"),console.log(a+"2"),""!==t){var r=JSON.parse(t),n=""!==a&&a.indexOf(".mi")>-1?parseInt(r[a]):0;if(console.log(r+"4"),console.log(t+"5"),console.log(n+"3"),""===a||isNaN(n))return window.__rpViewCookieSet||(r[a]=1,window.SetCookieValue("rpViews",JSON.stringify(r)),window.__rpViewCookieSet=!0),1;if(window.__rpViewCookieSet)return n;var s=n+1;return r[a]=s,window.SetCookieValue("rpViews",JSON.stringify(r)),window.__rpViewCookieSet=!0,s}return window.__rpViewCookieSet||((r={})[a]=1,window.SetCookieValue("rpViews",JSON.stringify(r)),window.__rpViewCookieSet=!0),1}}}}}},pagename:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return location.hostname+location.pathname}}},ci_arrival_time:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.ci_arrival_time"}},mr_prof_upcoming_stay:{cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_upcoming_stay"}},res_stay_nights:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_stay_length"}},check_in:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return"undefined"!=typeof tmParam&&(e=tmParam.check_in),e}}},prop_rewards_earn_points_participant:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.prop_rewards_earn_points_participant"}},rk_clusterCode:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.rk_clusterCode"}},mr_prof_preferred_program:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_preferred_program"}},cookie_segmentID:{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"segmentId"}},mr_prof_pref_accessible:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_pref_accessible"}},res_rooms_per_night:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_rooms_per_night"}},user_agent:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return navigator.userAgent}}},res_freenights_nights:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_freenights_nights"}},messaging_upsell_display_count:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.messaging_upsell_display_count"}},search_source_hws:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_source_hws"}},mvpOffers_source:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.mvpOffers&&window.mvpOffers.source?window.mvpOffers.source:""}}},search_guests_per_room:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_guests_per_room"}},mr_prof_earning_pref:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_earning_pref"}},Medallia_feedbackuuid:{cleanText:!0,storageDuration:"session",modulePath:"medallia-for-adobe-launch/lib/dataElements/feedback-uuid.js",settings:{}},"Pinterest | External Id | Hashed":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){let e="",t=_satellite.getVar("sessionId");return void 0!==t&&""!==t&&(e=mart.hashSha256(t)),e}}},search_currency_type:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_currency_type"}},ci_submitted_arrival_time:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.ci_submitted_arrival_time"}},ci_submitted_parking_selection:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.ci_submitted_parking_selection"}},res_rate_program:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_rate_program"}},contact_prop_marsha_code:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.contact_prop_marsha_code"}},mr_cei_ResMkt:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_cei_ResMkt"}},prop_base_rate:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.prop_base_rate"}},"Pinterest | Value":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){let e="";return void 0!==_satellite.getVar("res_revenue_total_locale")&&""!==_satellite.getVar("res_revenue_total_locale")&&0!==_satellite.getVar("res_revenue_total_locale")?e=_satellite.getVar("res_revenue_total_locale"):void 0!==_satellite.getVar("res_isRedemption")&&1==_satellite.getVar("res_isRedemption")||void 0!==_satellite.getVar("res_revenue_stay_total_usd")&&""!==_satellite.getVar("res_revenue_stay_total_usd")?e=_satellite.getVar("res_revenue_stay_total_usd"):void 0!==_satellite.getVar("res_revenue_stay_total_usd_api_conversion_error_default")&&""!==_satellite.getVar("res_revenue_stay_total_usd_api_conversion_error_default")&&0!==_satellite.getVar("res_revenue_stay_total_usd_api_conversion_error_default")&&(e=_satellite.getVar("res_revenue_stay_total_usd_api_conversion_error_default")),e}}},res_confirmation_number_only:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return void 0!==window.dataLayer&&void 0!==window.dataLayer.res_confirmation_number&&(e=window.dataLayer.res_confirmation_number.length>10?(window.dataLayer.res_confirmation_number||"").toString().slice(-8):window.dataLayer.res_confirmation_number),e}}},res_fnatopoff_points:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_fna_points"}},GuestInfo_inLang_Form_Input:{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"inLang",caseInsensitive:!0}},at_property:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="c72849c6-2a3c-8a3b-bf17-94885baf8879";return"DE"===dataLayer.env_site_id&&"false"===dataLayer.env_is_prod?e="4353f5be-67e7-0c90-adaa-25acad1caeb5":"DE"===dataLayer.env_site_id&&"true"===dataLayer.env_is_prod?e="29d3a038-a1a0-764f-ce18-1d8e982119b5":"FR"===dataLayer.env_site_id&&"false"===dataLayer.env_is_prod?e="d6cd3157-7fd9-88d7-2bce-5ebcfb282e40":"FR"===dataLayer.env_site_id&&"true"===dataLayer.env_is_prod?e="5a97b514-7476-07c1-f33d-4931ac773623":"RU"===dataLayer.env_site_id&&"false"===dataLayer.env_is_prod?e="2aeb8eec-755a-c5ee-7b1e-f13e4b45af0d":"RU"===dataLayer.env_site_id&&"true"===dataLayer.env_is_prod?e="3d18e31d-03e1-4442-4bd9-67d867537836":"GB"===dataLayer.env_site_id&&"false"===dataLayer.env_is_prod?e="e9d05ac2-6c5a-cac5-908f-39f88f3b5901":"GB"===dataLayer.env_site_id&&"true"===dataLayer.env_is_prod?e="9ff2ad6d-b427-54a5-7b9e-30161c2f5448":"PT"===dataLayer.env_site_id&&"false"===dataLayer.env_is_prod?e="89984a21-43a3-bb73-0d7f-ec8414a68fe4":"PT"===dataLayer.env_site_id&&"true"===dataLayer.env_is_prod?e="0a71d1a9-72cb-11b8-8ef5-e084df67677a":"AE"===dataLayer.env_site_id&&"false"===dataLayer.env_is_prod?e="e8a74708-8b5f-7ae4-c3c7-1e9ec97f59e9":"AE"===dataLayer.env_site_id&&"true"===dataLayer.env_is_prod?e="e82845cc-608b-3988-3738-6d94a31f25c3":"AU"===dataLayer.env_site_id&&"false"===dataLayer.env_is_prod?e="fc491d6a-bc39-4204-9941-c9381c6a3365":"AU"===dataLayer.env_site_id&&"true"===dataLayer.env_is_prod?e="c0edb9b7-d075-63d7-18ff-ab1ef2bca415":"CN"===dataLayer.env_site_id&&"false"===dataLayer.env_is_prod?e="3c4b8866-4641-e2f7-3fe1-c7752fb5a698":"CN"===dataLayer.env_site_id&&"true"===dataLayer.env_is_prod?e="c67fd1da-c6c4-5cc8-b0d0-d046748b752a":"KR"===dataLayer.env_site_id&&"false"===dataLayer.env_is_prod?e="822e9584-31f2-fbd9-d3d8-5b9ab9aedba5":"KR"===dataLayer.env_site_id&&"true"===dataLayer.env_is_prod?e="ea5b4ebb-8abb-1094-15c3-6b11e5eb260b":"JP"===dataLayer.env_site_id&&"false"===dataLayer.env_is_prod?e="ca911cbd-a824-da2d-b2d6-a3ce8fc631cb":"JP"===dataLayer.env_site_id&&"true"===dataLayer.env_is_prod?e="8d6245e6-0c72-f153-bcf5-dfdc1258a8dd":"BR"===dataLayer.env_site_id&&"false"===dataLayer.env_is_prod?e="d8594878-a7f0-a616-d5d4-4c089fc1834f":"BR"===dataLayer.env_site_id&&"true"===dataLayer.env_is_prod?e="6188f3d9-3d5e-7766-55fd-a6e5720a3a93":"IT"===dataLayer.env_site_id&&"false"===dataLayer.env_is_prod?e="5753a520-f532-5f0b-1409-d0bd6e5f63b6":"IT"===dataLayer.env_site_id&&"true"===dataLayer.env_is_prod&&(e="3941ba71-530a-e7e9-c608-4a33f0e15889"),e}}},campaign_scid:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(){for(var e,t=[],a=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),r=0;r<a.length;r++)e=a[r].split("="),t.push(e[0]),t[e[0]]=e[1];return t}var t=e().scID||e().SCID||e().scid||e().SCid;return""===t&&(t=s.Util.getQueryParam("scid")||queryStringCheck("scid")),t}}},"Pinterest | Event ID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){let e="page_view",t=location.pathname;return-1!=t.indexOf("/search/findHotels.mi")?e="search":-1!=t.indexOf("/hotels/")&&"undefined"!=typeof dataLayer&&void 0!==dataLayer.mr_prof_authentication_state?e="custom":-1!=t.indexOf("/reservation/reviewDetails.mi")?e="addToCart":-1!=t.indexOf("/reservation/rateListMenu.mi")&&"undefined"!=typeof dataLayer&&void 0!==dataLayer.mr_prof_authentication_state?e="custom":-1!=t.indexOf("/reservation/confirmation.mi")?(e="checkout",void 0!==_satellite.getVar("res_revenue_adr_total_locale")&&""!==_satellite.getVar("res_revenue_adr_total_locale")&&0!==_satellite.getVar("res_revenue_adr_total_locale")?value=_satellite.getVar("res_revenue_adr_total_locale"):void 0!==_satellite.getVar("res_isRedemption")&&1==_satellite.getVar("res_isRedemption")&&(value=_satellite.getVar("res_revenue_stay_total_usd"))):document.referrer.includes("/loyalty/createAccount/createAccountPage1")&&_satellite.getVar("page_pathname").includes("/loyalty/myAccount/profile.mi")||"true"==_satellite.getVar("mr_enrolled")&&_satellite.getVar("page_pathname").includes("/reservation/confirmation.mi")?e="viewcategory":document.referrer.includes("/loyalty/createAccount/sweepstakes/createAccountPage")&&_satellite.getVar("page_pathname").includes("/loyalty/sweepstakes/TSTheErasTour.mi")||document.referrer.includes("/loyalty/createAccount/sweepstakes/createAccountPageSubmit")&&_satellite.getVar("page_pathname").includes("/loyalty/sweepstakes/TSTheErasTour.mi")?e="watchvideo":_satellite.getVar("page_pathname").includes("/meetings-events/")&&(_satellite.getVar("page_pathname").includes("/search/find-hotels.mi")&&(console.log("Inside new pinterest code for search"),e="Search"),_satellite.getVar("page_pathname").includes("/rfp/event-profile.mi")&&(e="Profile"),_satellite.getVar("page_pathname").includes("/rfp/event-contact.mi")&&(e="Contact"),_satellite.getVar("page_pathname").includes("/rfp/event-details.mi")&&(e="AddToCart"),(_satellite.getVar("page_pathname").includes("/rfp/submitted.mi")||_satellite.getVar("page_pathname").includes("/meetings-events/rfp/event-info-submitted.mi"))&&(e="lead")),e}}},mr_cei_SttBhvSeg:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_cei_SttBhvSeg"}},res_revenue_total_adr:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_revenue_total_adr"}},previous_page:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.previous_page"}},isReloaded:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"performance.navigation.type"}},res_pointsadvance_nights:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_pointsadvance_nights"}},mr_prof_authentication_state:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_authentication_state"}},promoIDsEligible:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.promoIDsEligible"}},mr_pref_floor:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_pref_floor"}},iscid:{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"iscid",caseInsensitive:!0}},Items_gtag_10969336942:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return[{id:_satellite.getVar("prop_marsha_code"),start_date:_satellite.getVar("search_date_check_in_yyyy-mm-dd"),end_date:_satellite.getVar("search_date_check_out_yyyy-mm-dd")}]}}},search_criteria:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_criteria"}},ota_res_details:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.ota_res_details"}},request_id:{defaultValue:'""',cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.request_id"}},mr_prof_nights_booked_this_year:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_nights_booked_this_year"}},res_rate_grouping:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_rate_grouping"}},brndCode:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.brndCode"}},"Brand Code":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return window.dataLayer.prop_brand_code||window.dataLayer.brandCode}catch(e){}}}},mr_prof_cc_instant_credit_booking:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_cc_instant_credit_booking"}},env_error_message:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.env_error_message"}},res_guest_address_country_abbr:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_guest_address_country_abbr"}},numRooms:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.numRooms"}},res_num_children:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_num_children"}},search_num_adults:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_num_adults"}},pts_confirmation_number:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.pts_confirmation_number"}},Items_gtag_729495270:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return[{id:_satellite.getVar("prop_marsha_code"),start_date:_satellite.getVar("search_date_check_in_yyyy-mm-dd"),end_date:_satellite.getVar("search_date_check_out_yyyy-mm-dd")}]}}},roomkey_api_key:{defaultValue:'""',modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.roomkey_api_key"}},sessionId:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.sessionId"}},res_rate_section_display:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_rate_section_display"}},res_revenue_stay_total_adr:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return 0==_satellite.getVar("res_revenue_stay_total_usd")?334:_satellite.getVar("res_revenue_stay_total_usd")}}},member_and_non_member_rates:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{let e=document.getElementsByClassName("room-rate"),t=document.getElementsByClassName("rate-name"),a=document.getElementsByClassName("room-rate-wrapper")[0].getElementsByClassName("rate-details"),r="",n="",s="",o="",i="";if(a.length>1&&(n=e[0].textContent.trim(),s=t[0].textContent,o=e[1].textContent.trim(),i=t[1].textContent,n=n.replace(",",""),o=o.replace(",",""),n!=o))return tmp=parseFloat(n)/parseFloat(o)*100,percent=Math.round(100-tmp),r=s+":"+n.trim()+"|"+i+":"+o.trim()+"|"+percent+"%",r}catch(e){_satellite.logger.log("Error from member_and_non_member_rates data element : "+e.message)}}}},"Hotel Division":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(dataLayer.prop_address_country_abbr){var e="AW*BS*BB*BO*BR*CA*KY*CL*CO*CR*CW*DO*EC*SV*GT*GY*HT*HN*JM*MX*PA*PE*PR*KN*SR*TT*US*VE*VI*VG*BQ*AR*PY*CU*",t="AU*AZ*HK*KH*CN*FJ*IN*ID*JP*KZ*NO*MY*NP*PK*PH*SG*KR*LK*TW*TH*VN*AM*PF*MV*BD*BT*MM*",a="AM*AT*BY*BE*BA*CZ*DK*EE*FR*GE*DE*GR*HU*IE*IT*LT*MK*NL*NO*PL*PT*RO*RU*RS*ES*SE*CH*GB*SK*",r="DZ*BH*EG*ET*GH*IL*JO*KW*LY*MW*MA*NA*NG*OM*QA*RW*SA*ZA*TZ*TR*UG*AE*ZM*SC*ML*MU*",n="",s="";return s=dataLayer.prop_address_country_abbr.toUpperCase(),e.indexOf(s)>-1?n="AMERICAS":t.indexOf(s)>-1?n="ASIA-PACIFIC":a.indexOf(s)>-1?n="EUROPE":r.indexOf(s)>-1&&(n="MIDDLE EAST-AFRICA"),n}}}},search_number_guest:{defaultValue:'""',cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_number_guest"}},"XDM | Pinterest | Data":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){let e="page_view",t="";void 0!==_satellite.getVar("res_revenue_adr_total_locale")&&""!==_satellite.getVar("res_revenue_adr_total_locale")&&0!==_satellite.getVar("res_revenue_adr_total_locale")?t=_satellite.getVar("res_revenue_adr_total_locale"):void 0!==_satellite.getVar("res_isRedemption")&&1==_satellite.getVar("res_isRedemption")&&(t=_satellite.getVar("res_revenue_stay_total_usd"));let a='\'["product","hotel"]\'',r=location.pathname;-1!=r.indexOf("/search/findHotels.mi")?e="search":-1!=r.indexOf("/hotels/")&&"undefined"!=typeof dataLayer&&void 0!==dataLayer.mr_prof_authentication_state?e="custom":-1!=r.indexOf("/reservation/reviewDetails.mi")||-1!=r.indexOf("/reservation/reviewguestinformation")?(e="addToCart",a=_satellite.getVar("res_revenue_total_locale")):-1!=r.indexOf("/reservation/rateListMenu.mi")&&"undefined"!=typeof dataLayer&&void 0!==dataLayer.mr_prof_authentication_state?e="custom":-1!=r.indexOf("/reservation/confirmation.mi")&&(e="checkout",a=_satellite.getVar("res_revenue_total_locale"));let n={event_name:{}};return n.event_name=e,n.searchQuery={},n.searchQuery=a,n.value={},n.value=t,console.log("XDM | Pinterest | Data = "+JSON.stringify(n)),console.table([JSON.stringify(n)]),n}}},search_map_engagement:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_map_engagement"}},cookie_personalization_guid:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.cookie_personalization_guid"}},cookie_stay_in_progress:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.cookie_stay_in_progress"}},res_market_code:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_market_code"}},confirmation_detail:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"ROOM;"+_satellite.getVar("prop_marsha_code")+";"+_satellite.getVar("res_room_nights_total")+";"+_satellite.getVar("res_revenue_stay_total_usd")+";event31="+_satellite.getVar("res_rooms_per_night")}}},coBrandControlGroup:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"mvpOffers.coBrandControlGroup"}},search_google_places_destination:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_google_places_destination"}},"Partnerize | Currency Type":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){let e=_satellite.getVar("res_revenue_currency_type (PATCH)"),t=_satellite.getVar("res_revenue_stay_total_adr_api_conversion_error_default")*_satellite.getVar("res_room_nights_total");return void 0!==t&&""!==t&&(e="USD"),e}}},res_market_prefix:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_market_prefix"}},prop_bedrooms:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.prop_bedrooms"}},mr_prof_saved_prop:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_saved_prop"}},search_previous_destination_state:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_previous_destination_state"}},acid:{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"acid",caseInsensitive:!0}},"City State Country":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return void 0!==window.dataLayer&&void 0!==window.dataLayer.prop_address_city_state_country&&(e=window.dataLayer.prop_address_city_state_country),e}}},prop_inquire_submitted:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.prop_inquire_submitted"}},air_destination:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.air_destination"}},"Advance Purchase Window":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){const t=new Date,a=new Date(e).getTime()-t.getTime();return Math.ceil(a/864e5)}var t="";return window.dataLayer&&(t=window.dataLayer.search_advance_purchase_days?window.dataLayer.search_advance_purchase_days:window.dataLayer.analytics_booking_pace?window.dataLayer.analytics_booking_pace:e(_satellite.getVar("search_date_check_in"))),t}}},mr_login_state:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_login_state"}},search_multiRate_rate_selected:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_multiRate_rate_selected"}},search_number_guests:{defaultValue:'""',cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_number_guests"}},mr_prof_gender:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_gender"}},mr_prof_customer_assocations:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_customer_assocations"}},mr_pref_bed_type:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_pref_bed_type"}},"search_date_check_in_yyyy-mm-dd":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return"undefined"!=typeof dataLayer&&void 0!==dataLayer.search_date_check_in&&(e=new Date(dataLayer.search_date_check_in).toISOString().substring(0,10)),e}}},search_rate_types:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_rate_types"}},mr_cei_PurProp:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_cei_PurProp"}},res_cash_points_mix_nights:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_cash_points_mix_nights"}},chckOutDate:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.chckOutDate"}},prop_address_state_abbr:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.prop_address_state_abbr"}},form_prearrival_questions_complete:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.form_prearrival_questions_complete"}},page_domain_name:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.page_domain_name"}},group_promo_props:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.group_promo_props"}},ci_default_parking_selection:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.ci_default_parking_selection"}},roomkey_lead_id:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.roomkey_lead_id"}},res_market_prefix_target:{storageDuration:"session",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_market_prefix"}},"Search Term Query String":{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"term",caseInsensitive:!0}},gclid_query:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?;]"+e+"=([^;#]*)").exec("?"+_satellite.getVar("page_url_query_string"));return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}function t(e){var t=RegExp(e+"=.[^;]*"),a=document.cookie.match(t);return!!a&&a[0].split("=")[1]}var a="";return void 0!==window.dataLayer&&void 0!==_satellite.getVar("page_url_query_string")&&(a=e("gclid")||""),""===a&&(a=t("gclid")),a}}},MARSHA:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return"undefined"!=typeof dataLayer&&void 0!==dataLayer.prop_marsha_code&&(e=dataLayer.prop_marsha_code.toUpperCase()),e}}},group_contract_type:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.group_contract_type"}},mr_register_for_promo:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_register_for_promo"}},mr_prof_stay_in_progress:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_stay_in_progress"}},search_date_check_in_day_of_week:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_date_check_in_day_of_week"}},promo_special_offer_id:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.promo_special_offer_id"}},mr_pref_accessibiity:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_pref_accessibiity"}},device_language_preferred:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.device_language_preferred"}},res_fna_nights:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_FNA_nights"}},mr_prof_nights_to_next_level:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_nights_to_next_level"}},planner_submitted:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.planner_submitted"}},firstTimeUserCopy:{defaultValue:"newVisitor",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"OptanonConsent"}},booking_stage:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"/reservation/reviewDetails.mi"===_satellite.getVar("page_pathname")?"Review Details":"/reservation/rateListMenu.mi"===_satellite.getVar("page_pathname")?"Ratelist Menu":"Guest info"}}},mr_prof_ic_approved:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_ic_approved"}},updatedrecentlyViewed:{modulePath:"core/src/lib/dataElements/localStorage.js",settings:{name:"updatedRecentlyViewedProperties"}},search_results_view:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_results_view"}},"search_date_check_in_mm-dd-yyy":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return new Date(dataLayer.search_date_check_in).toISOString().substring(0,10)}}},env_api_tile_error_info:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.env_api_tile_error_info"}},group_room_attendee_count:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){let e=0,t=dataLayer.group_room_attendee_count;return void 0!==t&&null!=t&&""!=t&&(e=t),e}}},"Loyalty Missing Stay":{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"Loyalty Missing Stay Request Submitted"}},res_guest_address_postal_code:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_guest_address_postal_code"}},search_list_setting_sort_order:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_list_setting_sort_order"}},prof_address_state:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.prof_address_state"}},mr_cei_ObjAcqCC:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_cei_ObjAcqCC"}},cacheBuster:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return 1e16*Math.random()}}},"Facebook checkOut":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{
source:function(){return new Date(dataLayer.chckOutDate),n.toISOString().substring(0,10)}}},mr_spg_level:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_spg_level"}},roomkey_api_version:{defaultValue:'""',modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.roomkey_api_version"}},group_qg_submission_type:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.group_qg_submission_type"}},mr_prof_upcoming_stay_city:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_upcoming_stay_city"}},rk_cList:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"datalayer.rk_cList"}},updates_search_call_counter:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.updates_search_call_counter"}},mr_prof_upcoming_stay_MARSHA:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_upcoming_stay_MARSHA"}},group_search_marsha_promotion:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.group_search_marsha_promotion"}},search_hotel_availability:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_hotel_availability"}},mr_prof_member_level_abbr:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_member_level_abbr"}},rnb_outlet_id:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.rnb_outlet_id"}},browser_akamai_loc_lat:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.browser_akamai_loc_lat"}},partnerize_event_id:{storageDuration:"pageview",modulePath:"adobe-alloy/dist/lib/dataElements/eventMergeId/index.js",settings:{cacheId:"28ca667e-61fb-4e2a-8af6-06ad7b683be3"}},campaign_code:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(){if("undefined"!=typeof dataLayer&&void 0!==dataLayer.page_url_query_string){var e=dataLayer.page_url_query_string.replace(/&amp;/g,"&").split("&"),t={};return e.forEach((function(e){e=e.split("="),t[e[0].toLowerCase()]=decodeURIComponent(e[1]||"")})),JSON.parse(JSON.stringify(t))}return{}}function t(e){return void 0!==r[e.toLowerCase()]?r[e.toLowerCase()]:""}var a="",r=e();if("undefined"!=typeof s){var n=s.Util.getQueryParam("mktcmp")||t("mktcmp"),o=s.Util.getQueryParam("ck")||t("ck"),c=s.Util.getQueryParam("nck")||s.Util.getQueryParam("nCK")||t("nck"),l=s.Util.getQueryParam("lk")||t("lk"),d=s.Util.getQueryParam("aff")||t("aff"),u=s.Util.getQueryParam("affname")||t("affname"),m=s.Util.getQueryParam("co")||t("co"),p=s.Util.getQueryParam("nt")||t("nt"),f=s.Util.getQueryParam("pcamp")||t("pcamp"),g=s.Util.getQueryParam("app")||t("app"),h=s.Util.getQueryParam("vsretype")||t("vsretype"),v=s.Util.getQueryParam("vsrebrand")||t("vsrebrand"),_=s.Util.getQueryParam("vsremarsha")||t("vsremarsha"),b=s.Util.getQueryParam("scid")||t("scid"),y=s.Util.getQueryParam("vsresect")||t("vsresect"),P=s.Util.getQueryParam("vsrelink")||t("vsrelink"),k=s.Util.getQueryParam("aid")||t("aid");if(void 0!==n&&n&&(a="mktcmp="+n),void 0!==o&&o&&(a="ck="+o+";nck="+c+";lk="+l),void 0!==d&&d&&(a="aff="+d+";affname="+u),void 0!==d&&d&&void 0!==m&&m&&void 0!==p&&p&&(a="aff="+d+";affname="+u+";co="+m+";nt="+p),void 0!==f&&f&&(a="pcamp="+f),void 0!==h&&h&&(a="vsretype="+h+";vsresect="+y+";vsrelink="+P+";vsrebrand="+v+";vsremarsha="+_),void 0!==g&&g&&(a="app="+g),void 0!==b&&b&&(a=b),(void 0===b||!b)&&"undefined"!=typeof dataLayer&&void 0!==dataLayer.page_url_query_string&&-1!==dataLayer.page_url_query_string.toLowerCase().indexOf("scid")){var C=dataLayer.page_url_query_string.split("&amp;"),j={},w=[];for(i=0;i<C.length;i++)j[(w=C[i].split("="))[0].toLowerCase()]=w[1];j.scid&&(a=j.scid)}if(void 0!==k&&k&&((sURI.match("marriott.it")||sURI.match("booking.marriott.it"))&&(k=k.substring(0,k.indexOf(";"))),s.returnVal="aid="+k),void 0!==n&&n&&(a="mktcmp="+n),void 0!==o&&o&&(a="ck="+o+";nck="+c+";lk="+l),void 0!==d&&d&&(a="aff="+d+";affname="+u),void 0!==d&&d&&void 0!==m&&m&&void 0!==p&&p&&(a="aff="+d+";affname="+u+";co="+m+";nt="+p),void 0!==f&&f&&(a="pcamp="+f),void 0!==h&&h&&(a="vsretype="+h+";vsresect="+y+";vsrelink="+P+";vsrebrand="+v+";vsremarsha="+_),void 0!==g&&g&&(a="app="+g),void 0!==b&&b&&(a=b),(void 0===b||!b)&&"undefined"!=typeof dataLayer&&void 0!==dataLayer.page_url_query_string&&-1!==dataLayer.page_url_query_string.toLowerCase().indexOf("scid")){for(C=dataLayer.page_url_query_string.split("&amp;"),j={},w=[],i=0;i<C.length;i++)j[(w=C[i].split("="))[0].toLowerCase()]=w[1];j.scid&&(a=j.scid)}void 0!==k&&k&&((sURI.match("marriott.it")||sURI.match("booking.marriott.it"))&&(k=k.substring(0,k.indexOf(";"))),s.returnVal="aid="+k)}return a}}},prop_hws_bread_crumb:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.prop_hws_bread_crumb"}},fb_fbc:{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"_fbc"}},mr_prof_nights_to_renew_current:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_nights_to_renew_current"}},mr_prof_saved_prop_count:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_saved_prop_count"}},env_language:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.env_language"}},mr_prof_stays_lifetime:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_stays_lifetime"}},rk_isAssociate:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.rk_isAssociate"}},user_optin_status:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(){function e(e){for(var t=e+"=",a=document.cookie.split(";"),r=0;r<a.length;r++){for(var n=a[r];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(t))return n.substring(t.length,n.length)}return null}var r="",n="";if(null!=_satellite.cookie.get("OptanonConsent")){for(var s={},o=decodeURIComponent(e("OptanonConsent")).split("&"),i=0;i<o.length;i++){var c=o[i].split("=");s[c[0].trim()]=c[1].trim()}n=s.groups&&-1!=s.groups.indexOf("4:0")?0:2}else n=void 0!==window.dataLayer&&""!==t&&-1!==a.indexOf(t)?0:2;return r=2!=n?"optout":"optin",_satellite.getVar("Adobe Pagename"),-1===location.pathname.indexOf("reservation/creditCardInfo.mi")&&-1===location.pathname.indexOf("reservation/creditCardInfoReviewDetails.mi")&&-1===document.referrer.indexOf("reservation/creditCardInfo.mi")&&-1===document.referrer.indexOf("reservation/creditCardInfoReviewDetails.mi")||(r="optout",window.eInterfaceBlock="block"),(-1!==location.pathname.indexOf("loyalty/createAccount/createAccountPage1.mi")&&-1!==document.referrer.indexOf("/einterface/hsiaAuthenticateV4.mi")||-1!==location.pathname.indexOf("loyalty/createAccount/createAccountPage1.mi")&&-1!==location.search.indexOf("enrollmentSourceCode=MRPI"))&&(r="optout",window.eInterfaceBlock="block"),-1===location.pathname.indexOf("einterface/hsiaAuthenticateV4.mi")&&-1===location.pathname.indexOf("marriott/internet-access/termsofuse.mi")&&-1===location.pathname.indexOf("/reslink/")||(r="optout",window.eInterfaceBlock="block"),-1!==location.hostname.indexOf("engage.marriott.com")&&(r="optout",window.eInterfaceBlock="block"),r}var t=""!==_satellite.getVar("browser_akamai_loc_country")?_satellite.getVar("browser_akamai_loc_country"):"";_satellite.getVar("browser_optin_tracking_status");var a=["AU","AT","BE","BR","BG","CN","CO","HR","CZ","DK","EE","FI","FR","DE","GR","HU","IS","IE","IL","IT","LV","LI","LT","LU","MT","NL","NO","PH","PL","PT","CY","RO","RU","SP","SK","SI","KR","ES","SE","CH","GB","UA","UK"];return _satellite.getVar("page_url_query_string"),e()}}},report_suite_id:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="marriottglobal";return-1!==location.hostname.indexOf("engage.marriott")?e="production"==_satellite.buildInfo.environment?"marriottengage":"marriottengagestage":"production"!==_satellite.buildInfo.environment&&(e="marriottglobaldev"),e}}},air_ffn:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.air_ffn"}},mr_prof_upcoming_stay_co_date:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_upcoming_stay_co_date"}},mr_cei_PurActvty:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_cei_PurActvty"}},res_confirmation_number:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_confirmation_number"}},env_is_prod:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.env_is_prod"}},search_multiRate_lowest_rate:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_multiRate_lowest_rate"}},product_vendor:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.product_vendor"}},res_points_nights:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_points_nights"}},search_date_type:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return null!==document.getElementById("staydates")&&1==document.getElementById("staydates").innerText.includes("Flexible")?"Fexible Dates":dataLayer.search_date_type}}},search_multiRate_or_single:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_multiRate_or_single"}},mr_id_alternate_filtered:{modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"[A-F0-9]{33}\\.[A-Z0-9]{2}",method:"regex matching",output:"%mr_id_alternate%"},1:{input:".+",method:"regex",output:"Invalid ACID Formatting"},2:{input:"N/A",method:"exact match",output:"Invalid ACID Formatting"},3:{input:"null",method:"exact match",output:"Invalid ACID Formatting"},4:{input:"undefined",method:"exact match",output:"Invalid ACID Formatting"},5:{input:"%",method:"contains",output:"Invalid ACID Formatting"},size:6,dataElement:"%mr_id_alternate%",defaultValueEmpty:!0}},res_cancellation_number:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_cancellation_number"}},res_revenue_stay_total_usd_default:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=new Map([[AR_AM,155],[AR_AP,42],[AR_EMEA,123],[AR_AMERICAS,143],[AL_AM,129],[AL_AP,68],[AL_EMEA,97],[AL_AMERICAS,113],[AK_AM,223],[AK_AP,150],[AK_EMEA,216],[AK_AMERICAS,217],[CY_AM,127],[CY_AP,83],[CY_EMEA,117],[CY_AMERICAS,123],[DE_AM,122],[DE_AP,60],[DE_EMEA,121],[DE_AMERICAS,121],[DS_AM,284],[DS_AP,125],[DS_EMEA,212],[DS_AMERICAS,218],[EB_AM,457],[EB_AP,238],[EB_EMEA,350],[EB_AMERICAS,362],[EL_AM,155],[EL_AP,42],[EL_EMEA,123],[EL_AMERICAS,143],[FI_AM,155],[FI_AP,42],[FI_EMEA,123],[FI_AMERICAS,143],[FP_AM,155],[FP_AP,42],[FP_EMEA,123],[FP_AMERICAS,143],[JW_AM,55],[JW_AP,42],[JW_EMEA,123],[JW_AMERICAS,143],[MD_AM,155],[MD_AP,42],[MD_EMEA,123],[MD_AMERICAS,143],[LC_AM,155],[LC_AP,42],[LC_EMEA,123],[LC_AMERICAS,143],[MC_AM,155],[MC_AP,42],[MC_EMEA,123],[MC_AMERICAS,143],[MV_AM,155],[MV_AP,42],[MV_EMEA,123],[MV_AMERICAS,143],[OX_AM,155],[OX_AP,42],[OX_EMEA,123],[OX_AMERICAS,143],[BR_AM,155],[BR_AP,42],[BR_EMEA,123],[BR_AMERICAS,143],[RI_AM,155],[RI_AP,42],[RI_EMEA,123],[RI_AMERICAS,143],[RZ_AM,155],[RZ_AP,42],[RZ_EMEA,123],[RZ_AMERICAS,143],[SI_AM,155],[SI_AP,42],[SI_EMEA,123],[SI_AMERICAS,143],[SH_AM,155],[SH_AP,42],[SH_EMEA,123],[SH_AMERICAS,143],[XR_AM,155],[XR_AP,42],[XR_EMEA,123],[XR_AMERICAS,143],[TS_AM,155],[TS_AP,42],[TS_EMEA,123],[TS_AMERICAS,143],[WH_AM,155],[WH_AP,42],[WH_EMEA,123],[WH_AMERICAS,143],[WI_AM,155],[WI_AP,42],[WI_EMEA,123],[WI_AMERICAS,143],[BG_AM,0],[BG_AP,626],[BG_EMEA,1057],[BG_AMERICAS,858],[ER_AM,110],[ER_AP,106],[ER_EMEA,177],[ER_AMERICAS,133],[GE_AM,217],[GE_AP,0],[GE_EMEA,0],[GE_AMERICAS,217],[PR_AM,0],[PR_AP,0],[PR_EMEA,91],[PR_AMERICAS,91],[ZC_AM,16],[ZC_AP,0],[ZC_EMEA,0],[ZC_AMERICAS,16],[TX_AM,16],[TX_AP,0],[TX_EMEA,0],[TX_AMERICAS,16]]),t=334,a=_satellite.getVar("brndCode")+"_"+_satellite.getVar("Hotel Division");return e.has(a)&&(t=e.get(a)),t}}},brand_points:{storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){console.log("dataPoints")}}},mr_prof_email_exists:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_email_exists"}},recent_searches:{modulePath:"core/src/lib/dataElements/localStorage.js",settings:{name:"recent_searches"}},search_number_of_rates_submitted:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_number_of_rates_submitted"}},search_impression_criteria3:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_impression_criteria3"}},res_trip_purpose_selected:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_trip_purpose_selected"}},salesforceDisplay:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.location.hostname.toLowerCase().indexOf("engage")>-1?"false":"true"}}},mr_prof_address_state:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_address_state"}},checkMarsha:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){dataLayer.mrshaCode}}},prearrival_form_added_to_plan:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.prearrival_form_added_to_plan"}},currency_conversion_status:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return void 0!==_satellite.getVar("res_revenue_currency_type")&&"USD"!=_satellite.getVar("res_revenue_currency_type")&&void 0!==_satellite.getVar("res_revenue_stay_total_usd")&&void 0!==_satellite.getVar("res_revenue_total")&&(e=_satellite.getVar("res_revenue_stay_total_usd")===_satellite.getVar("res_revenue_total")?"fail":"success"),e}}},group_check_in:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.group_check_in"}},ga_client_id:{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"_ga"}},"res_revenue_currency_type (PATCH)":{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_revenue_currency_type"}},prop_is_ers:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.prop_is_ers"}},Test_items:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return[{id:"LASPR1",list:"map view"},{id:"LASPR2",list:"map view"},{id:"LASPR3",list:"map view"},{id:"LASPR4",list:"map view"},{id:"LASPR5",list:"map view"}]}}},group_event_type:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.group_event_type"}},"dataLayer.loginEventDetails":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.loginEventDetails"}},mr_pref_feather_free:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_pref_feather_free"}},rk_isProfileAuthenticated:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.rk_isProfileAuthenticated"}},env_error_code:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.env_error_code"}},search_dates_flexible:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_dates_flexible"}},res_offerId:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_offerId"}},daysSinceJoining:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if("authenticated"==dataLayer.mr_prof_authentication_state){var e=dataLayer.mr_prof_join_date.replaceAll("-","/"),t=new Date(e),a=new Date,r=Math.round(a-t),n=Math.ceil(r/864e5);if(!1===isNaN(n))return n.toString()}}catch(e){}}}},user_optin_status_functional:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(){function e(e){for(var t=e+"=",a=document.cookie.split(";"),r=0;r<a.length;r++){for(var n=a[r];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(t))return n.substring(t.length,n.length)}return null}let r="optin",n=_satellite.cookie.get("OptanonConsent");if(void 0!==_satellite.getVar("overideOptOut")&&"true"==_satellite.getVar("overideOptOut"))return r="optin",_satellite.setVar("overideOptOut","false"),r;if(null!=n&&n.indexOf("groups")>-1){for(var o={},i=decodeURIComponent(e("OptanonConsent")).split("&"),c=0;c<i.length;c++){var l=i[c].split("=");o[l[0].trim()]=l[1].trim()}return o.groups&&o.groups.indexOf("3:0")>-1?(s.abort=!0,r="optout"):r="optin",_satellite.logger.warn("Functional OptanonConsent from cookie: "+r),r}return 1==a.includes(t)?(_satellite.logger.warn("Functional OptanonConsent cookie none, GDPR country default"),r="optout",r):(_satellite.logger.warn("Functional OptanonConsent cookie none, non-GDPR country default optin"),r="optin",r)}var t=""!==_satellite.getVar("browser_akamai_loc_country")?_satellite.getVar("browser_akamai_loc_country"):"",a=["AU","AT","BE","BR","BG","CN","CO","HR","CZ","DK","EE","FI","FR","DE","GR","HU","IS","IE","IL","IT","LV","LI","LT","LU","MT","NL","NO","PH","PL","PT","CY","RO","RU","SP","SK","SI","KR","ES","SE","CH","GB","UA","UK"];return e()}}},"Guest Room Photos":{defaultValue:"",modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"Guest Room Photos"}},res_cash_points_mix:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return dataLayer.res_cash_points_mix}}},user_country:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"__INITIAL_PROPS__.layout.contexts.global.page.data.query.headers.viewerCountry"}},"Room Nights":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return"undefined"!=typeof dataLayer&&dataLayer.res_room_nights_total?e=dataLayer.res_room_nights_total:"undefined"!=typeof dataLayer&&dataLayer.search_date_check_in&&dataLayer.search_date_check_out&&("Invalid Date"==new Date(dataLayer.search_date_check_in)&&dataLayer.search_date_check_in.match(/\d\d\/\d\d/i)?dateIn=dataLayer.search_date_check_in.split("/")[1]+"/"+dataLayer.search_date_check_in.split("/")[0]+"/"+dataLayer.search_date_check_in.split("/")[2]:dateIn=dataLayer.search_date_check_in,"Invalid Date"==new Date(dataLayer.search_date_check_out)&&dataLayer.search_date_check_out.match(/\d\d\/\d\d/i)?dateOut=dataLayer.search_date_check_out.split("/")[1]+"/"+dataLayer.search_date_check_out.split("/")[0]+"/"+dataLayer.search_date_check_out.split("/")[2]:dateOut=dataLayer.search_date_check_out,e=Number((new Date(dateOut)-new Date(dateIn))/1e3/3600/24)*dataLayer.res_rooms_per_night),e}}},package_type:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.package_type"}},search_res_path_type:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_res_path_type"}},mr_prof_points_balance:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_points_balance"}},prop_currency_type:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.prop_currency_type"}},CheckCookieEXISTs:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),r=0;r<a.length;r++){for(var n=a[r];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return""}var t="false",a=e("PHX_BOOK_SST_TRACKING");return null!=a&&(t="true"),t}}},search_criteria_filter_selected_ids:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_criteria_filter_selected_ids"}},"Cookie_ Book_no Password":{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"PHX_BOOK_SST_TRACKING"}},mbox3rdPartyId:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return"undefined"!=typeof dataLayer&&void 0!==dataLayer.mr_id_alternate&&void 0!==dataLayer.mr_prof_authentication_state&&"authenticated"==dataLayer.mr_prof_authentication_state&&(e=dataLayer.mr_id_alternate),e}}},res_revenue_currency_type:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_revenue_currency_type"}},res_revenue_stay_total_usd_api_conversion_error_default:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=""!=_satellite.getVar("res_revenue_stay_total_usd")?_satellite.getVar("res_revenue_stay_total_usd"):0,t=75,a=_satellite.getVar("brndCode"),r=""!==_satellite.getVar("res_room_nights_total")?_satellite.getVar("res_room_nights_total"):1,n=new Map([["AR",200],["AL",159],["AK",322],["BG",1815],["XE",82],["CY",171],["DE",169],["DS",298],["EB",580],["EL",175],["ER",193],["FI",137],["FP",138],["GE",331],["JW",330],["MD",226],["LC",429],["FS",240],["MV",290],["OX",181],["PR",101],["BR",241],["RI",188],["RZ",623],["SI",217],["SH",158],["XR",631],["TS",140],["TX",225],["WH",381],["WI",278]]);return"undefined"==typeof dataLayer||void 0!==dataLayer.res_revenue_total_usd&&""!=dataLayer.res_revenue_total_usd||void 0!==dataLayer.res_revenue_adr_rate_usd&&""!=dataLayer.res_revenue_adr_rate_usd||void 0!==dataLayer.res_revenue_currency_type&&"USD"!=dataLayer.res_revenue_currency_type&&void 0!==dataLayer.res_revenue_stay_total_usd&&void 0!==dataLayer.res_revenue_total&&window.dataLayer.res_revenue_stay_total_usd==window.dataLayer.res_revenue_total&&(n.has(a)&&(t=n.get(a)),e=r*t),e/r>5e3&&(n.has(a)&&(t=n.get(a)),e=r*t),e}}},browser_akamai_loc_long:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.browser_akamai_loc_long"}},mr_cei_NerMkt:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"datalayer.mr_cei_NerMkt"}},env_onetrust_language:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return OneTrust?.GetDomainData()?.Language?.Culture||document.getElementById("onetrust-pc-sdk").getAttribute("lang")}catch(e){return document.querySelector("html").getAttribute("lang")}}}},launch_property:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"_satellite.property"}},mr_pref_newspaper:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_pref_newspaper"}},mr_prof_stay_in_progress_hotel:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_stay_in_progress_hotel"}},res_revenue_total_usd_facebook:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return 0==_satellite.getVar("res_revenue_total_usd")?334:_satellite.getVar("res_revenue_total_usd")}}},"de_dup cookie":{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"Ddup"}},canBuyPoints:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("Points"===dataLayer.res_cash_points_mix){var e,t,a=parseFloat(dataLayer.res_total_points_for_stay.replace(/,/g,"")),r=parseFloat(dataLayer.mr_prof_points_balance.replace(/,/g,""));return t=(e=a-r)>0&&e<=1e5?"true":"false",console.log(a),console.log(r),console.log(e),console.log(t),t}}}},search_day_check_out:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_day_check_out"}},mr_pref_priority:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_pref_priority"}},search_advance_purchase_days:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return void 0!==window.dataLayer&&void 0!==dataLayer.search_advance_purchase_days&&(e=window.dataLayer.search_advance_purchase_days.toString()||""),e?e.replace(/\-1/g,""):""}}},cookie_mi_site:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.cookie_mi_site"}},mr_prof_address_city:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_address_city"}},group_check_out:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.group_check_out"}},air_origin:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.air_origin"}},Medallia_scalequestion_ITR:{cleanText:!0,storageDuration:"session",modulePath:"medallia-for-adobe-launch/lib/dataElements/scale-question.js",settings:{medallia_question_internal_name:"q_bp_digital_ltr_scale10"}},rpcCode:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"mvpOffers.rpcCode"}},mr_prof_upcoming_stay_ci_date:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_upcoming_stay_ci_date"}},mr_id_alternate_authenticated:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return"undefined"!=typeof dataLayer&&void 0!==dataLayer.mr_id_alternate&&void 0!==dataLayer.mr_prof_authentication_state&&"authenticated"==dataLayer.mr_prof_authentication_state&&(e=dataLayer.mr_id_alternate),e}}},prop_address_lat_long:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.prop_address_lat_long"}},"Hotel Photos":{defaultValue:"",modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"Guest Room Photos"}},queryParams_month:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"month",caseInsensitive:!0}},group_error_type:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.group_error_type"}},group_marsha_list:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.group_marsha_list"}},site_language:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="en";try{e=location.pathname.split("/")[1]}catch(e){}return e}}},ota_flag:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.ota_flag"}},search_list_records_total:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_list_records_total"}},housekeeping_conf:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=dataLayer.conf_service_default,t=dataLayer.conf_service_plan,a=dataLayer.conf_service_type;if(1==e&&(e="1"),0==e&&(e="0"),e&&t&&a)return e+":"+t+":"+a}}},mr_isLinkedUser:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_isLinkedUser"}},res_room_nights_total:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_room_nights_total"}},group_search_options:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.group_search_options"}},search_list_number_of_page:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_list_number_of_page"}},mr_prof_third_party_code:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_third_party_code"}},search_number_rooms:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="",t={};return"undefined"!=typeof dataLayer&&void 0!==dataLayer.search_criteria&&void 0!==window.jQuery&&window.jQuery.each(dataLayer.search_criteria.split(";"),(function(a,r){t[r.split("=")[0]]=r.split("=")[1],e=t.NUMBER_OF_ROOMS})),e}}},mr_prof_address_state_abbr:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_prof_address_state_abbr"}},env_platform:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.env_platform"}},"Search Country":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return void 0!==window.dataLayer&&void 0!==window.dataLayer.search_destination_country&&(e=window.dataLayer.search_destination_country),e}}},mr_nights_to_renew:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.mr_nights_to_renew"}},search_date_check_out:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.search_date_check_out"}},page_type:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.page_type"}},Medallia_formid:{cleanText:!0,modulePath:"medallia-for-adobe-launch/lib/dataElements/form-id.js",settings:{}},promo_mvp_offerID:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.promo_mvp_offerID"}},ak_sgnl:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return ak_sgnl}catch(e){return}}}},res_room_rate_tab:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.res_room_rate_tab"}},browser_akamai_loc_country:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){let e="";if("undefined"!=typeof dataLayer){let t=dataLayer.browser_akamai_loc_country;void 0!==t&&""!==t&&(e=t)}return e}}}},extensions:{"medallia-for-adobe-launch":{displayName:"Medallia for Adobe Launch",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPcc347eb08ac24aa08b6ef636b08d3508/",settings:{dataIsolation:!1},modules:{"medallia-for-adobe-launch/lib/dataElements/event-name.js":{name:"event-name",displayName:"Event Name",script:function(e,t,a,r){"use strict";e.exports=function(e,t){var a=(void 0===t?{}:t).eventData,n="Event_Name";return r.getExtensionSettings().dataIsolation?a?a[n]:null:sessionStorage.getItem(n)}}},"medallia-for-adobe-launch/lib/dataElements/scale-question.js":{name:"scale-question",displayName:"Scale question",script:function(e,t,a,r){"use strict";e.exports=function(e,t){var a=(void 0===t?{}:t).eventData,n=r.getExtensionSettings(),s=e.medallia_question_internal_name||"",o=null;return"0"===(o=n.dataIsolation?a?a[s]:"":sessionStorage.getItem(s))||0===o?"zero":o}}},"medallia-for-adobe-launch/lib/dataElements/form-type.js":{name:"form-type",displayName:"Form Type",script:function(e,t,a,r){"use strict";e.exports=function(e,t){var a=(void 0===t?{}:t).eventData,n="Form_Type";return r.getExtensionSettings().dataIsolation?a?a[n]:null:sessionStorage.getItem(n)}}},"medallia-for-adobe-launch/lib/dataElements/feedback-uuid.js":{name:"feedback-uuid",displayName:"Feedback UUID",script:function(e,t,a,r){"use strict";e.exports=function(e,t){var a=(void 0===t?{}:t).eventData,n="Feedback_UUID"
;return r.getExtensionSettings().dataIsolation?a?a[n]:null:sessionStorage.getItem(n)}}},"medallia-for-adobe-launch/lib/dataElements/form-id.js":{name:"form-id",displayName:"Form Id",script:function(e,t,a,r){"use strict";e.exports=function(e,t){var a=(void 0===t?{}:t).eventData,n="Form_ID";return r.getExtensionSettings().dataIsolation?a?a[n]:null:sessionStorage.getItem(n)}}},"medallia-for-adobe-launch/lib/events/form-next-page.js":{name:"form-next-page",displayName:"Form Next Page",script:function(e,t,a){"use strict";e.exports=function(e,t){a("../shared/events-generator")({eventName:"MDigital_Form_Next_Page",sessionStorageValue:"Form Next Page",trigger:t})}}},"medallia-for-adobe-launch/lib/events/survey-completed.js":{name:"survey-completed",displayName:"Survey Completed",script:function(e,t,a){"use strict";e.exports=function(e,t){a("../shared/events-generator")({eventName:"MDigital_Submit_Feedback",sessionStorageValue:"Survey Completed",trigger:t})}}},"medallia-for-adobe-launch/lib/events/form-displayed.js":{name:"form-displayed",displayName:"Form Displayed",script:function(e,t,a){"use strict";e.exports=function(e,t){a("../shared/events-generator")({eventName:"MDigital_Form_Displayed",sessionStorageValue:"Form Displayed",trigger:t})}}},"medallia-for-adobe-launch/lib/events/survey-abandoned.js":{name:"survey-abandoned",displayName:"Survey Abandoned",script:function(e,t,a){"use strict";e.exports=function(e,t){a("../shared/events-generator")({eventName:"MDigital_Form_Close_No_Submit",sessionStorageValue:"Survey Abandoned",trigger:t})}}},"medallia-for-adobe-launch/lib/shared/events-generator.js":{script:function(e,t,a,r){"use strict";e.exports=function(e){var t=e.eventName,a=e.sessionStorageValue,n=e.trigger;window.addEventListener(t,(function(e){var t=r.getExtensionSettings().dataIsolation,s=e.detail,o={};if(t?o.Event_Name=a:sessionStorage.setItem("Event_Name",a),s){var i=function(e){var a=s[e],r="",n="";"Content"===e&&a?a.forEach((function(e){(e.value||0===e.value)&&(r=e.unique_name,n=e.value)})):(r=e,n=a),t?o[r]=n:sessionStorage.setItem(r,n)};for(var c in s)i(c);n({eventData:o})}}))}}}}},"adobe-alloy":{displayName:"Adobe Experience Platform Web SDK",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP94e8a1fa8c014ff5ab3d1579625cdc72/",settings:{instances:[{name:"alloy",edgeDomain:"smetrics.marriott.com",edgeConfigId:"fc3e0e50-e21d-4233-8cc2-eb8d0be2e254",onBeforeEventSend:function(e){window.xdmp=window.xdmp||[],window.xdmp.push(e)},stagingEdgeConfigId:"deb29300-1341-438e-8dd9-aa7047452421",clickCollectionEnabled:!1,targetMigrationEnabled:!0,developmentEdgeConfigId:"bae763ba-2063-4206-911e-8859cc82ced4"}]},modules:{"adobe-alloy/dist/lib/dataElements/eventMergeId/index.js":{name:"event-merge-id",displayName:"Event merge ID",script:function(e,t,a){"use strict";var r=a("./createEventMergeId"),n=a("../../instanceManager/index"),s=a("../../index").eventMergeIdCache;e.exports=r({instanceManager:n,eventMergeIdCache:s})}},"adobe-alloy/dist/lib/dataElements/xdmObject/index.js":{name:"xdm-object",displayName:"XDM object",script:function(e){"use strict";e.exports=function(e){return e.data}}},"adobe-alloy/dist/lib/dataElements/variable/index.js":{name:"variable",displayName:"Variable",script:function(e,t,a){"use strict";var r=a("../../index").variableStore;e.exports=function(e){return r[e.dataElementId]||{}}}},"adobe-alloy/dist/lib/actions/sendEvent/index.js":{name:"send-event",displayName:"Send event",script:function(e,t,a,r){"use strict";var n,s=a("./createSendEvent"),o=a("../../instanceManager/index"),i=a("../../index").sendEventCallbackStorage,c=a("../../utils/createGetConfigOverrides");e.exports=s({instanceManager:o,sendEventCallbackStorage:i,getConfigOverrides:c(null===(n=r.environment)||void 0===n?void 0:n.stage)})}},"adobe-alloy/dist/lib/instanceManager/index.js":{script:function(e,t,a,r){"use strict";var n,s=a("../alloy"),o=s.createInstance,i=s.createEventMergeId,c=a("./createInstanceManager"),l=a("./injectWrapOnBeforeEventSend"),d=a("../utils/createGetConfigOverrides"),u=l({version:"2.27.0"});e.exports=c({turbine:r,window:window,createInstance:o,createEventMergeId:i,orgId:_satellite.company.orgId,wrapOnBeforeEventSend:u,getConfigOverrides:d(null===(n=r.environment)||void 0===n?void 0:n.stage)})}},"adobe-alloy/dist/lib/dataElements/eventMergeId/createEventMergeId.js":{script:function(e){"use strict";e.exports=function(e){var t=e.instanceManager,a=e.eventMergeIdCache;return function(e){var r=e.cacheId,n=a.getByCacheId(r);return n||(n=t.createEventMergeId().eventMergeId,a.set(r,n)),n}}}},"adobe-alloy/dist/lib/index.js":{script:function(e,t,a){"use strict";var r=a("./createEventMergeIdCache"),n=a("./createSendEventCallbackStorage"),s=a("./createMediaCollectionSessionStorage"),o=a("./createVariableStore");t.eventMergeIdCache=r(),t.sendEventCallbackStorage=n(),t.mediaCollectionSessionStorage=s(),t.variableStore=o()}},"adobe-alloy/dist/lib/alloy.js":{script:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(null==e)return{};var a,r,n=s(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.includes(a)||{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function s(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;a[r]=e[r]}return a}function o(e,t){return l(e)||c(e,t)||v(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,s,o,i=[],c=!0,l=!1;try{if(s=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(r=s.call(a)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){l=!0,n=e}finally{try{if(!c&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(l)throw n}}return i}}function l(e){if(Array.isArray(e))return e}function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){m(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function m(e,t,a){return(t=p(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function p(e){var t=f(e,"string");return"symbol"==P(t)?t:t+""}function f(e,t){if("object"!=P(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function g(e){return b(e)||_(e)||v(e)||h()}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,t){if(e){if("string"==typeof e)return y(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?y(e,t):void 0}}function _(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function b(e){if(Array.isArray(e))return y(e)}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function k(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)e[r]=a[r]}return e}function C(e,t){function a(a,r,n){if("undefined"!=typeof document){"number"==typeof(n=k({},t,n)).expires&&(n.expires=new Date(Date.now()+864e5*n.expires)),n.expires&&(n.expires=n.expires.toUTCString()),a=encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var o in n)n[o]&&(s+="; "+o,!0!==n[o]&&(s+="="+n[o].split(";")[0]));return document.cookie=a+"="+e.write(r,a)+s}}function r(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var a=document.cookie?document.cookie.split("; "):[],r={},n=0;n<a.length;n++){var s=a[n].split("="),o=s.slice(1).join("=");try{var i=decodeURIComponent(s[0]);if(r[i]=e.read(o,i),t===i)break}catch(e){}}return t?r[t]:r}}return Object.create({set:a,get:r,remove:function(e,t){a(e,"",k({},t,{expires:-1}))},withAttributes:function(e){return C(this.converter,k({},this.attributes,e))},withConverter:function(e){return C(k({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}function j(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function w(){return ge||(ge=1,fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){for(var a={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=a.parser[t.strictMode?"strict":"loose"].exec(e),n={},s=14;s--;)n[a.key[s]]=r[s]||"";return n[a.q.name]={},n[a.key[12]].replace(a.q.parser,(function(e,t,r){t&&(n[a.q.name][t]=r)})),n}}),fe}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(Ca[e[t+0]]+Ca[e[t+1]]+Ca[e[t+2]]+Ca[e[t+3]]+"-"+Ca[e[t+4]]+Ca[e[t+5]]+"-"+Ca[e[t+6]]+Ca[e[t+7]]+"-"+Ca[e[t+8]]+Ca[e[t+9]]+"-"+Ca[e[t+10]]+Ca[e[t+11]]+Ca[e[t+12]]+Ca[e[t+13]]+Ca[e[t+14]]+Ca[e[t+15]]).toLowerCase()}function I(){if(!he){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");he=crypto.getRandomValues.bind(crypto)}return he(wa)}function V(e,t,a){if(xa.randomUUID&&!t&&!e)return xa.randomUUID();var r=(e=e||{}).random||(e.rng||I)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){a=a||0;for(var n=0;n<16;++n)t[a+n]=r[n];return t}return x(r)}function O(e){return"object"===P(e)||void 0===e}function E(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(O(e[t]))return!1;for(var r=String(e[t]).toLowerCase(),n=0;n<a.length;n+=1)if(!O(a[n])&&r===String(a[n]).toLowerCase())return!0;return!1}}}function S(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(O(e[t]))return!1;for(var r=String(e[t]).toLowerCase(),n=0;n<a.length;n+=1)if(!O(a[n])&&r===String(a[n]).toLowerCase())return!1;return!0}}}function R(){return{matches:function(e,t){return void 0!==e[t]&&null!==e[t]}}}function L(){return{matches:function(e,t){return void 0===e[t]||null===e[t]}}}function T(e){return"number"==typeof e}function A(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e[t];if(!T(r))return!1;for(var n=0;n<a.length;n+=1)if(T(a[n])&&r>a[n])return!0;return!1}}}function D(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e[t];if(!T(r))return!1;for(var n=0;n<a.length;n+=1)if(T(a[n])&&r>=a[n])return!0;return!1}}}function M(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e[t];if(!T(r))return!1;for(var n=0;n<a.length;n+=1)if(T(a[n])&&r<a[n])return!0;return!1}}}function N(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e[t];if(!T(r))return!1;for(var n=0;n<a.length;n+=1)if(T(a[n])&&r<=a[n])return!0;return!1}}}function q(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(O(e[t]))return!1;for(var r=String(e[t]).toLowerCase(),n=0;n<a.length;n+=1)if(!O(a[n])&&-1!==r.indexOf(String(a[n]).toLowerCase()))return!0;return!1}}}function F(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(O(e[t]))return!1;for(var r=String(e[t]).toLowerCase(),n=0;n<a.length;n+=1)if(!O(a[n])&&-1!==r.indexOf(String(a[n]).toLowerCase()))return!1;return!0}}}function U(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(O(e[t]))return!1;for(var r=String(e[t]).toLowerCase(),n=0;n<a.length;n+=1)if(!O(a[n])&&r.startsWith(String(a[n]).toLowerCase()))return!0;return!1}}}function B(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(O(e[t]))return!1;for(var r=String(e[t]).toLowerCase(),n=0;n<a.length;n+=1)if(!O(a[n])&&r.endsWith(a[n].toLowerCase()))return!0;return!1}}}function G(e){return Bi[e]}function H(e){return void 0===e}function J(e,t,a){switch(t){case qi.GREATER_THAN:return e>a;case qi.GREATER_THAN_OR_EQUAL_TO:return e>=a;case qi.LESS_THAN:return e<a;case qi.LESS_THAN_OR_EQUAL_TO:return e<=a;case qi.EQUALS:return e===a;case qi.NOT_EQUALS:return e!==a;default:return!1}}function z(e,t){for(var a=0;a<t.length;a+=1)if(!H(e[t[a]]))return e[t[a]]}function W(e,t){for(var a=Object.keys(e),r=0;r<a.length;r+=1){var n=a[r],s=t.event;if((void 0===s?{}:s)[a[r]]!==e[n])return!1}return!0}function $(e,t,a,r){return e.reduce((function(e,n){var s=z(n,Gi);if(!s)return e;var o=t.events[s];if(!o)return e;var i=z(n,Hi);if(!i)return e;var c=o[i];if(!c)return e;if(!W(n,c))return e;var l=c.count,d=void 0===l?1:l;return H(a)||H(r)||c.timestamp>=a&&c.timestamp<=r?e+d:e}),0)}function Q(e,t,a,r){var n=a;return e.every((function(e){var a=z(e,Gi);if(!a)return!1;var s=t.events[a];if(!s)return!1;var o=z(e,Hi);if(!o)return!1;var i=s[o];if(!W(e,i))return!1;if(null===i||H(i)||0===i.count)return!1;var c=(H(n)||i.timestamp>=n)&&(H(r)||i.timestamp<=r);return n=i.timestamp,c}))?1:0}function K(e,t){for(var a=!0,r=0;r<t.length;r+=1)a=a&&t[r].evaluate(e);return a}function Y(e,t){for(var a=!1,r=0;r<t.length;r+=1)if(a=a||t[r].evaluate(e))return!0;return!1}function X(e,t){return{version:e,rules:t}}function Z(e,t){return{execute:function(a){return e.evaluate(a)?t:[]},toString:function(){return"Rule{condition=".concat(e,", consequences=").concat(t,"}")}}}function ee(e,t){return{evaluate:function(e){return t.evaluate(e)},toString:function(){return"Condition{type=".concat(e,", definition=").concat(t,"}")}}}function te(e,t,a){return{id:e,type:t,detail:a}}function ae(e,t){return{evaluate:function(a){return Fi.AND===e?K(a,t):Fi.OR===e&&Y(a,t)}}}function re(e,t,a){return{evaluate:function(r){var n=G(t);return!!n&&n.matches(r,e,a)}}}function ne(e,t,a,r,n,s){return{evaluate:function(o){return J(Ui.ORDERED===s?Q(e,o,r,n):$(e,o,r,n),t,a)}}}function se(e){return re(e.key,e.matcher,e.values)}function oe(e){return ae(e.logic,e.conditions.map(ce))}function ie(e){var t=e.events,a=e.from,r=e.to;return ne(t,e.matcher,e.value,a,r,e.searchType)}function ce(e){var t=e.type,a=e.definition;if(Ni.MATCHER===t)return ee(t,se(a));if(Ni.GROUP===t)return ee(t,oe(a));if(Ni.HISTORICAL===t)return ee(t,ie(a));throw new Error("Can not parse condition")}function le(e){return te(e.id,e.type,e.detail)}function de(e){var t=e.condition,a=e.consequences;return Z(ce(t),a.map(le))}function ue(e){return X(e.version,e.rules.map(de))}function me(e){var t=ue(e),a=t.version,r=t.rules;return{execute:function(e){return r.map((function(t){return t.execute(e)})).filter((function(e){return e.length>0}))},getVersion:function(){return a},numRules:function(){return r.length}}}Object.defineProperty(t,"__esModule",{value:!0}),t.deepAssign=t.createInstance=t.createEventMergeId=void 0;for(var pe,fe,ge,he,ve=r(a("@adobe/reactor-query-string")),_e=["datastreamId"],be=["edgeConfigOverrides"],ye=["xdm","data","documentUnloading","type","mergeId","datasetId","edgeConfigOverrides"],Pe=["priority"],ke=["priority"],Ce=["priority"],je=["trackingLabel","scopeType"],we=["standard","version"],xe=function(e){return null==e},Ie=function(e){return!xe(e)&&!Array.isArray(e)&&"object"===P(e)},Ve=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.length<2?Object.assign.apply(Object,t):t.reduce((function(e,t){return Ie(t)&&Object.keys(t).forEach((function(a){var r;Array.isArray(t[a])?Array.isArray(e[a])?(r=e[a]).push.apply(r,g(t[a])):e[a]=g(t[a]):e[a]=t[a]})),e}))},Oe=C({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),Ee={get:Oe.get.bind(Oe),set:Oe.set.bind(Oe),remove:Oe.remove.bind(Oe),withConverter:Oe.withConverter.bind(Oe)},Se=function(e,t){Object.keys(t).forEach((function(a){Ie(e[a])&&Ie(t[a])?Se(e[a],t[a]):e[a]=t[a]}))},Re=t.deepAssign=function(e){if(xe(e))throw new TypeError('deepAssign "target" cannot be null or undefined');for(var t=Object(e),a=arguments.length,r=new Array(a>1?a-1:0),n=1;n<a;n++)r[n-1]=arguments[n];return r.forEach((function(e){return Se(t,Object(e))})),t},Le=function(e,t){return function(a){var r=t.split(".").reduce((function(e,t){return e[t]=e[t]||{},e[t]}),e);Re(r,a)}},Te=function(){var e=[];return{add:function(t){e.push(t)},call:function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return Promise.all(e.map((function(e){return e.apply(void 0,a)})))}}},Ae=function(e){var t=e.logger,a=e.cookieJar;return u(u({},a),{},{set:function(e,r,n){t.info("Setting cookie",u({name:e,value:r},n)),a.set(e,r,n)}})},De=function(){var e=0,t=Promise.resolve();return{addTask:function(a){e+=1;var r=function(){return a().finally((function(){e-=1}))};return t=t.then(r,r)},get length(){return e}}},Me=function(){for(var e=[],t=0;t<256;t++){for(var a=t,r=0;r<8;r++)a=1&a?3988292384^a>>>1:a>>>1;e.push(a)}return function(t,a){t=unescape(encodeURIComponent(t)),a||(a=0),a=~a;for(var r=0;r<t.length;r++){var n=255&(a^t.charCodeAt(r));a=a>>>8^e[n]}return(a=~a)>>>0}}(),Ne=function(){var e={};return e.promise=new Promise((function(t,a){e.resolve=t,e.reject=a})),e},qe=function(e,t){return e===t},Fe=function(e,t,a){for(var r=0;r<e.length;r+=1)if(a(e[r],t))return r;return-1},Ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qe;return e.filter((function(a,r){return Fe(e,a,t)===r}))},Be=function(e,t){return e.appendChild(t)},Ge=function(e,t){Object.keys(t).forEach((function(a){if("style"===a&&Ie(t[a])){var r=t[a];Object.keys(r).forEach((function(t){e.style[t]=r[t]}))}else e[a]=t[a]}))},He=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],n=(arguments.length>4&&void 0!==arguments[4]?arguments[4]:document).createElement(e);return Object.keys(t).forEach((function(e){n.setAttribute(e,t[e])})),Ge(n,a),r.forEach((function(e){return Be(n,e)})),n},Je="BODY",ze="IFRAME",We="IMG",$e="DIV",Qe="STYLE",Ke="SCRIPT",Ye="HEAD",Xe=function(e){var t=e.src,a=e.currentDocument,r=void 0===a?document:a;return new Promise((function(e,a){He(We,{src:t},{onload:e,onerror:a,onabort:a},[],r)}))},Ze=function(e){return"function"==typeof e},et=function(e){return Array.isArray(e)&&e.length>0},tt=function(e){return Array.isArray(e)?e:null==e?[]:[].slice.call(e)},at=/^\s*>/,rt=function(e,t){return at.test(t)?tt(e.querySelectorAll(":scope ".concat(t))):tt(e.querySelectorAll(t))},nt=":shadow",st=function(e){return e.split(nt)},ot=function(e,t){var a=t;if(!a.startsWith(">"))return a;var r=e instanceof Element||e instanceof Document?":scope":":host";return"".concat(r," ").concat(a)},it=function(e,t){var a=st(t);if(a.length<2)return rt(e,t);for(var r=e,n=0;n<a.length;n+=1){var s=a[n].trim();if(""===s&&r.shadowRoot)r=r.shadowRoot;else{var o=ot(r,s),i=rt(r,o);if(0===i.length||!i[0]||!i[0].shadowRoot)return i;r=i[0].shadowRoot}}},ct=function(e){return-1!==e.indexOf(nt)},lt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return ct(e)?it(t,e):rt(t,e)},dt="MutationObserver",ut="requestAnimationFrame",mt={childList:!0,subtree:!0},pt="visibilityState",ft="visible",gt=100,ht=5e3,vt=function(e){return new Error("Could not find: ".concat(e))},_t=function(e){return new Promise(e)},bt=function(e){return Ze(e[dt])},yt=function(e,t,a,r,n){return _t((function(s,o){var i,c=new e[dt]((function(){var e=n(a);et(e)&&(c.disconnect(),i&&clearTimeout(i),s(e))}));i=setTimeout((function(){c.disconnect(),o(vt(a))}),r),c.observe(t,mt)}))},Pt=function(e){return e[pt]===ft},kt=function(e,t,a,r){return _t((function(n,s){var o=function(){var a=r(t);et(a)?n(a):e[ut](o)};o(),setTimeout((function(){s(vt(t))}),a)}))},Ct=function(e,t,a){return _t((function(r,n){var s=function(){var t=a(e);et(t)?r(t):setTimeout(s,gt)};s(),setTimeout((function(){n(vt(e))}),t)}))},jt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lt,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ht,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:document,s=t(e);return et(s)?Promise.resolve(s):bt(r)?yt(r,n,e,a,t):Pt(n)?kt(r,e,a,t):Ct(e,a,t)},wt=function(e,t){return t.matches?t.matches(e):t.msMatchesSelector(e)},xt=function(e){var t=e.parentNode;return t?t.removeChild(e):null},It={name:"Adobe Alloy"},Vt={style:{display:"none",width:0,height:0}},Ot=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.appendNode,r=void 0===a?Be:a,n=t.awaitSelector,s=void 0===n?jt:n,i=t.createNode,c=void 0===i?He:i,l=t.fireImage,d=void 0===l?Xe:l,u=d,m=function(){return s(Je).then((function(t){var a=o(t,1)[0];return e||(e=c(ze,It,Vt),r(a,e))}))},p=function(e){var t=e.src;return m().then((function(e){var a=e.contentWindow.document;return d({src:t,currentDocument:a})}))};return function(e){var t=e.hideReferrer,a=e.url;return t?p({src:a}):u({src:a})}},Et=function(e){return Ie(e)&&0===Object.keys(e).length},St=function(e,t){return xe(e)||!Ie(e)?e:Object.keys(e).reduce((function(a,r){var n=e[r];if(Ie(n)){var s=St(n,t);return Et(s)?a:u(u({},a),{},m({},r,s))}return t(n)?u(u({},a),{},m({},r,n)):a}),{})},Rt="com.adobe.alloy.",Lt=function(e,t){return e.slice(-t)},Tt="".concat(Rt,"getTld"),At=function(e,t){for(var a="",r=e.location.hostname.toLowerCase().split("."),n=1;n<r.length&&!t.get(Tt);)a=Lt(r,n+=1).join("."),t.set(Tt,Tt,{domain:a});return t.remove(Tt,{domain:a}),a},Dt="kndctr",Mt=function(e){return e.replace("@","_")},Nt=function(e,t){return"".concat(Dt,"_").concat(Mt(e),"_").concat(t)},qt=function(e,t){var a={};return e.forEach((function(e){var r=t(e);a[r]||(a[r]=[]),a[r].push(e)})),a},Ft="Chrome",Ut="Edge",Bt="EdgeChromium",Gt="Firefox",Ht="IE",Jt="Safari",zt="Unknown",Wt=function(e){var t,a=!1;return function(){return a||(a=!0,t=e()),t}},$t=[Ft,Ut,Bt,Ht,zt],Qt=function(e){var t=e.getBrowser;return Wt((function(){return $t.includes(t())}))},Kt="identity",Yt="consent",Xt="cluster",Zt=function(e){var t=e.orgId,a=Nt(t,Kt);return function(){return Boolean(Ee.get(a))}},ea=function(e,t){for(var a=Object.keys(e),r=0;r<a.length;r+=1){var n=a[r];if(e[n].test(t))return n}return zt},ta=function(e){var t=e.userAgent;return Wt((function(){return ea(m(m(m(m(m(m({},Ut,/Edge\/([0-9\._]+)/),Bt,/Edg\/([0-9\.]+)/),Ft,/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/),Gt,/Firefox\/([0-9\.]+)(?:\s|$)/),Ht,/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/),Jt,/Version\/([0-9\._]+).*Safari/),t)}))},aa=function(e,t,a){return{getItem:function(r){try{return e[t].getItem(a+r)}catch(e){return null}},setItem:function(r,n){try{return e[t].setItem(a+r,n),!0}catch(e){return!1}},clear:function(){try{return Object.keys(e[t]).forEach((function(r){r.startsWith(a)&&e[t].removeItem(r)})),!0}catch(e){return!1}}}},ra=function(e){return function(t){var a=Rt+t;return{session:aa(e,"sessionStorage",a),persistent:aa(e,"localStorage",a)}}},na=function(e,t){return e.filter((function(e){return t.includes(e)}))},sa=function(e){return"boolean"==typeof e},oa=function(e){return"number"==typeof e&&!Number.isNaN(e)},ia=function(e){var t=parseInt(e,10);return oa(t)&&e===t},ca=function(e,t){return 0===t.indexOf("".concat(Dt,"_").concat(Mt(e),"_"))},la=function(e){return"string"==typeof e},da=function(e){return la(e)&&e.length>0},ua=function(){},ma=j(w()),pa=function(e){var t={},a=e.split(".");switch(a.length){case 1:t.subdomain="",t.domain=e,t.topLevelDomain="";break;case 2:t.subdomain="",t.domain=e,t.topLevelDomain=a[1];break;case 3:t.subdomain="www"===a[0]?"":a[0],t.domain=e,t.topLevelDomain=a[2];break;case 4:t.subdomain="www"===a[0]?"":a[0],t.domain=e,t.topLevelDomain="".concat(a[2],".").concat(a[3])}return t},fa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pa;la(e)||(e="");var a=ma(e)||{},r=a.host,n=void 0===r?"":r,s=a.path,o=void 0===s?"":s,i=a.query,c=void 0===i?"":i,l=a.anchor;return u({path:o,query:c,fragment:void 0===l?"":l},t(n))},ga=function(e){if(xe(e)||"object"!==P(e))return null;var t=St(e,(function(e){return!(xe(e)||!sa(e)&&!oa(e)&&!da(e)&&!et(e))}));return Et(t)?null:t},ha=function(e){return e instanceof Error?e:new Error(e)},va=function(e){var t=e.error,a=e.message;try{t.message=a}catch(e){}},_a=function(e){var t=e.error,a=e.message,r=ha(t),n="".concat(a,"\nCaused by: ").concat(r.message);return va({error:r,message:n}),r},ba=function(e){return la(e)&&"true"===e.toLowerCase()},ya=function(e,t){if(oa(e)||la(e)){var a=Math.round(Number(e));if(!Number.isNaN(a))return a}return t},Pa=function(e,t,a){return"".concat(e).padStart(t,a)},ka=function(e){var t=e.getFullYear(),a=Pa(e.getMonth()+1,2,"0"),r=Pa(e.getDate(),2,"0"),n=Pa(e.getHours(),2,"0"),s=Pa(e.getMinutes(),2,"0"),o=Pa(e.getSeconds(),2,"0"),i=Pa(e.getMilliseconds(),3,"0"),c=ya(e.getTimezoneOffset(),0),l=c>0?"-":"+",d=Pa(Math.floor(Math.abs(c)/60),2,"0"),u=Pa(Math.abs(c)%60,2,"0");return"".concat(t,"-").concat(a,"-").concat(r,"T").concat(n,":").concat(s,":").concat(o,".").concat(i).concat(l).concat(d,":").concat(u)},Ca=[],ja=0;ja<256;++ja)Ca.push((ja+256).toString(16).slice(1));var wa=new Uint8Array(16),xa={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},Ia=function(e){return function(t,a){return null==t?t:e.call(this,t,a)}},Va=function(e,t){return function(a,r){return t.call(this,e.call(this,a,r),r)}},Oa=function(e,t){return function(a,r){var n=this,s=[],o=[e,t].reduce((function(e,t){try{return t.call(n,e,r)}catch(t){return s.push(t),e}}),a);if(s.length)throw new Error(s.join("\n"));return o}},Ea=function(e,t,a){return Object.assign(Va(e,t),e,a)},Sa=function(e,t,a){return Object.assign(Va(e,Ia(t)),e,a)},Ra=function(e,t,a){return Object.assign(Oa(Ia(t),e),e,a)},La=function(e,t,a,r){if(!e)throw new Error("'".concat(a,"': Expected ").concat(r,", but got ").concat(JSON.stringify(t),"."))},Ta=function(e,t){return La(sa(e),e,t,"true or false"),e},Aa=function(e,t){return La(Ze(e),e,t,"a function"),e},Da=function(e,t){return function(a,r){var n,s=this,o=e.find((function(e){try{return n=e.call(s,a,r),!0}catch(e){return!1}}));return La(o,a,r,t),n}},Ma=function(e){return function(t,a){var r=this;La(Array.isArray(t),t,a,"an array");var n=[],s=t.map((function(s,o){try{return e.call(r,s,"".concat(a,"[").concat(o,"]"),t)}catch(e){return void n.push(e.message)}}));if(n.length)throw new Error(n.join("\n"));return s}},Na=function(e){return function(t){return null==t?e:t}},qa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"This field has been deprecated";return function(t,a){var r=e;return void 0!==t&&(a&&(r="'".concat(a,"': ").concat(r)),this&&this.logger&&this.logger.warn(r)),t}},Fa=function(e){return function(t,a){return La(t===e,t,a,"".concat(e)),t}},Ua=function(e){return function(t,a){var r=this;La(Ie(t),t,a,"an object");var n=[],s={};if(Object.keys(t).forEach((function(o){var i=t[o],c=a?"".concat(a,".").concat(o):o;try{var l=e.call(r,i,c);void 0!==l&&(s[o]=l)}catch(e){n.push(e.message)}})),n.length)throw new Error(n.join("\n"));return s}},Ba=function(e,t){return function(a,r){return La(a>=t,a,r,"".concat(e," greater than or equal to ").concat(t)),a}},Ga=function(e,t){return function(a,r){return La(a<=t,a,r,"".concat(e," less than or equal to ").concat(t)),a}},Ha=function(e){return function(t,a){var r=[];if(Object.keys(t).forEach((function(t){if(!e[t]){var n=a?"".concat(a,".").concat(t):t;r.push("'".concat(n,"': Unknown field."))}})),r.length)throw new Error(r.join("\n"));return t}},Ja=function(e){return function(t,a){return Ie(t)?La(!Et(t),t,a,e):La(t.length>0,t,a,e),t}},za=function(e){return function(t,a){var r=this;La(Ie(t),t,a,"an object");var n=[],s={};if(Object.keys(e).forEach((function(o){var i=t[o],c=e[o],l=a?"".concat(a,".").concat(o):o;try{var d=c.call(r,i,l);void 0!==d&&(s[o]=d)}catch(e){n.push(e.message)}})),Object.keys(t).forEach((function(e){Object.prototype.hasOwnProperty.call(s,e)||(s[e]=t[e])})),n.length)throw new Error(n.join("\n"));return s}},Wa=function(e,t,a){return function(r,s){La(Ie(r),r,s,"an object");var o=r[e],i=r[a],c=n(r,[e,a].map(p)),l=t(o,s);if(void 0!==l){var d="The field '".concat(e,"' is deprecated. Use '").concat(a,"' instead.");if(s&&(d="'".concat(s,"': ").concat(d)),void 0!==i&&i!==l)throw new Error(d);this&&this.logger&&this.logger.warn(d)}return u(m({},a,i||l),c)}},$a=function(){var e=[];return function(t,a){return La(-1===e.indexOf(t),t,a,"a unique value across instances"),e.push(t),t}},Qa=function(e){for(var t=Object.create(null),a=0;a<e.length;a+=1){var r=e[a];if(r in t)return!1;t[r]=!0}return!0},Ka=function(){return function(e,t){return La(Qa(e),e,t,"array values to be unique"),e}},Ya=/^[a-z0-9.-]{1,}$/i,Xa=function(e,t){return La(Ya.test(e),e,t,"a valid domain"),e},Za=function(e,t){return La(ia(e),e,t,"an integer"),e},er=function(e,t){return La(oa(e),e,t,"a number"),e},tr=function(e){try{return null!==RegExp(e)}catch(e){return!1}},ar=function(e,t){return La(tr(e),e,t,"a regular expression"),e},rr=function(e,t){if(null==e)throw new Error("'".concat(t,"' is a required option"));return e},nr=function(e,t){return La(la(e),e,t,"a string"),e},sr=function(e){return function(t,a){return La(e.test(t),t,a,"does not match the ".concat(e.toString())),t}},or=function(e){return e};or.default=function(e){return Ea(this,Na(e))},or.required=function(){return Ea(this,rr)},or.deprecated=function(e){return Ea(this,qa(e))};var ir=function(){return Sa(this,Xa)},cr=function(e){return Sa(this,Ba("an integer",e))},lr=function(e){return Sa(this,Ba("a number",e))},dr=function(e){return Sa(this,Ga("a number",e))},ur=function(){return Sa(this,Za,{minimum:cr})},mr=function(){return Sa(this,Ja("a non-empty string"))},pr=function(){return Sa(this,Ja("a non-empty array"))},fr=function(){return Sa(this,Ja("a non-empty object"))},gr=function(){return Sa(this,ar)},hr=function(e){return Sa(this,sr(e))},vr=function(){return Sa(this,$a())},_r=function(){return Sa(this,Ka())},br=function(){return this},yr=function(e){return Sa(this,Ma(e),{nonEmpty:pr,uniqueItems:_r})},Pr=function(){return Sa(this,Ta)},kr=function(){return Sa(this,Aa)},Cr=function(e){return Sa(this,Fa(e))},jr=function(){return Sa(this,er,{minimum:lr,maximum:dr,integer:ur,unique:vr})},wr=function(e){return Sa(this,Ua(e),{nonEmpty:fr})},xr=function(e){return{noUnknownFields:function(){return Sa(this,Ha(e))},nonEmpty:fr,concat:function(t){var a=u(u({},e),t.schema);return Sa(this,t,xr(a))},renamed:function(e,t,a){return Ra(this,Wa(e,t,a))},schema:e}},Ir=function(e){return Sa(this,za(e),xr(e))},Vr=function(){return Sa(this,nr,{regexp:gr,domain:ir,nonEmpty:mr,unique:vr,matches:hr})},Or=function(e,t){return Ea(this,Da(e,t))}.bind(or),Er=br.bind(or),Sr=yr.bind(or),Rr=Pr.bind(or),Lr=kr.bind(or),Tr=Cr.bind(or),Ar=jr.bind(or),Dr=wr.bind(or),Mr=Ir.bind(or),Nr=Vr.bind(or),qr=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return Or(t.map(Tr),"one of these values: ".concat(JSON.stringify(t)))},Fr=Dr(Sr(Mr({authenticatedState:qr("ambiguous","authenticated","loggedOut"),id:Nr(),namespace:Mr({code:Nr()
}).noUnknownFields(),primary:Rr(),xid:Nr()}).noUnknownFields()).required()),Ur=Mr({}),Br="alloy_debug",Gr=function(e){var t=e.console,a=e.locationSearch,r=e.createLogger,n=e.instanceName,s=e.createNamespacedStorage,o=e.getMonitors,i=ve.default.parse(a),c=s("instance.".concat(n,".")),l=c.session.getItem("debug"),d="true"===l,u=null===l,m=function(){return d},p=function(e,t){var a=t.fromConfig;a&&!u||(d=e),a||(c.session.setItem("debug",e.toString()),u=!1)};return void 0!==i[Br]&&p(ba(i[Br]),{fromConfig:!1}),{setDebugEnabled:p,logger:r({getDebugEnabled:m,context:{instanceName:n},getMonitors:o,console:t}),createComponentLogger:function(e){return r({getDebugEnabled:m,context:{instanceName:n,componentName:e},getMonitors:o,console:t})}}},Hr=["onComponentsRegistered","onBeforeEvent","onBeforeRequest","onResponse","onRequestFailure","onClick","onDecision"],Jr=function(e,t){return function(){for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return Promise.all(e.getLifecycleCallbacks(t).map((function(e){return new Promise((function(t){t(e.apply(void 0,r))}))})))}},zr=function(e){return function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return Promise.resolve().then((function(){return e.apply(void 0,a)}))}},Wr=function(e){return Hr.reduce((function(t,a){return t[a]=zr(Jr(e,a)),t}),{})},$r=function(e,t){return function(){var a;try{a=e.apply(void 0,arguments)}catch(e){throw _a({error:e,message:t})}return a instanceof Promise&&(a=a.catch((function(e){throw _a({error:e,message:t})}))),a}},Qr=function(){var e={},t={},a={},r=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=na(Object.keys(t),Object.keys(a));if(r.length)throw new Error("[ComponentRegistry] Could not register ".concat(e," ")+"because it has existing command(s): ".concat(r.join(",")));Object.keys(a).forEach((function(r){var n=a[r];n.commandName=r,n.run=$r(n.run,"[".concat(e,"] An error occurred while executing the ").concat(r," command.")),t[r]=n}))},n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(r){a[r]=a[r]||[],a[r].push($r(t[r],"[".concat(e,"] An error occurred while executing the ").concat(r," lifecycle hook.")))}))};return{register:function(t,a){var s=a.commands,o=a.lifecycle;r(t,s),n(t,o),e[t]=a},getCommand:function(e){return t[e]},getCommandNames:function(){return Object.keys(t)},getLifecycleCallbacks:function(e){return a[e]||[]},getComponentNames:function(){return Object.keys(e)}}},Kr=function(e){var t=e.logger,a=e.sendFetchRequest,r=e.sendBeaconRequest,n=e.isRequestRetryable,s=e.getRequestRetryDelay;return function(e){var o=e.requestId,i=e.url,c=e.payload,l=e.useSendBeacon,d=JSON.stringify(c),m=JSON.parse(d);t.logOnBeforeNetworkRequest({url:i,requestId:o,payload:m});var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(l?r:a)(i,d).then((function(a){var r;if(n({response:a,retriesAttempted:e})){var c=s({response:a,retriesAttempted:e});return new Promise((function(t){setTimeout((function(){t(p(e+1))}),c)}))}try{r=JSON.parse(a.body)}catch(e){}return t.logOnNetworkResponse(u(u({requestId:o,url:i,payload:m},a),{},{parsedBody:r,retriesAttempted:e})),{statusCode:a.statusCode,body:a.body,parsedBody:r,getHeader:a.getHeader}}))};return p().catch((function(e){throw t.logOnNetworkError({requestId:o,url:i,payload:m,error:e}),_a({error:e,message:"Network request failed."})}))}},Yr=function(e){var t=e.logger;return function(e){if(e){var a=e.split(";");if(a.length>=2&&a[1].length>0)try{var r=parseInt(a[1],10);if(!Number.isNaN(r))return{regionId:r}}catch(e){}t.warn('Invalid adobe edge: "'.concat(e,'"'))}return{}}},Xr="in",Zr="out",en="pending",tn="general",an="declinedConsent",rn="default",nn="initial",sn="new",on=function(e){var t=new Error(e);return t.code=an,t.message=e,t},cn=function(e){var t=e.logger,a=[],r=function(){for(;a.length;)a.shift().resolve()},n=function(){for(;a.length;)a.shift().reject(on("The user declined consent."))},s=function(){return Promise.resolve()},o=function(){return Promise.resolve()},i=function(){return Promise.reject(on("No consent preferences have been set."))},c=function(){return Promise.reject(on("The user declined consent."))},l=function(e){if(e)return Promise.reject(new Error("Consent is pending."));var t=Ne();return a.push(t),t.promise};return{in:function(e){e===rn?this.awaitConsent=s:(e===nn?t.info("Loaded user consent preferences. The user previously consented."):e===sn&&this.awaitConsent!==o&&t.info("User consented."),r(),this.awaitConsent=o)},out:function(e){e===rn?(t.warn("User consent preferences not found. Default consent of out will be used."),this.awaitConsent=i):(e===nn?t.warn("Loaded user consent preferences. The user previously declined consent."):e===sn&&this.awaitConsent!==c&&t.warn("User declined consent."),n(),this.awaitConsent=c)},pending:function(e){e===rn&&t.info("User consent preferences not found. Default consent of pending will be used. Some commands may be delayed."),this.awaitConsent=l},awaitConsent:function(){return Promise.resolve()},withConsent:function(){return this.awaitConsent(!0)},current:function(){switch(this.awaitConsent){case s:return{state:"in",wasSet:!1};case o:return{state:"in",wasSet:!0};case i:return{state:"out",wasSet:!1};case c:return{state:"out",wasSet:!0};case l:return{state:"pending",wasSet:!1};default:return{state:"in",wasSet:!1}}}}},ln=function(e){var t=e.generalConsentState,a=e.logger,r=function(e,r){switch(e[tn]){case Xr:t.in(r);break;case Zr:t.out(r);break;case en:t.pending(r);break;default:a.warn("Unknown consent value: ".concat(e[tn]))}};return{initializeConsent:function(e,t){t[tn]?r(t,nn):r(e,rn)},setConsent:function(e){r(e,sn)},suspend:function(){t.pending()},awaitConsent:function(){return t.awaitConsent()},withConsent:function(){return t.withConsent()},current:function(){return t.current()}}},dn=function(e){return e&&e._experience&&e._experience.decisioning&&et(e._experience.decisioning.propositions)?e._experience.decisioning.propositions:[]},un=function(){var e,t,a={},r=!1,n=!1,s=!0,o=function(e){if(n)throw new Error("".concat(e," cannot be called after event is finalized."))},i={hasQuery:function(){return Object.prototype.hasOwnProperty.call(this.getContent(),"query")},getContent:function(){var r=JSON.parse(JSON.stringify(a));return e&&Re(r,{xdm:e}),t&&Re(r,{data:t}),r},setUserXdm:function(t){o("setUserXdm"),e=t},setUserData:function(e){o("setUserData"),t=e},mergeXdm:function(e){o("mergeXdm"),e&&Re(a,{xdm:e})},mergeData:function(e){o("mergeData"),e&&Re(a,{data:e})},mergeMeta:function(e){o("mergeMeta"),e&&Re(a,{meta:e})},mergeQuery:function(e){o("mergeQuery"),e&&Re(a,{query:e})},documentMayUnload:function(){r=!0},finalize:function(r){if(!n){var o=Ue([].concat(g(dn(e)),g(dn(a.xdm))),(function(e,t){return e===t||e.id&&t.id&&e.id===t.id&&e.scope&&t.scope&&e.scope===t.scope}));if(e&&this.mergeXdm(e),o.length>0&&(a.xdm._experience.decisioning.propositions=o),t&&i.mergeData(t),n=!0,r){s=!1;var c={xdm:a.xdm||{},data:a.data||{}},l=r(c);s=!1!==l,a.xdm=c.xdm||{},a.data=c.data||{},Et(a.xdm)&&delete a.xdm,Et(a.data)&&delete a.data}}},getDocumentMayUnload:function(){return r},isEmpty:function(){return Et(a)&&(!e||Et(e))&&(!t||Et(t))},shouldSend:function(){return s},getViewName:function(){if(e&&e.web&&e.web.webPageDetails)return e.web.webPageDetails.viewName},toJSON:function(){if(!n)throw new Error("toJSON called before finalize");return a}};return i},mn="Retry-After",pn="x-adobe-edge",fn=function(e){var t=e.extractEdgeInfo;return function(e){var a=e.content,r=void 0===a?{}:a,n=e.getHeader,s=r.handle,o=void 0===s?[]:s,i=r.errors,c=void 0===i?[]:i,l=r.warnings,d=void 0===l?[]:l;return{getPayloadsByType:function(e){return o.filter((function(t){return t.type===e})).flatMap((function(e){return e.payload}))},getErrors:function(){return c},getWarnings:function(){return d},getEdge:function(){return t(n(pn))},toJSON:function(){return r}}}},gn="configure",hn="setDebug",vn=function(e){var t,a=e.logger,r=e.configureCommand,n=e.setDebugCommand,s=e.handleError,o=e.validateCommandOptions,i=function(e,s){var i;if(e===gn){if(t)throw new Error("The library has already been configured and may only be configured once.");i=function(){return(t=r(s)).then((function(){}))}}else{if(!t)throw new Error("The library must be configured first. Please do so by executing the configure command.");i=e===hn?function(){return n(s)}:function(){return t.then((function(t){var a=t.getCommand(e);if(!a||!Ze(a.run)){var r=[gn,hn].concat(t.getCommandNames()).join(", ");throw new Error("The ".concat(e," command does not exist. List of available commands: ").concat(r,"."))}var n=o({command:a,options:s});return a.run(n)}),(function(){return a.warn("An error during configuration is preventing the ".concat(e," command from executing.")),new Promise((function(){}))}))}}return i};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r){var n=i(e,t);a.logOnBeforeCommand({commandName:e,options:t}),r(n())})).catch((function(t){return s(t,"".concat(e," command"))})).catch((function(r){throw a.logOnCommandRejected({commandName:e,options:t,error:r}),r})).then((function(r){var n=Ie(r)?r:{};return a.logOnCommandResolved({commandName:e,options:t,result:n}),n}))}},_n="https://adobe.ly/3sHgQHb",bn=function(e){var t=e.command,a=e.options,r=t.commandName,n=t.documentationUri,s=void 0===n?_n:n,o=t.optionsValidator,i=a;if(o)try{i=o(a)}catch(e){var c="Invalid ".concat(r," command options:\n\t - ").concat(e," For command documentation see: ").concat(s);throw new Error(c)}return i},yn="https://adobe.ly/3sHh553",Pn=function(e){var t=e.combinedConfigValidator,a=e.options,r=e.logger;try{return t.noUnknownFields().required().call({logger:r},a)}catch(e){throw new Error("Resolve these configuration problems:\n\t - ".concat(e.message.split("\n").join("\n\t - "),"\nFor configuration documentation see: ").concat(yn))}},kn=function(e,t,a){return a.reduce((function(a,r){var n=r.buildOnInstanceConfiguredExtraParams;return n&&(a=u(u({},a),n({config:e,logger:t}))),a}),{})},Cn=function(e){var t=[],a={get enabled(){return e.enabled},flush:function(){t.forEach((function(t){var a=t.method,r=t.args;return e[a].apply(e,g(r))}))}};return Object.keys(e).filter((function(t){return"function"==typeof e[t]})).forEach((function(e){a[e]=function(){for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];t.push({method:e,args:r})}})),a},jn=function(e){var t=e.options,a=e.componentCreators,r=e.coreConfigValidators,n=e.createConfig,s=e.logger,o=e.setDebugEnabled,i=Cn(s),c=a.map((function(e){return e.configValidators})).filter((function(e){return e})).reduce((function(e,t){return e.concat(t)}),r),l=n(Pn({combinedConfigValidator:c,options:t,logger:i}));o(l.debugEnabled,{fromConfig:!0}),i.flush();var d=kn(l,s,a);return s.logOnInstanceConfigured(u(u({},d),{},{config:l})),l},wn=function(e){var t=e.componentCreators,a=e.lifecycle,r=e.componentRegistry,n=e.getImmediatelyAvailableTools;return t.forEach((function(e){var t,a=e.namespace,s=n(a);try{t=e(s)}catch(e){throw _a({error:e,message:"[".concat(a,"] An error occurred during component creation.")})}r.register(a,t)})),a.onComponentsRegistered({lifecycle:a}).then((function(){return r}))},xn=function(e){return u({},e)},In="edge.adobedc.net",Vn="adobedc.demdex.net",On="ee",En=function(){return Mr({debugEnabled:Rr().default(!1),datastreamId:Nr().unique().required(),edgeDomain:Nr().domain().default(In),edgeBasePath:Nr().nonEmpty().default(On),orgId:Nr().unique().required(),onBeforeEventSend:Lr().default(ua),edgeConfigOverrides:Ur}).renamed("edgeConfigId",Nr().unique(),"datastreamId")},Sn=function(e){var t=e.errorPrefix,a=e.logger;return function(e,r){var n=ha(e);if(n.code===an)return a.warn("The ".concat(r," could not fully complete. ").concat(n.message)),{};throw va({error:n,message:"".concat(t," ").concat(n.message)}),n}},Rn=function(e){var t=e.fetch;return function(e,a){return t(e,{method:"POST",cache:"no-cache",credentials:"include",headers:{"Content-Type":"text/plain; charset=UTF-8"},referrerPolicy:"no-referrer-when-downgrade",body:a}).then((function(e){return e.text().then((function(t){return{statusCode:e.status,getHeader:function(t){return e.headers.get(t)},body:t}}))}))}},Ln=function(e){var t=e.sendBeacon,a=e.sendFetchRequest,r=e.logger;return function(e,n){var s=new Blob([n],{type:"text/plain; charset=UTF-8"});return t(e,s)?Promise.resolve({statusCode:204,getHeader:function(){return null},body:""}):(r.info("Unable to use `sendBeacon`; falling back to `fetch`."),a(e,n))}},Tn=function(e){var t=e.getDebugEnabled,a=e.console,r=e.getMonitors,n=e.context,s="[".concat(n.instanceName,"]");n.componentName&&(s+=" [".concat(n.componentName,"]"));var o=function(e,t){var a=r();if(a.length>0){var s=u(u({},n),t);a.forEach((function(t){t[e]&&t[e](s)}))}},i=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];o("onBeforeLog",{level:e,arguments:n}),t()&&a[e].apply(a,[s].concat(n))};return{get enabled(){return r().length>0||t()},logOnInstanceCreated:function(e){o("onInstanceCreated",e),i("info","Instance initialized.")},logOnInstanceConfigured:function(e){o("onInstanceConfigured",e),i("info","Instance configured. Computed configuration:",e.config)},logOnBeforeCommand:function(e){o("onBeforeCommand",e),i("info","Executing ".concat(e.commandName," command. Options:"),e.options)},logOnCommandResolved:function(e){o("onCommandResolved",e),i("info","".concat(e.commandName," command resolved. Result:"),e.result)},logOnCommandRejected:function(e){o("onCommandRejected",e),i("error","".concat(e.commandName," command was rejected. Error:"),e.error)},logOnBeforeNetworkRequest:function(e){o("onBeforeNetworkRequest",e),i("info","Request ".concat(e.requestId,": Sending request."),e.payload)},logOnNetworkResponse:function(e){o("onNetworkResponse",e);var t=e.parsedBody||e.body?"response body:":"no response body.";i("info","Request ".concat(e.requestId,": Received response with status code ").concat(e.statusCode," and ").concat(t),e.parsedBody||e.body)},logOnNetworkError:function(e){o("onNetworkError",e),i("error","Request ".concat(e.requestId,": Network request failed."),e.error)},logOnContentHiding:function(e){o("onContentHiding",{status:e.status}),i(e.logLevel,e.message)},logOnContentRendering:function(e){o("onContentRendering",{status:e.status,payload:e.detail}),i(e.logLevel,e.message)},info:i.bind(null,"info"),warn:i.bind(null,"warn"),error:i.bind(null,"error")}},An="__view__",Dn=function(e){return function(t,a){e.xdm=e.xdm||{},e.xdm.identityMap=e.xdm.identityMap||{},e.xdm.identityMap[t]=e.xdm.identityMap[t]||[],e.xdm.identityMap[t].push(a)}},Mn=function(e){var t=e.payload,a=e.getAction,r=e.getUseSendBeacon,n=e.datastreamIdOverride,s=e.edgeSubPath,o=V(),i=!1,c=!1;return{getId:function(){return o},getPayload:function(){return t},getAction:function(){return a({isIdentityEstablished:c})},getDatastreamIdOverride:function(){return n},getUseSendBeacon:function(){return r({isIdentityEstablished:c})},getEdgeSubPath:function(){return s||""},getUseIdThirdPartyDomain:function(){return i},setUseIdThirdPartyDomain:function(){i=!0},setIsIdentityEstablished:function(){c=!0}}},Nn=function(e){var t=e.payload,a=e.datastreamIdOverride,r=function(e){var a=e.isIdentityEstablished;return t.getDocumentMayUnload()&&a};return Mn({payload:t,getAction:function(e){var t=e.isIdentityEstablished;return r({isIdentityEstablished:t})?"collect":"interact"},getUseSendBeacon:r,datastreamIdOverride:a})},qn=function(e){var t=e.content,a=e.addIdentity,r=e.hasIdentity,n=Le(t,"meta.configOverrides");return{mergeMeta:Le(t,"meta"),mergeState:Le(t,"meta.state"),mergeQuery:Le(t,"query"),mergeConfigOverride:function(e){return n(ga(e))},addIdentity:a,hasIdentity:r,toJSON:function(){return t}}},Fn=function(e){return function(t){return void 0!==(e.xdm&&e.xdm.identityMap&&e.xdm.identityMap[t])}},Un=function(){var e={},t=qn({content:e,addIdentity:Dn(e),hasIdentity:Fn(e)});return t.addEvent=function(t){e.events=e.events||[],e.events.push(t)},t.getDocumentMayUnload=function(){return(e.events||[]).some((function(e){return e.getDocumentMayUnload()}))},t},Bn=function(e){var t=e.localConfigOverrides,a=e.globalConfigOverrides,r=e.payload,s={payload:r},o=t||{},i=o.datastreamId,c=n(o,_e);return i&&(s.datastreamIdOverride=i),a&&!Et(a)&&r.mergeConfigOverride(a),c&&!Et(c)&&r.mergeConfigOverride(c),s},Gn="adb_validation_sessionid",Hn="validation.",Jn="clientId",zn=function(e){var t=e.persistent.getItem(Jn);return t||(t=V(),e.persistent.setItem(Jn,t)),t},Wn=function(e){var t=e.window,a=(0,e.createNamespacedStorage)(Hn);return function(){var e=ve.default.parse(t.location.search)[Gn];if(!e)return"";var r=zn(a),n="".concat(e,"|").concat(r);return"&".concat(ve.default.stringify({adobeAepValidationToken:n}))}},$n="Event was canceled because the onBeforeEventSend callback returned false.",Qn=function(e){var t=e.config,a=e.logger,r=e.lifecycle,s=e.consent,o=e.createEvent,i=e.createDataCollectionRequestPayload,c=e.createDataCollectionRequest,l=e.sendEdgeNetworkRequest,d=e.applyResponse,m=t.onBeforeEventSend,p=t.edgeConfigOverrides;return{createEvent:o,sendEvent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.edgeConfigOverrides,d=n(t,be),f=Bn({payload:i(),localConfigOverrides:o,globalConfigOverrides:p}),g=c(f),h=Te(),v=Te();return r.onBeforeEvent(u(u({},d),{},{event:e,onResponse:h.add,onRequestFailure:v.add})).then((function(){return f.payload.addEvent(e),s.awaitConsent()})).then((function(){try{e.finalize(m)}catch(n){var t=function(){throw n};return v.add(r.onRequestFailure),v.call({error:n}).then(t,t)}if(!e.shouldSend()){v.add(r.onRequestFailure),a.info($n);var n=new Error($n);return v.call({error:n}).then((function(){}))}return l({request:g,runOnResponseCallbacks:h.call,runOnRequestFailureCallbacks:v.call})}))},applyResponse:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.renderDecisions,n=void 0!==a&&a,s=t.decisionContext,o=void 0===s?{}:s,l=t.responseHeaders,u=void 0===l?{}:l,m=t.responseBody,p=void 0===m?{handle:[]}:m,f=t.personalization,g=i(),h=c({payload:g}),v=Te();return r.onBeforeEvent({event:e,renderDecisions:n,decisionContext:o,decisionScopes:[An],personalization:f,onResponse:v.add,onRequestFailure:ua}).then((function(){return g.addEvent(e),d({request:h,responseHeaders:u,responseBody:p,runOnResponseCallbacks:v.call})}))}}},Kn="state:store",Yn=function(e){var t=e.cookieJar,a=e.shouldTransferCookie,r=e.apexDomain,n=e.dateProvider;return{cookiesToPayload:function(e,n){var s=""!==r&&n.endsWith(r),o={domain:r,cookiesEnabled:!0};if(!s){var i=t.get(),c=Object.keys(i).filter(a).map((function(e){return{key:e,value:i[e]}}));c.length&&(o.entries=c)}e.mergeState(o)},responseToCookies:function(e){e.getPayloadsByType(Kn).forEach((function(e){var a={domain:r},s=e.attrs&&e.attrs.SameSite&&e.attrs.SameSite.toLowerCase();void 0!==e.maxAge&&(a.expires=new Date(n().getTime()+1e3*e.maxAge)),void 0!==s&&(a.sameSite=s),"none"===s&&(a.secure=!0),t.set(e.key,e.value,a)}))}}},Xn="mboxEdgeCluster",Zn="at_qa_mode",es="mbox",ts=function(e){var t=e.orgId,a=e.targetMigrationEnabled;return function(e){return ca(t,e)||e===Zn||a&&e===es}},as="v1",rs=function(e){var t=e.shift()||[],a=e.shift()||[],r=e;return Ve.apply(void 0,[{}].concat(g(t),g(a),g(r)))},ns=function(e){return function(t){var a=function(){throw t};return e.call({error:t}).then(a,a)}},ss=function(e){var t=e.config,a=e.lifecycle,r=e.cookieTransfer,n=e.sendNetworkRequest,s=e.createResponse,o=e.processWarningsAndErrors,i=e.getLocationHint,c=e.getAssuranceValidationTokenParams,l=t.edgeDomain,d=t.edgeBasePath,u=t.datastreamId;return function(e){var t=e.request,m=e.runOnResponseCallbacks,p=void 0===m?ua:m,f=e.runOnRequestFailureCallbacks,g=void 0===f?ua:f,h=Te();h.add(a.onResponse),h.add(p);var v=Te();return v.add(a.onRequestFailure),v.add(g),a.onBeforeRequest({request:t,onResponse:h.add,onRequestFailure:v.add}).then((function(){var e=t.getUseIdThirdPartyDomain()?Vn:l,a=i(),s=a?"".concat(d,"/").concat(a).concat(t.getEdgeSubPath()):"".concat(d).concat(t.getEdgeSubPath()),o=t.getDatastreamIdOverride()||u,m=t.getPayload();o!==u&&m.mergeMeta({sdkConfig:{datastream:{original:u}}});var p="https://".concat(e,"/").concat(s,"/").concat(as,"/").concat(t.getAction(),"?configId=").concat(o,"&requestId=").concat(t.getId()).concat(c());return r.cookiesToPayload(m,e),n({requestId:t.getId(),url:p,payload:m,useSendBeacon:t.getUseSendBeacon()})})).then((function(e){return o(e),e})).catch(ns(v)).then((function(e){var t=e.parsedBody,a=e.getHeader,n=s({content:t,getHeader:a});return r.responseToCookies(n),h.call({response:n}).then(rs)}))}},os=204,is="The server responded with a",cs=function(e){var t=e.logger;return function(e){var a=e.statusCode,r=e.body,n=e.parsedBody;if(a<200||a>=300||!n&&a!==os||n&&!Array.isArray(n.handle)){var s=n?JSON.stringify(n,null,2):r,o=s?"response body:\n".concat(s):"no response body.";throw new Error("".concat(is," status code ").concat(a," and ").concat(o))}if(n){var i=n.warnings,c=void 0===i?[]:i,l=n.errors,d=void 0===l?[]:l;c.forEach((function(e){t.warn("".concat(is," warning:"),e)})),d.forEach((function(e){t.error("".concat(is," non-fatal error:"),e)}))}}},ls=function(e){var t=e.orgId,a=e.cookieJar,r=Nt(t,Xt),n=function(){return a.get(r)},s=function(){var e=a.get(Xn);if(e)return"t".concat(e)};return function(){return n()||s()}},ds=3,us=[429,503,502,504],ms=function(e){var t=e.response;return e.retriesAttempted<ds&&us.includes(t.statusCode)},ps=1e3,fs=1e3,gs=.3,hs=function(e){var t=ps+e*fs,a=t*gs,r=t-a,n=t+a;return Math.round(r+Math.random()*(n-r))},vs=function(e){var t,a=e.getHeader(mn);if(a){var r=parseInt(a,10);t=ia(r)?1e3*r:Math.max(0,new Date(a).getTime()-(new Date).getTime())}return t},_s=function(e){var t=e.response,a=e.retriesAttempted,r=vs(t);return void 0===r&&(r=hs(a)),r},bs=200,ys=function(e){var t=e.cookieTransfer,a=e.lifecycle,r=e.createResponse,n=e.processWarningsAndErrors;return function(e){var s=e.request,o=e.responseHeaders,i=e.responseBody,c=e.runOnResponseCallbacks,l=void 0===c?ua:c,d=e.runOnRequestFailureCallbacks,u=void 0===d?ua:d,m=Te();m.add(a.onResponse),m.add(l);var p=Te();p.add(a.onRequestFailure),p.add(u);var f=function(e){return o[e]};return a.onBeforeRequest({request:s,onResponse:m.add,onRequestFailure:p.add}).then((function(){return n({statusCode:bs,getHeader:f,body:JSON.stringify(i),parsedBody:i})})).catch(ns(p)).then((function(){var e=r({content:i,getHeader:f});return t.responseToCookies(e),m.call({response:e}).then(rs)}))}},Ps=function(e){var t=e.options;return Mr({type:Nr(),xdm:Mr({eventType:Nr(),identityMap:Fr}),data:Mr({}),documentUnloading:Rr(),renderDecisions:Rr(),decisionScopes:Sr(Nr()).uniqueItems(),personalization:Mr({decisionScopes:Sr(Nr()).uniqueItems(),surfaces:Sr(Nr()).uniqueItems(),sendDisplayEvent:Rr().default(!0),includeRenderedPropositions:Rr().default(!1),defaultPersonalizationEnabled:Rr(),decisionContext:Mr({})}).default({sendDisplayEvent:!0}),datasetId:Nr(),mergeId:Nr(),edgeConfigOverrides:Ur,initializePersonalization:Rr()}).required().noUnknownFields()(t)},ks=function(e){var t=e.options;return Mr({renderDecisions:Rr(),responseHeaders:Dr(Nr().required()),responseBody:Mr({handle:Sr(Mr({type:Nr().required(),payload:Er().required()})).required()}).required(),personalization:Mr({sendDisplayEvent:Rr().default(!0),decisionContext:Mr({})}).default({sendDisplayEvent:!0})}).noUnknownFields()(t)},Cs=function(e){var t=e.eventManager,a=e.logger;return{commands:{sendEvent:{documentationUri:"https://adobe.ly/3GQ3Q7t",optionsValidator:function(e){return Ps({options:e})},run:function(e){var r=e.xdm,s=e.data,o=e.documentUnloading,i=e.type,c=e.mergeId,l=e.datasetId,d=e.edgeConfigOverrides,u=n(e,ye),m=t.createEvent();return o&&m.documentMayUnload(),m.setUserXdm(r),m.setUserData(s),i&&m.mergeXdm({eventType:i}),c&&m.mergeXdm({eventMergeId:c}),d&&(u.edgeConfigOverrides=d),l&&(a.warn("The 'datasetId' option has been deprecated. Please use 'edgeConfigOverrides.com_adobe_experience_platform.datasets.event.datasetId' instead."),u.edgeConfigOverrides=d||{},Re(u.edgeConfigOverrides,{com_adobe_experience_platform:{datasets:{event:{datasetId:l}}}})),t.sendEvent(m,u)}},applyResponse:{documentationUri:"",optionsValidator:function(e){return ks({options:e})},run:function(e){var a=e.renderDecisions,r=void 0!==a&&a,n=e.decisionContext,s=void 0===n?{}:n,o=e.responseHeaders,i=void 0===o?{}:o,c=e.responseBody,l=void 0===c?{handle:[]}:c,d=e.personalization,u=t.createEvent();return t.applyResponse(u,{renderDecisions:r,decisionContext:s,responseHeaders:i,responseBody:l,personalization:d})}}}}};Cs.namespace="DataCollector";var js=function(e,t){return"ID sync ".concat(t?"succeeded":"failed",": ").concat(e.spec.url)},ws=function(e){var t=e.fireReferrerHideableImage,a=e.logger;return function(e){var r=e.filter((function(e){return"url"===e.type}));return r.length?Promise.all(r.map((function(e){return t(e.spec).then((function(){a.info(js(e,!0))})).catch((function(){a.error(js(e,!1))}))}))).then(ua):Promise.resolve()}},xs=Mr({thirdPartyCookiesEnabled:Rr().default(!0),idMigrationEnabled:Rr().default(!0)}),Is=Mr({url:Nr().required().nonEmpty(),edgeConfigOverrides:Ur}).required().noUnknownFields(),Vs="ECID",Os=function(e){var t,a=e.addEcidQueryToPayload,r=e.addQueryStringIdentityToPayload,n=e.ensureSingleIdentity,s=e.setLegacyEcid,o=e.handleResponseForIdSyncs,i=e.getNamespacesFromResponse,c=e.getIdentity,l=e.consent,d=e.appendIdentityToUrl,m=e.logger,p=e.getIdentityOptionsValidator,f={};return{lifecycle:{onBeforeRequest:function(e){var t=e.request,s=e.onResponse,o=e.onRequestFailure;return a(t.getPayload()),r(t.getPayload()),n({request:t,onResponse:s,onRequestFailure:o})},onResponse:function(e){var a=e.response,r=i(a);return t&&t[Vs]||!r||!r[Vs]||s(r[Vs]),t=r,f=u(u({},f),a.getEdge()),o(a)}},commands:{getIdentity:{optionsValidator:p,run:function(e){var a=e.namespaces;return l.awaitConsent().then((function(){return t?void 0:c(e)})).then((function(){return{identity:a.reduce((function(e,a){return e[a]=t[a]||null,e}),{}),edge:f}}))}},appendIdentityToUrl:{optionsValidator:Is,run:function(e){return l.withConsent().then((function(){return t?void 0:c(e)})).then((function(){return{url:d(t[Vs],e.url)}})).catch((function(t){return m.warn("Unable to append identity to url. ".concat(t.message)),e}))}}}}},Es=function(e){var t=e.config,a=e.getEcidFromVisitor,r=e.apexDomain,n=e.isPageSsl,s=e.cookieJar,o=t.idMigrationEnabled,i=t.orgId,c="AMCV_".concat(i),l=function(){var e=null,t="s_ecid",a=s.get(t)||s.get(c);if(a){var r=/(^|\|)MCMID\|(\d+)($|\|)/,n=a.match(r);n&&(e=n[2])}return e};return{getEcid:function(){if(o){var e=l();return e?Promise.resolve(e):a()}return Promise.resolve()},setEcid:function(e){if(o&&l()!==e){var t=n?{sameSite:"none",secure:!0}:{};s.set(c,"MCMID|".concat(e),u({domain:r,expires:390},t))}}}},Ss=function(e){var t=e.logger;return new Promise((function(e,a){if(Ie(window.adobe)&&Ie(window.adobe.optIn)){var r=window.adobe.optIn;t.info("Delaying request while waiting for legacy opt-in to let Visitor retrieve ECID from server."),r.fetchPermissions((function(){r.isApproved([r.Categories.ECID])?(t.info("Received legacy opt-in approval to let Visitor retrieve ECID from server."),e()):a(new Error("Legacy opt-in was declined."))}),!0)}else e()}))},Rs=function(e){var t=e.Visitor;return Ze(t)&&Ze(t.getInstance)&&t},Ls=function(e){var t=e.logger,a=e.orgId,r=e.awaitVisitorOptIn;return function(){var e=Rs(window);return e?r({logger:t}).then((function(){return t.info("Delaying request while using Visitor to retrieve ECID from server."),new Promise((function(r){e.getInstance(a,{}).getMarketingCloudVisitorID((function(e){t.info("Resuming previously delayed request that was waiting for ECID from Visitor."),r(e)}),!0)}))})).catch((function(e){e?t.info("".concat(e.message,", retrieving ECID from experience edge")):t.info("An error occurred while obtaining the ECID from Visitor.")})):Promise.resolve()}},Ts=function(e){var t=e.processIdSyncs;return function(e){return t(e.getPayloadsByType("identity:exchange"))}},As=function(e){var t,a=e.doesIdentityCookieExist,r=e.setDomainForInitialIdentityPayload,n=e.addLegacyEcidToPayload,s=e.awaitIdentityCookie,o=e.logger,i=function(e){return r(e),n(e.getPayload())};return function(e){var r=e.request,n=e.onResponse,c=e.onRequestFailure;if(a())return r.setIsIdentityEstablished(),Promise.resolve();if(t){o.info("Delaying request while retrieving ECID from server.");var l=t;return t=l.catch((function(){return s({onResponse:n,onRequestFailure:c})})),l.then((function(){o.info("Resuming previously delayed request."),r.setIsIdentityEstablished()})).catch((function(){return i(r)}))}return(t=s({onResponse:n,onRequestFailure:c})).catch((function(){})),i(r)}},Ds="CORE",Ms=function(e){var t=e.thirdPartyCookiesEnabled,a=e.areThirdPartyCookiesSupportedByDefault,r={identity:{fetch:[Vs]}};return t&&a()&&r.identity.fetch.push(Ds),function(e){e.mergeQuery(r)}},Ns=function(e){var t=e.thirdPartyCookiesEnabled,a=e.areThirdPartyCookiesSupportedByDefault;return function(e){t&&a()&&e.setUseIdThirdPartyDomain()}},qs=function(e){var t=e.getLegacyEcid,a=e.addEcidToPayload;return function(e){return e.hasIdentity(Vs)?Promise.resolve():t().then((function(t){t&&a(e,t)}))}},Fs="adobe_mc",Us=function(e){try{return decodeURIComponent(e)}catch(e){return""}},Bs=300,Gs=function(e){var t=e.locationSearch,a=e.dateProvider,r=e.orgId,n=e.logger;return function(e){if(!e.hasIdentity(Vs)){var s=ve.default.parse(t)[Fs];if(void 0!==s){Array.isArray(s)&&(n.warn("Found multiple adobe_mc query string paramters, only using the last one."),s=s[s.length-1]);var i=s.split("|").reduce((function(e,t){var a=o(t.split("="),2),r=a[0],n=a[1];return e[r]=n,e}),{}),c=parseInt(i.TS,10),l=i.MCMID,d=Us(i.MCORGID);a().getTime()/1e3<=c+Bs&&d===r&&l?(n.info("Found valid ECID identity ".concat(l," from the adobe_mc query string parameter.")),e.addIdentity(Vs,{id:l})):n.info("Detected invalid or expired adobe_mc query string parameter.")}}}},Hs=function(e,t){e.addIdentity(Vs,{id:t})},Js=function(e){var t=e.doesIdentityCookieExist,a=e.orgId,r=e.logger;return function(e){var n=e.onResponse,s=e.onRequestFailure;return new Promise((function(e,o){n((function(){t()?e():(r.warn("Identity cookie not found. This could be caused by any of the following issues:\n"+"\t* The org ID ".concat(a," configured in Alloy doesn't match the org ID specified in the edge configuration.\n")+"\t* Experience edge was not able to set the identity cookie due to domain or cookie restrictions.\n\t* The request was canceled by the browser and not fully processed."),o(new Error("Identity cookie not found.")))})),s((function(){t()?e():o(new Error("Identity cookie not found."))}))}))}},zs=function(e){return e.getPayloadsByType("identity:result").reduce((function(e,t){return t.namespace&&t.namespace.code&&(e[t.namespace.code]=t.id),e}),{})},Ws=function(e){var t=e.sendEdgeNetworkRequest,a=e.createIdentityRequestPayload,r=e.createIdentityRequest,n=e.globalConfigOverrides;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=e.namespaces,o=e.edgeConfigOverrides,i=Bn({payload:a(s),globalConfigOverrides:n,localConfigOverrides:o}),c=r(i);return t({request:c})}},$s=function(e){var t=e.payload,a=e.datastreamIdOverride;return Mn({payload:t,datastreamIdOverride:a,getAction:function(){return"identity/acquire"},getUseSendBeacon:function(){return!1}})},Qs=function(e){var t={query:{identity:{fetch:e}}};return qn({content:t,addIdentity:Dn(t),hasIdentity:Fn(t)})},Ks=/^([^?#]*)(\??[^#]*)(#?.*)$/,Ys=function(e){return""===e?"?":"?"===e?"":"&"},Xs=function(e){var t=e.dateProvider,a=e.orgId;return function(e,r){var n=Math.round(t().getTime()/1e3),s=encodeURIComponent("TS=".concat(n,"|MCMID=").concat(e,"|MCORGID=").concat(encodeURIComponent(a))),i=o(r.match(Ks),4),c=i[1],l=i[2],d=i[3],u=Ys(l);return"".concat(c).concat(l).concat(u,"adobe_mc=").concat(s).concat(d)}},Zs=Mr({namespaces:Sr(qr(Vs,Ds)).nonEmpty().uniqueItems().default([Vs]),edgeConfigOverrides:Ur}).noUnknownFields().default({namespaces:[Vs]}),eo=function(e){var t=e.thirdPartyCookiesEnabled;return function(e){var a=Zs(e);if(!t&&a.namespaces.includes(Ds))throw new Error("namespaces: The ".concat(Ds," namespace cannot be requested when third-party cookies are disabled."));return a}},to=function(e){var t=e.config,a=e.logger,r=e.consent,n=e.fireReferrerHideableImage,s=e.sendEdgeNetworkRequest,o=e.apexDomain,i=e.getBrowser,c=t.orgId,l=t.thirdPartyCookiesEnabled,d=t.edgeConfigOverrides,u=Ls({logger:a,orgId:c,awaitVisitorOptIn:Ss}),m=Ae({logger:a,cookieJar:Ee}),p=Es({config:t,getEcidFromVisitor:u,
apexDomain:o,cookieJar:m,isPageSsl:"https:"===window.location.protocol}),f=Zt({orgId:c}),g=Ws({sendEdgeNetworkRequest:s,createIdentityRequestPayload:Qs,createIdentityRequest:$s,globalConfigOverrides:d}),h=Qt({getBrowser:i}),v=Ns({thirdPartyCookiesEnabled:l,areThirdPartyCookiesSupportedByDefault:h}),_=qs({getLegacyEcid:p.getEcid,addEcidToPayload:Hs}),b=Gs({locationSearch:window.document.location.search,dateProvider:function(){return new Date},orgId:c,logger:a}),y=Js({doesIdentityCookieExist:f,orgId:c,logger:a}),P=As({doesIdentityCookieExist:f,setDomainForInitialIdentityPayload:v,addLegacyEcidToPayload:_,awaitIdentityCookie:y,logger:a}),k=ws({fireReferrerHideableImage:n,logger:a}),C=Ts({processIdSyncs:k}),j=Xs({dateProvider:function(){return new Date},orgId:c,globalConfigOverrides:d}),w=eo({thirdPartyCookiesEnabled:l}),x=Ms({thirdPartyCookiesEnabled:l,areThirdPartyCookiesSupportedByDefault:h});return Os({addEcidQueryToPayload:x,addQueryStringIdentityToPayload:b,ensureSingleIdentity:P,setLegacyEcid:p.setEcid,handleResponseForIdSyncs:C,getNamespacesFromResponse:zs,getIdentity:g,consent:r,appendIdentityToUrl:j,logger:a,config:t,getIdentityOptionsValidator:w})};to.namespace="Identity",to.configValidators=xs;var ao="2.24.0",ro=function(e){var t=e.config,a=e.componentRegistry,r=[].concat(g(a.getCommandNames()),[gn,hn]).sort(),n=u({},t);Object.keys(t).forEach((function(e){var a=t[e];"function"==typeof a&&(n[e]=a.toString())}));var s=a.getComponentNames();return{version:ao,configs:n,commands:r,components:s}},no=function(e){var t=e.config,a=e.componentRegistry;return{commands:{getLibraryInfo:{run:function(){return{libraryInfo:ro({config:t,componentRegistry:a})}}}}}};no.namespace="LibraryInfo";var so,oo=Object.freeze({__proto__:null,dataCollector:Cs,identity:to,libraryInfo:no}),io=ra(window),co=window,lo=(co.console,co.fetch),uo=co.navigator,mo=En(),po=At(window,Ee),fo=Rn({fetch:lo}),go=Ot(),ho=Wn({window:window,createNamespacedStorage:io}),vo=ta({userAgent:window.navigator.userAgent}),_o=function(e){var t=e.instanceName,a=e.logController,r=a.setDebugEnabled,n=a.logger,s=a.createComponentLogger,o=e.components,i=Qr(),c=Wr(i),l=o.concat(Object.values(oo)),d=function(e){r(e.enabled,{fromConfig:!1})},u=Ae({logger:n,cookieJar:Ee}),m=function(e){var a=jn({options:e,componentCreators:l,coreConfigValidators:mo,createConfig:xn,logger:n,setDebugEnabled:r}),o=a.orgId,d=a.targetMigrationEnabled,m=ts({orgId:o,targetMigrationEnabled:d}),p=Yn({cookieJar:u,shouldTransferCookie:m,apexDomain:po,dateProvider:function(){return new Date}}),f=Ze(uo.sendBeacon)?Ln({sendBeacon:uo.sendBeacon.bind(uo),sendFetchRequest:fo,logger:n}):fo,g=Kr({logger:n,sendFetchRequest:fo,sendBeaconRequest:f,isRequestRetryable:ms,getRequestRetryDelay:_s}),h=cs({logger:n}),v=Yr({logger:n}),_=fn({extractEdgeInfo:v}),b=ls({orgId:o,cookieJar:Ee}),y=ss({config:a,lifecycle:c,cookieTransfer:p,sendNetworkRequest:g,createResponse:_,processWarningsAndErrors:h,getLocationHint:b,getAssuranceValidationTokenParams:ho}),P=ys({lifecycle:c,cookieTransfer:p,createResponse:_,processWarningsAndErrors:h}),k=cn({logger:n}),C=ln({generalConsentState:k,logger:n}),j=Qn({config:a,logger:n,lifecycle:c,consent:C,createEvent:un,createDataCollectionRequestPayload:Un,createDataCollectionRequest:Nn,sendEdgeNetworkRequest:y,applyResponse:P});return wn({componentCreators:l,lifecycle:c,componentRegistry:i,getImmediatelyAvailableTools:function(e){var r=s(e);return{config:a,componentRegistry:i,consent:C,eventManager:j,fireReferrerHideableImage:go,logger:r,lifecycle:c,sendEdgeNetworkRequest:y,handleError:Sn({errorPrefix:"[".concat(t,"] [").concat(e,"]"),logger:r}),createNamespacedStorage:io,apexDomain:po,getBrowser:vo}}})},p=Sn({errorPrefix:"[".concat(t,"]"),logger:n});return vn({logger:n,configureCommand:m,setDebugCommand:d,handleError:p,validateCommandOptions:bn})},bo=function(e){var t=e.eventManager,a=e.lifecycle,r=e.handleError;return function(e){if(e.s_fe)return Promise.resolve();var n=e.target,s=t.createEvent();return s.documentMayUnload(),a.onClick({event:s,clickedElement:n}).then((function(){return s.isEmpty()?Promise.resolve():t.sendEvent(s)})).then(ua).catch((function(e){r(e,"click collection")}))}},yo=function(e){var t=e.eventManager,a=e.lifecycle,r=e.handleError,n=bo({eventManager:t,lifecycle:a,handleError:r});document.addEventListener("click",n,!0)},Po=Nr().regexp().default("\\.(exe|zip|wav|mp3|mov|mpg|avi|wmv|pdf|doc|docx|xls|xlsx|ppt|pptx)$"),ko=Mr({clickCollectionEnabled:Rr().default(!0),clickCollection:Mr({internalLinkEnabled:Rr().default(!0),externalLinkEnabled:Rr().default(!0),downloadLinkEnabled:Rr().default(!0),sessionStorageEnabled:Rr().default(!1),eventGroupingEnabled:Rr().default(!1),filterClickProperties:Lr()}).default({internalLinkEnabled:!0,externalLinkEnabled:!0,downloadLinkEnabled:!0,sessionStorageEnabled:!1,eventGroupingEnabled:!1}),downloadLinkQualifier:Po,onBeforeLinkClickSend:Lr().deprecated('The field "onBeforeLinkClickSend" has been deprecated. Use "clickCollection.filterClickDetails" instead.')}),Co="cppXYctnr",jo=function(){return null!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).getElementById(Co)},wo=function(e){var t=e;return/^https?:\/\//i.test(t)||(t="".concat(window.location.protocol,"//").concat(e)),new URL(t).hostname},xo=function(e,t){return wo(e)!==wo(t)},Io=function(e,t){return t&&("download"===t&&!e.downloadLinkEnabled||"exit"===t&&!e.externalLinkEnabled||"other"===t&&!e.internalLinkEnabled)},Vo=function(e){var t=e.config,a=e.logger,r=e.getClickedElementProperties,n=e.clickActivityStorage,s=t.clickCollectionEnabled,o=t.clickCollection;return s?function(e){var s=e.event,i=e.clickedElement,c=r({clickActivityStorage:n,clickedElement:i,config:t,logger:a}),l=c.linkType;jo()||(c.isValidLink()&&Io(o,l)?a.info("Cancelling link click event due to clickCollection.".concat(l,"LinkEnabled = false.")):!c.isInternalLink()||!o.eventGroupingEnabled||t.onBeforeLinkClickSend&&!o.filterClickDetails||xo(window.location.hostname,c.linkUrl)?c.isValidLink()?(s.mergeXdm(c.xdm),s.mergeData(c.data),n.save({pageName:c.pageName,pageIDType:c.pageIDType})):c.isValidActivityMapData()&&n.save(c.properties):n.save(c.properties))}:function(){}},Oo=function(e){return{eventType:"web.webinteraction.linkClicks",web:{webInteraction:{name:e.linkName,region:e.linkRegion,type:e.linkType,URL:e.linkUrl,linkClicks:{value:1}}}}},Eo=function(e){return{__adobe:{analytics:{contextData:{a:{activitymap:{page:e.pageName,link:e.linkName,region:e.linkRegion,pageIDType:e.pageIDType}}}}}}},So=function(e,t){var a=e.xdm,r=e.data,n=e.clickedElement;if(t.clickedElement=n,a&&a.web&&a.web.webInteraction){var s=a.web.webInteraction,o=s.name,i=s.region,c=s.type,l=s.URL;t.linkName=o,t.linkRegion=i,t.linkType=c,t.linkUrl=l}if(r&&r.__adobe&&r.__adobe.analytics){var d=r.__adobe.analytics.contextData;if(d&&d.a&&d.a.activitymap){var u=d.a.activitymap,m=u.page,p=u.link,f=u.region,g=u.pageIDType;t.pageName=m||t.pageName,t.linkName=p||t.linkName,t.linkRegion=f||t.linkRegion,void 0!==g&&(t.pageIDType=g)}}},Ro=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.properties,a=e.logger,r=t||{};return{get pageName(){return r.pageName},set pageName(e){r.pageName=e},get linkName(){return r.linkName},set linkName(e){r.linkName=e},get linkRegion(){return r.linkRegion},set linkRegion(e){r.linkRegion=e},get linkType(){return r.linkType},set linkType(e){r.linkType=e},get linkUrl(){return r.linkUrl},set linkUrl(e){r.linkUrl=e},get pageIDType(){return r.pageIDType},set pageIDType(e){r.pageIDType=e},get clickedElement(){return r.clickedElement},set clickedElement(e){r.clickedElement=e},get properties(){return{pageName:r.pageName,linkName:r.linkName,linkRegion:r.linkRegion,linkType:r.linkType,linkUrl:r.linkUrl,pageIDType:r.pageIDType}},isValidLink:function(){return!!(r.linkUrl&&r.linkType&&r.linkName&&r.linkRegion)},isInternalLink:function(){return this.isValidLink()&&"other"===r.linkType},isValidActivityMapData:function(){return!!r.pageName&&!!r.linkName&&!!r.linkRegion&&void 0!==r.pageIDType},get xdm(){return r.filteredXdm?r.filteredXdm:Oo(this)},get data(){return r.filteredData?r.filteredData:Eo(this)},applyPropertyFilter:function(e){e&&!1===e(r)&&(a&&a.info("Clicked element properties were rejected by filter function: ".concat(JSON.stringify(this.properties,null,2))),r={})},applyOptionsFilter:function(e){var t=this.options;if(t&&t.clickedElement&&(t.xdm||t.data)){if(e&&!1===e(t))return a&&a.info("Clicked element properties were rejected by filter function: ".concat(JSON.stringify(this.properties,null,2))),void(this.options=void 0);this.options=t,r.filteredXdm=t.xdm,r.filteredData=t.data}},get options(){var e={};if(this.isValidLink()&&(e.xdm=this.xdm),this.isValidActivityMapData()&&(e.data=this.data),this.clickedElement&&(e.clickedElement=this.clickedElement),e.xdm||e.data)return e},set options(e){r={},e&&So(e,r)}}},Lo=function(e){var t=e.clickActivityStorage;return function(e){if(!jo()){var a=t.load(),r=Ro({properties:a});if(r.isValidLink()||r.isValidActivityMapData()){if(r.isValidLink()){var n=r.xdm;delete n.eventType,e.mergeXdm(n)}r.isValidActivityMapData()&&e.mergeData(r.data),t.save({pageName:r.pageName,pageIDType:r.pageIDType})}}}},To=function(e){var t=e.window,a=e.getLinkName,r=e.getLinkRegion,n=e.getAbsoluteUrlFromAnchorElement,s=e.findClickableElement,o=e.determineLinkType;return function(e){var i=e.clickedElement,c=e.config,l=e.logger,d=e.clickActivityStorage,u=c.onBeforeLinkClickSend,m=c.clickCollection.filterClickDetails,p=Ro({logger:l});if(i){var f=s(i);if(f){p.clickedElement=i,p.linkUrl=n(t,f),p.linkType=o(t,c,p.linkUrl,f),p.linkRegion=r(f),p.linkName=a(f),p.pageIDType=0,p.pageName=t.location.href;var g=d.load();g&&g.pageName&&(p.pageName=g.pageName,p.pageIDType=1),m?p.applyPropertyFilter(m):u&&p.applyOptionsFilter(u)}}return p}},Ao="clickData",Do=function(e){var t=e.storage;return{save:function(e){var a=JSON.stringify(e);t.setItem(Ao,a)},load:function(){var e=null,a=t.getItem(Ao);return a&&(e=JSON.parse(a)),e},remove:function(){t.removeItem(Ao)}}},Mo=function(e){var t=e.clickActivityStorage;return function(e){t.save({pageName:e.getContent().xdm.web.webPageDetails.name,pageIDType:1})}},No=function(e){return e&&e.replace(/\s+/g," ").trim()},qo=/^(SCRIPT|STYLE|LINK|CANVAS|NOSCRIPT|#COMMENT)$/i,Fo=function(e){return!(e&&e.nodeName&&e.nodeName.match(qo))},Uo=function(e){var t=[],a=!1;return Fo(e)?(t.push(e),e.childNodes&&Array.prototype.slice.call(e.childNodes).forEach((function(e){var r=Uo(e);t=t.concat(r.supportedNodes),a=a||r.includesUnsupportedNodes}))):a=!0,{supportedNodes:t,includesUnsupportedNodes:a}},Bo=function(e,t,a){var r;return a&&a!==e.nodeName.toUpperCase()||(r=e.getAttribute(t)),r},Go=function(e){var t={texts:[]};return e.supportedNodes.forEach((function(e){e.getAttribute&&(t.alt||(t.alt=No(e.getAttribute("alt"))),t.title||(t.title=No(e.getAttribute("title"))),t.inputValue||(t.inputValue=No(Bo(e,"value","INPUT"))),t.imgSrc||(t.imgSrc=No(Bo(e,"src","IMG")))),e.nodeValue&&t.texts.push(e.nodeValue)})),t},Ho=/^(HEADER|MAIN|FOOTER|NAV)$/i,Jo=function(e){var t;return"region"===e.role&&da(e["aria-label"])&&(t=e["aria-label"]),t},zo=function(e){var t;return e&&e.nodeName&&e.nodeName.match(Ho)&&(t=e.nodeName),t},Wo=function(e){return!!e&&/^[a-z0-9]+:\/\//i.test(e)},$o=function(e){return!(!e.href||"A"!==e.tagName&&"AREA"!==e.tagName||e.onclick&&e.protocol&&!(e.protocol.toLowerCase().indexOf("javascript")<0))},Qo=function(e){return!!e&&!!e.onclick},Ko=function(e){if("INPUT"===e.tagName){var t=e.getAttribute("type");if("submit"===t)return!0;if("image"===t&&e.src)return!0}return!1},Yo=function(e){return"BUTTON"===e.tagName&&"submit"===e.type},Xo=function(e){var t=e.indexOf("?"),a=e.indexOf("#");return t>=0&&(t<a||a<0)?e.substring(0,t):a>=0?e.substring(0,a):e},Zo=function(e,t,a){var r=!1;if(t)if(a&&a.download)r=!0;else if(e){var n=new RegExp(e),s=Xo(t).toLowerCase();r=n.test(s)}return r},ei=function(e,t){var a=!1;if(t&&e.location.hostname){var r=e.location.hostname.toLowerCase();a=Xo(t).toLowerCase().indexOf(r)<0}return a},ti=function(e){var t=e.getContent();return void 0!==t.xdm&&void 0!==t.xdm.web&&void 0!==t.xdm.web.webPageDetails&&void 0!==t.xdm.web.webPageDetails.name},ai=function(){var e={};return{getItem:function(t){return e[t]},setItem:function(t,a){e[t]=a},removeItem:function(t){delete e[t]}}},ri=To({window:window,getLinkName:function(e){var t=No(e.innerText||e.textContent),a=Uo(e);if(!t||a.includesUnsupportedNodes){var r=Go(a);(t=No(r.texts.join("")))||(t=r.alt||r.title||r.inputValue||r.imgSrc)}return t||""},getLinkRegion:function(e){for(var t,a=e.parentNode;a;){if(t=No(a.id||Jo(a)||zo(a)))return t;a=a.parentNode}return"BODY"},getAbsoluteUrlFromAnchorElement:function(e,t){var a=e.location,r=t.href||"";"string"!=typeof r&&(r="");var n=t.protocol,s=t.host;if(r&&!Wo(r)){n||(n=a.protocol?a.protocol:""),n=n?"".concat(n,"//"):"",s||(s=a.host?a.host:"");var o="";if("/"!==r.substring(0,1)){var i=a.pathname.lastIndexOf("/");i=i<0?0:i,o=a.pathname.substring(0,i)}r="".concat(n).concat(s).concat(o,"/").concat(r)}return r},findClickableElement:function(e){for(var t=e;t;){if($o(t)||Qo(t)||Ko(t)||Yo(t))return t;t=t.parentNode}return null},determineLinkType:function(e,t,a,r){var n="other";return da(a)&&(Zo(t.downloadLinkQualifier,a,r)?n="download":ei(e,a)&&(n="exit")),n}}),ni=function(e){if(!so){var t=ra(window)(e.orgId||""),a=ai(),r=e.clickCollection.sessionStorageEnabled?t.session:a;so=Do({storage:r})}},si=function(e){var t=e.config,a=e.eventManager,r=e.handleError,n=e.logger,s=t.clickCollection;so||ni(t);var o=Vo({config:t,logger:n,clickActivityStorage:so,getClickedElementProperties:ri}),i=Lo({clickActivityStorage:so}),c=Mo({clickActivityStorage:so});return{lifecycle:{onComponentsRegistered:function(e){var t=e.lifecycle;yo({eventManager:a,lifecycle:t,handleError:r})},onClick:function(e){var t=e.event,a=e.clickedElement;o({event:t,clickedElement:a})},onBeforeEvent:function(e){var t=e.event;ti(t)&&(s.eventGroupingEnabled&&i(t),c(t,n,so))}}}};si.namespace="ActivityCollector",si.configValidators=ko,si.buildOnInstanceConfiguredExtraParams=function(e){var t=e.config,a=e.logger;return so||ni(t),{getLinkDetails:function(e){return ri({clickActivityStorage:so,clickedElement:e,config:t,logger:a}).properties}}};var oi=function(e){return"URL destination ".concat("succeeded",": ",e.spec.url)},ii=function(e){var t=e.fireReferrerHideableImage,a=e.logger,r=e.cookieJar,n=e.isPageSsl?{sameSite:"none",secure:!0}:{},s=function(e){e.filter((function(e){return"cookie"===e.type})).forEach((function(e){var t=e.spec,a=t.name,s=t.value,o=t.domain,i=t.ttlDays;r.set(a,s||"",u({domain:o||"",expires:i||10},n))}))},o=function(e){var r=e.filter((function(e){return"url"===e.type}));return Promise.all(r.map((function(e){return t(e.spec).then((function(){a.info(oi(e))})).catch((function(){}))}))).then(ua)};return function(e){return s(e),o(e)}},ci=function(e){var t=e.processDestinations,a=function(e){var a=e.response.getPayloadsByType("activation:push");return t(a)},r=function(e){return{destinations:e.response.getPayloadsByType("activation:pull")}};return function(e){var t=e.response;return a({response:t}).then((function(){return r({response:t})}))}},li=function(e){var t=e.logger,a=e.fireReferrerHideableImage,r=Ee.withConverter({write:function(e){return encodeURIComponent(e)}}),n=Ae({logger:t,cookieJar:r}),s=ii({fireReferrerHideableImage:a,logger:t,cookieJar:n,isPageSsl:"https:"===window.location.protocol});return{lifecycle:{onResponse:ci({processDestinations:s})},commands:{}}};li.namespace="Audiences";var di=function(e){return function(t){var a={webPageDetails:{URL:e.location.href||e.location},webReferrer:{URL:e.document.referrer}};Re(t,{web:a})}},ui=function(e){var t=e.screen.orientation;if(null==t||null==t.type)return null;var a=t.type.split("-");return 0===a.length||"portrait"!==a[0]&&"landscape"!==a[0]?null:a[0]},mi=function(e){if(Ze(e.matchMedia)){if(e.matchMedia("(orientation: portrait)").matches)return"portrait";if(e.matchMedia("(orientation: landscape)").matches)return"landscape"}return null},pi=function(e){return function(t){var a=e.screen,r=a.width,n=a.height,s={},o=ya(n);o>=0&&(s.screenHeight=o);var i=ya(r);i>=0&&(s.screenWidth=i);var c=ui(e)||mi(e);c&&(s.screenOrientation=c),Object.keys(s).length>0&&Re(t,{device:s})}},fi=function(e){return function(t){var a=e.document.documentElement,r=void 0===a?{}:a,n=r.clientWidth,s=r.clientHeight,o={type:"browser"},i=ya(n);i>=0&&(o.browserDetails={viewportWidth:i});var c=ya(s);c>=0&&(o.browserDetails=o.browserDetails||{},o.browserDetails.viewportHeight=c),Re(t,{environment:o})}},gi=function(e){return function(t){var a=e(),r={},n=ya(a.getTimezoneOffset());void 0!==n&&(r.localTimezoneOffset=n),(void 0===n||Math.abs(n)<6e3)&&(r.localTime=ka(a)),Re(t,{placeContext:r})}},hi=function(e){return function(t){var a=e().toISOString();Re(t,{timestamp:a})}},vi="https://ns.adobe.com/experience/alloy",_i=function(e){var t={name:vi,version:ao,environment:"browser"};Re(e,{implementationDetails:t})},bi=function(e,t,a,r){var n=e.context.flatMap((function(e,r){return a[e]?[a[e]]:(t.warn("Invalid context[".concat(r,"]: '").concat(e,"' is not available.")),[])})).concat(r);return{namespace:"Context",lifecycle:{onBeforeEvent:function(e){var a=e.event,r={};return Promise.all(n.map((function(e){return Promise.resolve(e(r,t))}))).then((function(){return a.mergeXdm(r)}))}}}},yi=[["architecture","string"],["bitness","string"],["model","string"],["platformVersion","string"],["wow64","boolean"]],Pi=function(e){return void 0!==e.userAgentData},ki=function(e){return Pi(e)?function(t,a){try{return e.userAgentData.getHighEntropyValues(yi.map((function(e){return e[0]}))).then((function(e){var a={};yi.forEach((function(t){var r=o(t,2),n=r[0],s=r[1];Object.prototype.hasOwnProperty.call(e,n)&&P(e[n])===s&&(a[n]=e[n])})),Re(t,{environment:{browserDetails:{userAgentClientHints:a}}})}))}catch(e){return a.warn("Unable to collect user-agent client hints. ".concat(e.message)),ua}}:ua},Ci=di(window),ji=pi(window),wi=fi(window),xi=gi((function(){return new Date})),Ii=hi((function(){return new Date})),Vi={web:Ci,device:ji,environment:wi,placeContext:xi},Oi={highEntropyUserAgentHints:ki(navigator)},Ei=u(u({},Vi),Oi),Si=[Ii,_i],Ri=function(e){var t=e.config,a=e.logger;return bi(t,a,Ei,Si)};Ri.namespace="Context",Ri.configValidators=Mr({context:Sr(Nr()).default(Object.keys(Vi))});var Li="personalization:decisions",Ti=function(e){return null!==e&&"object"===P(e)&&Object.getPrototypeOf(e)===Object.prototype},Ai=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Object.keys(e).forEach((function(r){Ti(e[r])||Array.isArray(e[r])?Ai(e[r],t,[].concat(g(a),[r])):t[[].concat(g(a),[r]).join(".")]=e[r]})),t},Di=function(e){return Ti(e)?Ai(e):e},Mi=function(e){var t=e.renderDecisions,a=e.decisionProvider,r=e.applyResponse,n=e.event,s=e.personalization,o=e.decisionContext,i=u(u({},Di(n.getContent())),o);return function(e){var o=e.response;if(a.addPayloads(o.getPayloadsByType(Li)),!n.hasQuery())return{propositions:[]};var c=a.evaluate(i);return r({renderDecisions:t,propositions:c,event:n,personalization:s})}},Ni={MATCHER:"matcher",GROUP:"group",HISTORICAL:"historical"},qi={EQUALS:"eq",NOT_EQUALS:"ne",EXISTS:"ex",NOT_EXISTS:"nx",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"ge",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"le",CONTAINS:"co",NOT_CONTAINS:"nc",STARTS_WITH:"sw",ENDS_WITH:"ew"},Fi={AND:"and",OR:"or"},Ui={ANY:"any",ORDERED:"ordered"},Bi=(m(m(m(m(m(m(m(m(m(m(pe={},qi.EQUALS,E()),qi.NOT_EQUALS,S()),qi.EXISTS,R()),qi.NOT_EXISTS,L()),qi.GREATER_THAN,A()),qi.GREATER_THAN_OR_EQUAL_TO,D()),qi.LESS_THAN,M()),qi.LESS_THAN_OR_EQUAL_TO,N()),qi.CONTAINS,q()),qi.NOT_CONTAINS,F()),m(m(pe,qi.STARTS_WITH,U()),qi.ENDS_WITH,B())),Gi=["iam.eventType","eventType","type"],Hi=["iam.id","id"],Ji="https://ns.adobe.com/personalization/default-content-item",zi="https://ns.adobe.com/personalization/dom-action",Wi="https://ns.adobe.com/personalization/html-content-item",$i="https://ns.adobe.com/personalization/json-content-item",Qi="https://ns.adobe.com/personalization/ruleset-item",Ki="https://ns.adobe.com/personalization/redirect-item",Yi="https://ns.adobe.com/personalization/message/in-app",Xi="https://ns.adobe.com/personalization/message/content-card",Zi="decisioning.propositionDisplay",ec="decisioning.propositionInteract",tc="decisioning.propositionTrigger",ac="decisioning.propositionDismiss",rc="decisioning.propositionSuppressDisplay",nc=1,sc=function(e,t){return function(a){var r=e.getItem(t);if(!r)return a;try{return JSON.parse(r)}catch(e){return a}}},oc=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};return function(r){e.setItem(t,JSON.stringify(a(r)))}},ic=function(e){var t=new Date;return t.setDate(t.getDate()-e),t},cc=function(e){var t=e.scopeDetails,a=(void 0===t?{}:t).activity;return(void 0===a?{}:a).id},lc=function(){var e={};return{getItem:function(t){return t in e?e[t]:null},setItem:function(t,a){e[t]=a}}},dc=function(e){e.clear()},uc=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})._experience;return!(!e||"object"!==P(e))},mc=function(e){var t=e.scopeDetails;return(void 0===t?{}:t).decisionProvider},pc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return Array.isArray(e)?(e.forEach((function(e){Array.isArray(e)?t.push.apply(t,g(pc(e))):t.push(e)})),t):e},fc="text/html",gc="application/json",hc=function(e,t,a){return{schema:a.schema,data:a.data,id:a.id||e}},vc="schema",_c=m(m({},"cjmiam",(function(e,t,a){var r=a.html,n=a.mobileParameters;return{schema:Yi,data:{mobileParameters:n,webParameters:{},content:r,contentType:fc},id:e}})),vc,hc),bc=function(){return function(e){var t=e.id,a=e.type,r=e.detail;return"function"==typeof _c[a]?_c[a](t,a,r):r}},yc=function(e){var t=e.schema,a=e.data;if(t===Qi)return!0;if(t!==$i)return!1;try{var r="string"==typeof a.content?JSON.parse(a.content):a.content;return r&&Object.prototype.hasOwnProperty.call(r,"version")&&Object.prototype.hasOwnProperty.call(r,"rules")}catch(e){return!1}},Pc=function(e,t,a){var r,n=bc(),s=cc(e),o=[],i=function(e){var t=e.data,a=void 0===t?{}:t,r=e.schema===Qi?a:a.content;r&&o.push(me("string"==typeof r?JSON.parse(r):r))},c=function(r){var i=t.getEvent(Zi,s),c=i?i.firstTimestamp:void 0,l=pc(o.map((function(e){return e.execute(r)}))).map(n).map((function(e){var t=(a.recordQualified(s)||{}).firstTimestamp;return u(u({},e),{},{data:u(u({},e.data),{},{qualifiedDate:t,displayedDate:c})})}));return u(u({},e),{},{items:l})};return Array.isArray(e.items)&&e.items.filter(yc).forEach(i),{rank:(null==e||null===(r=e.scopeDetails)||void 0===r?void 0:r.rank)||1/0,evaluate:c,isEvaluable:o.length>0}},kc={DISPLAY:"display",INTERACT:"interact",TRIGGER:"trigger",DISMISS:"dismiss",SUPPRESS:"suppressDisplay"},Cc=m(m(m(m(m({},Zi,kc.DISPLAY),ec,kc.INTERACT),tc,kc.TRIGGER),ac,kc.DISMISS),rc,kc.SUPPRESS),jc=m(m(m(m(m({},kc.DISPLAY,Zi),kc.INTERACT,ec),kc.TRIGGER,tc),kc.DISMISS,ac),kc.SUPPRESS,rc),wc=function(e){return Cc[e]},xc=function(e){return jc[e]},Ic=function(e){var t=e.eventRegistry;return{recordQualified:function(e){if(e)return t.addEvent({},kc.TRIGGER,e)}}},Vc=function(e){var t=e.eventRegistry,a={},r=Ic({eventRegistry:t}),n=function(e){var n=cc(e);if(n){var s=Pc(e,t,r);s.isEvaluable&&(a[n]=s)}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.values(a).sort((function(e,t){return e.rank-t.rank})).map((function(t){return t.evaluate(e)})).filter((function(e){return e.items.length>0}))};return{addPayload:n,addPayloads:function(e){e.forEach(n)},evaluate:s}},Oc=function(e){return function(t){var a=t.renderDecisions,r=void 0!==a&&a,n=t.propositions,s=void 0===n?[]:n,o=t.event,i=t.personalization;return e&&e.onDecision({renderDecisions:r,propositions:s,event:o,personalization:i}),{propositions:s}}},Ec="AJO",Sc="TGT",Rc="events",Lc=1e3,Tc=30,Ac=function(e){return"iam.".concat(e)},Dc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lc,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tc;return function(a){var r={};return Object.keys(a).forEach((function(n){r[n]={},Object.values(a[n]).filter((function(e){return new Date(e.firstTimestamp)>=ic(t)})).sort((function(e,t){return e.firstTimestamp-t.firstTimestamp})).slice(-1*e).forEach((function(e){r[n][e.event[Ac("id")]]=e}))})),r}},Mc=function(e){var t,a,r,n=e.storage,s=n,o=function(e){t=sc(s=e,Rc),a=oc(s,Rc,Dc(Lc,Tc)),r=t({})};o(n);var i=function(e,t,n,s){if(t&&n){r[t]||(r[t]={});var o=r[t][n],i=o?o.count:0,c=(new Date).getTime(),l=o?o.firstTimestamp||o.timestamp:c;return r[t][n]={event:u(u({},e),{},m(m(m({},Ac("id"),n),Ac("eventType"),t),Ac("action"),s)),firstTimestamp:l,timestamp:c,count:i+1},a(r),r[t][n]}};return{addExperienceEdgeEvent:function(e){var t=e.getContent().xdm,a=void 0===t?{}:t,r=a._experience;if(uc(a)){var n=r.decisioning,s=void 0===n?{}:n,o=s.propositionEventType,c=void 0===o?{}:o,l=s.propositionAction,d=void 0===l?{}:l,u=s.propositions,m=void 0===u?[]:u,p=Object.keys(c);if(0!==p.length){var f=function(e){return c[e]===nc},g=d.id;p.filter(f).forEach((function(e){m.forEach((function(t){mc(t)===Ec&&i({},e,cc(t),g)}))}))}}},addEvent:i,getEvent:function(e,t){if(r[e])return r[e][t]},toJSON:function(){return r},setStorage:o}},Nc=function(e){var t=e.eventRegistry,a=e.window,r=e.getBrowser,n=(new Date).getTime(),s=function(){return u({title:a.title,url:a.url},fa(a.url))},o=function(){return u({url:a.referrer},fa(a.referrer))},i=function(){var e=new Date,t=e.getTime();return{pageLoadTimestamp:n,currentTimestamp:t,currentDate:e.getDate(),"~state.com.adobe.module.lifecycle/lifecyclecontextdata.dayofweek":e.getDay()+1,"~state.com.adobe.module.lifecycle/lifecyclecontextdata.hourofday":e.getHours(),currentMinute:e.getMinutes(),currentMonth:e.getMonth(),currentYear:e.getFullYear(),pageVisitDuration:t-n,"~timestampu":t/1e3,"~timestampz":e.toISOString()}},c=function(){return{height:a.height,width:a.width,scrollY:a.scrollY,scrollX:a.scrollX}},l={browser:{name:r()},page:s(),referringPage:o()},d=function(){return u(u(u({},l),i()),{},{window:c(),"~sdkver":ao})},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=u(u({},d()),e);return u(u({},Di(a)),{},{events:t.toJSON()})};return{getContext:m}},qc=function(){for(var e=arguments.length,t=new Array(e>1?e-1:0),a=1;a<e;a++)t[a-1]=arguments[a];return t},Fc=function(){return!0},Uc=function(){var e=qc,t=Fc,a=0,r={},n=function(e){return function(){delete r[e]}},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return"function"!=typeof e?function(){}:(r[a+=1]={callback:e,params:t},{id:a,unsubscribe:n(a)})},o=function(){for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];Object.values(r).forEach((function(a){var r=a.callback,s=a.params,o=e.apply(void 0,[s].concat(n));t.apply(void 0,[s].concat(g(o)))&&r.apply(void 0,g(o))}))},i=function(a){if(a&&r[a]){for(var n=r[a],s=n.callback,o=n.params,i=arguments.length,c=new Array(i>1?i-1:0),l=1;l<i;l++)c[l-1]=arguments[l];var d=e.apply(void 0,[o].concat(c));t.apply(void 0,[o].concat(g(d)))&&s.apply(void 0,g(d))}};return{add:s,emit:o,emitOne:i,hasSubscriptions:function(){return Object.keys(r).length>0},setEmissionPreprocessor:function(t){"function"==typeof t&&(e=t)},setEmissionCondition:function(e){"function"==typeof e&&(t=e)}}},Bc=function(e){var t=e.options;return Mr({surfaces:Sr(Nr()).uniqueItems(),schemas:Sr(Nr()).uniqueItems(),callback:Lr().required()}).noUnknownFields()(t)},Gc=function(e){return{id:e.id,scope:e.scope,scopeDetails:e.scopeDetails}},Hc=function(e){var t=e.collect,a=function(){},r=new Set,n=function(e){return[kc.INTERACT,kc.DISMISS].includes(e)},s=function(e,t,a){var s=[e,t].join("-"),o=!a.has(s)&&(n(e)||!r.has(s));return a.add(s),r.add(s),o},o=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!(a instanceof Array))return Promise.resolve();if(!Object.values(kc).includes(e))return Promise.resolve();var r=[],n=new Set;return a.forEach((function(t){var a=Gc(t);s(e,a.id,n)&&r.push(a)})),r.length>0?t({decisionsMeta:r,eventType:xc(e),documentMayUnload:!0}):Promise.resolve()},i=Uc(),c=function(e,t){var a=e.surfacesFilter,r=e.schemasFilter;return[{propositions:t.filter((function(e){return!a||a.includes(e.scope)})).map((function(e){var t=e.items,a=void 0===t?[]:t;return u(u({},e),{},{items:a.filter((function(e){return!r||r.includes(e.schema)}))})})).filter((function(e){return e.items.length>0}))},o]};i.setEmissionPreprocessor(c);var l=function(e){var t=e.surfaces,r=e.schemas,n=e.callback,s=i.add(n,{surfacesFilter:t instanceof Array?t:void 0,schemasFilter:r instanceof Array?r:void 0}),o=s.id,c=s.unsubscribe;return a(o),Promise.resolve({unsubscribe:c})};return{refresh:function(e){(a=function(t){t?i.emitOne(t,e):i.emit(e)})()},command:{optionsValidator:function(e){return Bc({options:e})},run:l}}},Jc={TYPE:"~type",SOURCE:"~source"},zc={LIFECYCLE:"com.adobe.eventType.lifecycle",TRACK:"com.adobe.eventType.generic.track",EDGE:"com.adobe.eventType.edge",RULES_ENGINE:"com.adobe.eventType.rulesEngine"},Wc={LAUNCH:"com.adobe.eventSource.applicationLaunch",REQUEST:"com.adobe.eventSource.requestContent"},$c=function(e){var t=e.options;return Mr({renderDecisions:Rr(),personalization:Mr({decisionContext:Mr({})})}).noUnknownFields()(t)},Qc=function(e){var t=e.contextProvider,a=e.decisionProvider;return{optionsValidator:function(e){return $c({options:e})},run:function(e){var r=e.renderDecisions,n=e.decisionContext;return(0,e.applyResponse)({renderDecisions:r,propositions:a.evaluate(t.getContext(n))})}}},Kc=function(e){var t=e.eventManager,a=e.mergeDecisionsMeta;return function(e){var r=e.decisionsMeta,n=void 0===r?[]:r,s=e.propositionAction,o=e.documentMayUnload,i=void 0!==o&&o,c=e.eventType,l=void 0===c?Zi:c,d=e.propositionEventTypes,u=void 0===d?[wc(l)]:d,m=e.viewName,p=t.createEvent(),f={eventType:l};return m&&(f.web={webPageDetails:{viewName:m}}),et(n)&&a(p,n,u,s),p.mergeXdm(f),i&&p.documentMayUnload(),t.sendEvent(p)}},Yc=function(e,t,a,r){if(0!==t.length){var n={};a.forEach((function(e){n[e]=nc}));var s={_experience:{decisioning:{propositions:t,propositionEventType:n}}};r&&(s._experience.decisioning.propositionAction=r),e.mergeXdm(s)}},Xc=function(e,t){e.mergeQuery({personalization:u({},t)})},Zc=function(e){var t=e.config,a=e.eventManager,r=e.createNamespacedStorage,n=e.consent,s=e.getBrowser,o=t.orgId,i=t.personalizationStorageEnabled,c=Kc({eventManager:a,mergeDecisionsMeta:Yc}),l=r("".concat(Mt(o),".decisioning."));i||dc(l.persistent);var d,p=Mc({storage:lc()}),f=Vc({eventRegistry:p}),g=Nc({eventRegistry:p,window:window,getBrowser:s}),h=Qc({contextProvider:g,decisionProvider:f}),v=Hc({collect:c});return{lifecycle:{onDecision:function(e){var t=e.propositions;v.refresh(t)},onComponentsRegistered:function(e){d=Oc(e.lifecycle),i&&n.awaitConsent().then((function(){p.setStorage(l.persistent)})).catch((function(){l&&dc(l.persistent)}))},onBeforeEvent:function(e){var t=e.event,a=e.renderDecisions,r=e.personalization,n=void 0===r?{}:r,s=e.onResponse,o=void 0===s?ua:s,i=n.decisionContext,c=void 0===i?{}:i;o(Mi({renderDecisions:a,decisionProvider:f,applyResponse:d,event:t,personalization:n,decisionContext:g.getContext(u(m(m({},Jc.TYPE,zc.EDGE),Jc.SOURCE,Wc.REQUEST),c))}))},onBeforeRequest:function(e){var t=e.request.getPayload().toJSON().events,a=void 0===t?[]:t;0!==a.length&&a.forEach((function(e){return p.addExperienceEdgeEvent(e)}))}},commands:{evaluateRulesets:{run:function(e){var t=e.renderDecisions,a=e.personalization,r=(void 0===a?{}:a).decisionContext,n=void 0===r?{}:r;return h.run({renderDecisions:t,decisionContext:u(m(m({},Jc.TYPE,zc.RULES_ENGINE),Jc.SOURCE,Wc.REQUEST),n),applyResponse:d})},optionsValidator:h.optionsValidator},subscribeRulesetItems:v.command}}};Zc.namespace="RulesEngine",Zc.configValidators=Mr({personalizationStorageEnabled:Rr().default(!1)});var el=t.createEventMergeId=function(){return{eventMergeId:V()}},tl=function(e){return{commands:{createEventMergeId:{run:e.createEventMergeId}}}},al=function(){return tl({createEventMergeId:el})};al.namespace="EventMerge";var rl={PAUSE:"media.pauseStart",PLAY:"media.play",BUFFER_START:"media.bufferStart",AD_START:"media.adStart",Ad_BREAK_START:"media.adBreakStart",SESSION_END:"media.sessionEnd",SESSION_START:"media.sessionStart",SESSION_COMPLETE:"media.sessionComplete",PING:"media.ping",AD_BREAK_COMPLETE:"media.adBreakComplete",AD_COMPLETE:"media.adComplete",AD_SKIP:"media.adSkip",BITRATE_CHANGE:"media.bitrateChange",CHAPTER_COMPLETE:"media.chapterComplete",
CHAPTER_SKIP:"media.chapterSkip",CHAPTER_START:"media.chapterStart",ERROR:"media.error",STATES_UPDATE:"media.statesUpdate"},nl=function(e){var t=e.mediaRequestPayload,a=e.action;return Mn({payload:t,edgeSubPath:"/va",getAction:function(){return a},getUseSendBeacon:function(){return!1}})},sl=function(e){var t=e.config,a=e.eventManager,r=e.consent,n=e.sendEdgeNetworkRequest,s=e.setTimestamp;return{createMediaEvent:function(e){var r=e.options,n=a.createEvent(),o=r.xdm;if(s(o),n.setUserXdm(o),o.eventType===rl.AD_START){var i=r.xdm.mediaCollection.advertisingDetails;n.mergeXdm({mediaCollection:{advertisingDetails:{playerName:i.playerName||t.streamingMedia.playerName}}})}return n},createMediaSession:function(e){var r=t.streamingMedia,n=r.playerName,s=r.channel,o=r.appVersion,i=a.createEvent(),c=e.xdm.mediaCollection.sessionDetails;return i.setUserXdm(e.xdm),i.mergeXdm({eventType:rl.SESSION_START,mediaCollection:{sessionDetails:{playerName:c.playerName||n,channel:c.channel||s,appVersion:c.appVersion||o}}}),i},augmentMediaEvent:function(e){var t=e.event,a=e.playerId,r=e.getPlayerDetails,n=e.sessionID;if(!a||!r)return t;var s=r({playerId:a}),o=s.playhead,i=s.qoeDataDetails;return t.mergeXdm({mediaCollection:{playhead:ya(o),qoeDataDetails:i,sessionID:n}}),t},trackMediaSession:function(e){var t=e.event,r={mediaOptions:e.mediaOptions,edgeConfigOverrides:e.edgeConfigOverrides};return a.sendEvent(t,r)},trackMediaEvent:function(e){var t=e.event,a=e.action,s=Un(),o=nl({mediaRequestPayload:s,action:a});return s.addEvent(t),t.finalize(),r.awaitConsent().then((function(){return n({request:o}).then((function(){return{}}))}))}}},ol={MAIN:"main",AD:"ad",COMPLETED:"completed"},il=function(){var e;return{getSession:function(t){return e[t]||{}},storeSession:function(t){var a=t.playerId,r=t.sessionDetails;void 0===e&&(e={}),e[a]=r},stopPing:function(t){var a=t.playerId,r=e[a];r&&(clearTimeout(r.pingId),r.pingId=null,r.playbackState=ol.COMPLETED)},savePing:function(t){var a=t.playerId,r=t.pingId,n=t.playbackState;e[a]&&(e[a].pingId&&clearTimeout(e[a].pingId),e[a].pingId=r,e[a].playbackState=n)}}},cl=function(e,t){return e===rl.AD_START||e===rl.Ad_BREAK_START||e===rl.AD_SKIP||e===rl.AD_COMPLETE?"ad":e===rl.AD_BREAK_COMPLETE||e===rl.CHAPTER_COMPLETE||e===rl.CHAPTER_START||e===rl.CHAPTER_SKIP||e===rl.SESSION_START?"main":e===rl.SESSION_END||e===rl.SESSION_COMPLETE?"completed":t},ll=function(e){var t=e.mediaEventManager,a=e.mediaSessionCacheManager,r=e.config,n=function(e){var s=t.createMediaEvent({options:e}),o=e.playerId,i=e.xdm.eventType,c=i.split(".")[1],l=a.getSession(o),d=l.getPlayerDetails,u=l.sessionPromise,m=l.playbackState;return u.then((function(e){return e.sessionId?(t.augmentMediaEvent({event:s,eventType:i,playerId:o,getPlayerDetails:d,sessionID:e.sessionId}),t.trackMediaEvent({event:s,action:c}).then((function(){if(o)if(i===rl.SESSION_COMPLETE||i===rl.SESSION_END)a.stopPing({playerId:o});else{var e=cl(i,m);if("completed"===e)return;var t="ad"===e?r.streamingMedia.adPingInterval:r.streamingMedia.mainPingInterval,s=setTimeout((function(){var e={playerId:o,xdm:{eventType:rl.PING}};n(e)}),1e3*t);a.savePing({playerId:o,pingId:s,playbackState:e})}}))):Promise.reject(new Error("Failed to trigger media event: ".concat(i,". Session ID is not available for playerId: ").concat(o,".")))}))};return function(e){return n(e)}},dl=function(e){var t=e.config,a=e.mediaEventManager,r=e.mediaSessionCacheManager,n=e.legacy,s=void 0!==n&&n;return function(e){if(!t.streamingMedia)return Promise.reject(new Error("Streaming media is not configured."));var n=e.playerId,o=e.getPlayerDetails,i=e.edgeConfigOverrides,c=a.createMediaSession(e);a.augmentMediaEvent({event:c,playerId:n,getPlayerDetails:o});var l=a.trackMediaSession({event:c,mediaOptions:{playerId:n,getPlayerDetails:o,legacy:s},edgeConfigOverrides:i});return r.storeSession({playerId:n,sessionDetails:{sessionPromise:l,getPlayerDetails:o,playbackState:ol.MAIN}}),l}},ul=function(e){return!la(e)||!e.trim()},ml=function(e){var t=e.mediaSessionCacheManager,a=e.config,r=e.trackMediaEvent;return function(e){var n=e.response,s=e.playerId,o=e.getPlayerDetails,i=n.getPayloadsByType("media-analytics:new-session");if(et(i)){var c=i[0].sessionId;if(ul(c))return{};if(!s||!o)return{sessionId:c};var l=setTimeout((function(){r({playerId:s,xdm:{eventType:rl.PING}})}),1e3*a.streamingMedia.mainPingInterval);return t.savePing({playerId:s,pingId:l,playbackState:ol.MAIN}),{sessionId:c}}return{}}},pl={Video:"video",Audio:"audio"},fl={VOD:"vod",Live:"live",Linear:"linear",Podcast:"podcast",Audiobook:"audiobook",AOD:"aod"},gl={FullScreen:"fullScreen",ClosedCaption:"closedCaptioning",Mute:"mute",PictureInPicture:"pictureInPicture",InFocus:"inFocus"},hl={AdBreakStart:"adBreakStart",AdBreakComplete:"adBreakComplete",AdStart:"adStart",AdComplete:"adComplete",AdSkip:"adSkip",ChapterStart:"chapterStart",ChapterComplete:"chapterComplete",ChapterSkip:"chapterSkip",SeekStart:"seekStart",SeekComplete:"seekComplete",BufferStart:"bufferStart",BufferComplete:"bufferComplete",BitrateChange:"bitrateChange",StateStart:"stateStart",StateEnd:"stateEnd"},vl={SessionStart:"sessionStart",SessionEnd:"sessionEnd",SessionComplete:"sessionComplete",Play:"play",Pause:"pauseStart",Error:"error",StateUpdate:"statesUpdate"},_l={MediaResumed:"media.resumed",GranularAdTracking:"media.granularadtracking"},bl={Show:"a.media.show",Season:"a.media.season",Episode:"a.media.episode",AssetId:"a.media.asset",Genre:"a.media.genre",FirstAirDate:"a.media.airDate",FirstDigitalDate:"a.media.digitalDate",Rating:"a.media.rating",Originator:"a.media.originator",Network:"a.media.network",ShowType:"a.media.type",AdLoad:"a.media.adLoad",MVPD:"a.media.pass.mvpd",Authorized:"a.media.pass.auth",DayPart:"a.media.dayPart",Feed:"a.media.feed",StreamFormat:"a.media.format"},yl={Artist:"a.media.artist",Album:"a.media.album",Label:"a.media.label",Author:"a.media.author",Station:"a.media.station",Publisher:"a.media.publisher"},Pl={Advertiser:"a.media.ad.advertiser",CampaignId:"a.media.ad.campaign",CreativeId:"a.media.ad.creative",PlacementId:"a.media.ad.placement",SiteId:"a.media.ad.site",CreativeUrl:"a.media.ad.creativeURL"},kl=function(e){var t=e.trackMediaEvent,a=e.trackMediaSession,r=e.mediaResponseHandler,n=e.logger,s=e.createMediaHelper,o=e.createGetInstance,i=e.config;return{lifecycle:{onBeforeEvent:function(e){var t=e.mediaOptions,a=e.onResponse,n=void 0===a?ua:a;if(t){var s=t.legacy,o=t.playerId,i=t.getPlayerDetails;s&&n((function(e){var t=e.response;return r({playerId:o,getPlayerDetails:i,response:t})}))}}},commands:{getMediaAnalyticsTracker:{run:function(){if(!i.streamingMedia)return Promise.reject(new Error("Streaming media is not configured."));n.info("Streaming media is configured in legacy mode.");var e=s({logger:n});return Promise.resolve(u({getInstance:function(){return o({logger:n,trackMediaEvent:t,trackMediaSession:a,uuid:V})},Event:hl,MediaType:pl,PlayerState:gl,StreamType:fl,MediaObjectKey:_l,VideoMetadataKeys:bl,AudioMetadataKeys:yl,AdMetadataKeys:Pl},e))}}}}},Cl=function(e){var t=e.logger,a=function(e,a,r){var n={friendlyName:e,offset:a,index:r},s=Mr({friendlyName:Nr().nonEmpty(),offset:Ar(),index:Ar()});try{var o=s(n);return{advertisingPodDetails:{friendlyName:o.friendlyName,offset:o.offset,index:o.index}}}catch(e){return t.warn("An error occurred while creating the Ad Break Object.",e),{}}},r=function(e,a,r,n){var s={friendlyName:e,name:a,podPosition:r,length:n},o=Mr({friendlyName:Nr().nonEmpty(),name:Nr().nonEmpty(),podPosition:Ar(),length:Ar()});try{var i=o(s);return{advertisingDetails:{friendlyName:i.friendlyName,name:i.name,podPosition:i.podPosition,length:i.length}}}catch(e){return t.warn("An error occurred while creating the Advertising Object.",e),{}}},n=function(e,a,r,n){var s={friendlyName:e,offset:a,length:r,index:n},o=Mr({friendlyName:Nr().nonEmpty(),offset:Ar(),length:Ar(),index:Ar()});try{var i=o(s);return{chapterDetails:{friendlyName:i.friendlyName,offset:i.offset,index:i.index,length:i.length}}}catch(e){return t.warn("An error occurred while creating the Chapter Object.",e),{}}},s=function(e){var a=/^[a-zA-Z0-9_]{1,64}$/,r=Nr().matches(a,"This is not a valid state name.");try{return{name:r(e)}}catch(e){return t.warn("An error occurred while creating the State Object.",e),{}}},o=function(e,a,r,n){var s={bitrate:e,droppedFrames:a,fps:r,startupTime:n},o=Mr({bitrate:Ar(),droppedFrames:Ar(),fps:Ar(),startupTime:Ar()});try{var i=o(s);return{bitrate:i.bitrate,droppedFrames:i.droppedFrames,framesPerSecond:i.fps,timeToStart:i.startupTime}}catch(e){return t.warn("An error occurred while creating the QOE Object.",e),{}}};return{createMediaObject:function(e,a,r,n,s){var o={friendlyName:e,name:a,length:r,streamType:s,contentType:n},i=Mr({friendlyName:Nr().nonEmpty(),name:Nr().nonEmpty(),length:Ar().required(),streamType:Nr().nonEmpty(),contentType:Nr().nonEmpty()});try{var c=i(o);return{sessionDetails:{name:c.name,friendlyName:c.friendlyName,length:c.length,streamType:c.streamType,contentType:c.contentType}}}catch(e){return t.warn("An error occurred while creating the Media Object.",e),{}}},createAdBreakObject:a,createAdObject:r,createChapterObject:n,createStateObject:s,createQoEObject:o}},jl={"a.media.show":"show","a.media.season":"season","a.media.episode":"episode","a.media.asset":"assetID","a.media.genre":"genre","a.media.airDate":"firstAirDate","a.media.digitalDate":"firstDigitalDate","a.media.rating":"rating","a.media.originator":"originator","a.media.network":"network","a.media.type":"showType","a.media.adLoad":"adLoad","a.media.pass.mvpd":"mvpd","a.media.pass.auth":"authorized","a.media.dayPart":"dayPart","a.media.feed":"feed","a.media.format":"streamFormat","a.media.artist":"artist","a.media.album":"album","a.media.label":"label","a.media.author":"author","a.media.station":"station","a.media.publisher":"publisher","media.resumed":"hasResume"},wl={"a.media.ad.advertiser":"advertiser","a.media.ad.campaign":"campaignID","a.media.ad.creative":"creativeID","a.media.ad.placement":"placementID","a.media.ad.site":"siteID","a.media.ad.creativeURL":"creativeURL"},xl=function(e){var t=e.logger,a=e.trackMediaSession,r=e.trackMediaEvent,n=e.uuid,s=null,o=function(){s={qoe:null,lastPlayhead:0,playerId:n()}},i=function(e){var t=e.eventType;return t===hl.BufferComplete||t===hl.SeekComplete?vl.Play:t===hl.StateStart||t===hl.StateEnd?vl.StateUpdate:t===hl.SeekStart?vl.Pause:t},c=function(e){var t=e.eventType,a=e.mediaDetails,r=void 0===a?{}:a,n=e.contextData,s=void 0===n?[]:n,o=i({eventType:t});if(t===hl.StateStart)return{eventType:"media.".concat(o),mediaCollection:{statesStart:[r]}};if(t===hl.StateEnd)return{eventType:"media.".concat(o),mediaCollection:{statesEnd:[r]}};var c={eventType:"media.".concat(o),mediaCollection:u({},r)},l=[];return Object.keys(s).forEach((function(e){jl[e]?c.mediaCollection.sessionDetails[jl[e]]=s[e]:wl[e]?c.mediaCollection.advertisingDetails[wl[e]]=s[e]:l.push({name:e,value:s[e]})})),et(l)&&(c.mediaCollection.customMetadata=l),c};return{trackSessionStart:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(xe(e)||Et(e))return t.warn("Invalid media object"),{};null===s&&(t.warn("The Media Session was completed. Restarting a new session."),o());var n=c({eventType:vl.SessionStart,mediaDetails:e,contextData:r});return a({playerId:s.playerId,getPlayerDetails:function(){return{playhead:s.lastPlayhead,qoeDataDetails:s.qoe}},xdm:n})},trackPlay:function(){if(null===s)return t.warn("The Media Session was completed."),{};var e=c({eventType:vl.Play});return r({playerId:s.playerId,xdm:e})},trackPause:function(){if(null===s)return t.warn("The Media Session was completed."),{};var e=c({eventType:vl.Pause});return r({playerId:s.playerId,xdm:e})},trackSessionEnd:function(){if(null===s)return t.warn("The Media Session was completed."),{};var e=c({eventType:vl.SessionEnd});return r({playerId:s.playerId,xdm:e})},trackComplete:function(){if(null===s)return t.warn("The Media Session was completed."),{};var e=c({eventType:vl.SessionComplete});return r({playerId:s.playerId,xdm:e})},trackError:function(e){if(t.warn("trackError(".concat(e,")")),null===s)return t.warn("The Media Session was completed."),{};var a={name:e,source:"player"},n=c({eventType:vl.Error,mediaDetails:{errorDetails:a}});return r({playerId:s.playerId,xdm:n})},trackEvent:function(e,a,n){if(Et(a))return t.warn("Invalid media object."),{};if(null===s)return t.warn("The Media Session was completed."),{};if(!Object.values(hl).includes(e))return t.warn("Invalid event type"),{};var o=c({eventType:e,mediaDetails:a,contextData:n});return r({playerId:s.playerId,xdm:o})},updatePlayhead:function(e){null!==s?oa(e)&&(s.lastPlayhead=parseInt(e,10)):t.warn("The Media Session was completed.")},updateQoEObject:function(e){null!==s?e&&(s.qoe=e):t.warn("The Media Session was completed.")},destroy:function(){t.warn("Destroy called, destroying the tracker."),s=null}}},Il=function(e){var t=e.eventManager,a=e.sendEdgeNetworkRequest,r=e.config,n=e.logger,s=e.consent,o=il(),i=sl({sendEdgeNetworkRequest:a,config:r,consent:s,eventManager:t,setTimestamp:hi((function(){return new Date}))}),c=ll({mediaSessionCacheManager:o,mediaEventManager:i,config:r}),l=dl({config:r,mediaEventManager:i,mediaSessionCacheManager:o,legacy:!0}),d=ml({mediaSessionCacheManager:o,config:r,trackMediaEvent:c});return kl({mediaResponseHandler:d,trackMediaSession:l,trackMediaEvent:c,createMediaHelper:Cl,createGetInstance:xl,logger:n,config:r})};Il.namespace="Legacy Media Analytics";var Vl,Ol="web",El="webapp",Sl="://",Rl="#",Ll=/^(\w+):\/\/([^/#]+)(\/[^#]*)?(#.*)?$/,Tl=/^(?:.*@)?(?:[a-z\d\u00a1-\uffff.-]+|\[[a-f\d:]+])(?::\d+)?$/,Al=/^\/(?:[/\w\u00a1-\uffff-.~]|%[a-fA-F\d]{2})*$/,Dl=/^#(?:[/\w\u00a1-\uffff-.~]|%[a-fA-F\d]{2})+$/,Ml=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=e.length;t>0&&-1!=="/".indexOf(e.charAt(t-1));)t-=1;return e.substring(0,t)||"/"},Nl=function(e){return da(e)?e.toLowerCase():""},ql=function(e){return da(e)?e.toLowerCase():""},Fl=function(e){return da(e)?Ml(e):"/"},Ul=function(e){var t=e.match(Ll);return t?{surfaceType:Nl(t[1]),authority:ql(t[2]),path:Fl(t[3]),fragment:t[4]}:null},Bl=function(e){return"".concat(e.surfaceType).concat(Sl).concat(e.authority).concat(e.path||"").concat(e.fragment||"")},Gl=function(e){var t=e(),a=t.host.toLowerCase(),r=t.pathname;return Ol+Sl+a+Ml(r)},Hl=function(e,t){return e.startsWith(Rl)?Gl(t)+e:e},Jl=function(e,t,a){var r=function(e){return a.warn(e),null};if(!da(e))return r("Invalid surface: ".concat(e));var n=Hl(e,t),s=Ul(n);return null===s?r("Invalid surface: ".concat(e)):[Ol,El].includes(s.surfaceType)?s.authority&&Tl.test(s.authority)?s.path&&!Al.test(s.path)?r("Invalid path ".concat(s.path," in surface: ").concat(e)):s.fragment&&!Dl.test(s.fragment)?r("Invalid fragment ".concat(s.fragment," in surface: ").concat(e)):s:r("Invalid authority ".concat(s.authority," in surface: ").concat(e)):r("Unsupported surface type ".concat(s.surfaceType," in surface: ").concat(e))},zl=function(e){return!!e&&0===e.indexOf(Ol+Sl)&&-1===e.indexOf(Rl)},Wl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return e.map((function(e){return Jl(e,t,a)})).filter((function(e){return!xe(e)})).map(Bl)},$l=function(e){e.includes(An)||e.push(An)},Ql=function(e,t){var a=Gl(t);e.includes(a)||e.push(a)},Kl=function(e){return e.filter((function(t,a){return e.indexOf(t)===a}))},Yl=function(e){var t=e.getPageLocation,a=e.renderDecisions,r=e.decisionScopes,n=e.personalization,s=e.event,o=e.isCacheInitialized,i=e.logger,c=s.getViewName();return{isRenderDecisions:function(){return a},isSendDisplayEvent:function(){return!!n.sendDisplayEvent},shouldIncludeRenderedPropositions:function(){return!!n.includeRenderedPropositions},getViewName:function(){return c},hasScopes:function(){return r.length>0||et(n.decisionScopes)},hasSurfaces:function(){return et(n.surfaces)},hasViewName:function(){return da(c)},createQueryDetails:function(){var e=g(r);et(n.decisionScopes)&&e.push.apply(e,g(n.decisionScopes));var a=Wl(n.surfaces,t,i);this.shouldRequestDefaultPersonalization()&&($l(e),Ql(a,t));var s=[Ji,Wi,$i,Ki,Qi,Yi,Xi];return e.includes(An)&&s.push(zi),{schemas:s,decisionScopes:Kl(e),surfaces:Kl(a)}},isCacheInitialized:function(){return o},shouldFetchData:function(){return this.hasScopes()||this.hasSurfaces()||this.shouldRequestDefaultPersonalization()},shouldUseCachedData:function(){return this.hasViewName()&&!this.shouldFetchData()},shouldRequestDefaultPersonalization:function(){return n.defaultPersonalizationEnabled||!this.isCacheInitialized()&&!1!==n.defaultPersonalizationEnabled}}},Xl="Rendering is disabled for authoring mode.",Zl={propositions:[]},ed=function(e){var t=e.logger,a=e.options,r=Mr({propositions:Sr(Mr({id:Nr().required(),scope:Nr().required(),scopeDetails:Mr({decisionProvider:Nr().required()}).required(),items:Sr(Mr({id:Nr().required(),schema:Nr().required(),data:Mr(Er())})).nonEmpty().required()}).required()).nonEmpty().required(),metadata:Mr(Er()),viewName:Nr()}).required();try{return r(a)}catch(e){return t.warn("Invalid options for applyPropositions. No propositions will be applied.",e),Zl}},td=function(e){var t=e.getPageLocation,a=e.logger,r=e.fetchDataHandler,n=e.viewChangeHandler,s=e.onClickHandler,o=e.isAuthoringModeEnabled,i=e.mergeQuery,c=e.viewCache,l=e.showContainers,d=e.applyPropositions,u=e.setTargetMigration,m=e.mergeDecisionsMeta,p=e.renderedPropositions,f=e.onDecisionHandler,g=e.handleConsentFlicker;return{lifecycle:{onComponentsRegistered:function(){g()},onDecision:f,onBeforeRequest:function(e){var t=e.request;return u(t),Promise.resolve()},onBeforeEvent:function(e){var s=e.event,d=e.renderDecisions,u=e.decisionScopes,f=void 0===u?[]:u,g=e.personalization,h=void 0===g?{}:g,v=e.onResponse,_=void 0===v?ua:v,b=e.onRequestFailure,y=void 0===b?ua:b;if(_((function(){return{propositions:[]}})),y((function(){return l()})),o())return a.warn(Xl),i(s,{enabled:!1}),Promise.resolve();var P=Yl({getPageLocation:t,renderDecisions:d,decisionScopes:f,personalization:h,event:s,isCacheInitialized:c.isInitialized(),logger:a}),k=[];if(P.shouldIncludeRenderedPropositions()&&k.push(p.clear()),P.shouldFetchData()){var C=c.createCacheUpdate(P.getViewName());y((function(){return C.cancel()})),r({cacheUpdate:C,personalizationDetails:P,event:s,onResponse:_})}else P.shouldUseCachedData()&&k.push(n({personalizationDetails:P,event:s,onResponse:_,onRequestFailure:y}));return Promise.all(k).then((function(e){var t=e.flatMap((function(e){return e}));et(t)&&m(s,t,[kc.DISPLAY])}))},onClick:function(e){var t=e.event,a=e.clickedElement;s({event:t,clickedElement:a})}},commands:{applyPropositions:{optionsValidator:function(e){return ed({logger:a,options:e})},run:d}}}},ad=function(e){return He($e,{},{innerHTML:e})},rd=":eq(",nd=/:eq\((\d+)\)/g,sd=function(e){return-1===e.indexOf(rd)},od=function(e){return e.split(nd).filter(da)},id=/(#|\.)(-?\w+)/g,cd=function(e,t,a){return"".concat(t).concat(CSS.escape(a))},ld=function(e){return e.replace(id,cd)},dd=function(e){for(var t=[],a=ld(e.trim()),r=od(a),n=r.length,s=0;s<n;){var o=r[s],i=r[s+1];i?t.push({sel:o,eq:Number(i)}):t.push({sel:o}),s+=2}return t},ud=function(e){var t=document;if(sd(e))return lt(e,t);for(var a=dd(e),r=a.length,n=[],s=t,i=0;i<r;){var c=a[i],l=c.sel,d=c.eq,u=lt(l,s),m=u.length;if(0===m)break;if(null!=d&&d>m-1)break;i<r-1&&(s=null==d?o(u,1)[0]:u[d]),i===r-1&&(n=null==d?u:[u[d]]),i+=1}return n},md=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).getElementById(e)},pd=function(e,t,a){e.setAttribute(t,a)},fd=function(e,t){return e.getAttribute(t)},gd=function(e,t){e.removeAttribute(t)},hd=function(e,t,a,r){var n;n=r?"".concat(t,":").concat(a," !").concat(r,";"):"".concat(t,":").concat(a,";"),e.style.cssText+=";".concat(n)},vd=function(e){return e.parentNode},_d=function(e){return e.nextElementSibling},bd=function(e,t){if(e){var a=vd(e);a&&a.insertBefore(t,_d(e))}},yd=function(e,t){if(e){var a=vd(e);a&&a.insertBefore(t,e)}},Pd=function(e){var t=e.children;return t?tt(t):[]},kd=function(e){var t=e.childNodes;return t?tt(t):[]},Cd=function(e){return e.firstElementChild},jd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(void 0===Vl){var t=e.querySelector("[nonce]");Vl=t&&(t.nonce||t.getAttribute("nonce"))}return Vl},wd="src",xd=function(e){return e.tagName===We},Id=function(e){return He(We,{src:e})},Vd=function(e){lt(We,e).forEach((function(e){var t=fd(e,wd);t&&Id(t)}))},Od=function(e,t){return e.tagName===t},Ed=function(e){return Od(e,Qe)&&!fd(e,wd)},Sd=function(e){var t=lt(Qe,e),a=t.length,r=jd();if(r)for(var n=0;n<a;n+=1){var s=t[n];Ed(s)&&(s.nonce=r)}},Rd=function(e,t){return new Promise((function(a,r){t.onload=function(){a(t)},t.onerror=function(){r(new Error("Failed to load script: ".concat(e)))}}))},Ld=function(e){var t=document.createElement("script");t.src=e,t.async=!0;var a=Rd(e,t);return document.head.appendChild(t),a},Td=function(e,t){return!!e&&e.tagName===t},Ad=function(e){return Td(e,Ke)&&!fd(e,wd)},Dd=function(e){return Td(e,Ke)&&fd(e,wd)},Md=function(e){for(var t=lt(Ke,e),a=[],r=t.length,n=jd(),s=u({},n&&{nonce:n}),o=0;o<r;o+=1){var i=t[o];if(Ad(i)){var c=i.textContent;c&&a.push(He(Ke,s,{textContent:c}))}}return a},Nd=function(e){for(var t=lt(Ke,e),a=[],r=t.length,n=0;n<r;n+=1){var s=t[n];if(Dd(s)){var o=fd(s,wd);o&&a.push(o)}}return a},qd=function(e,t){t.forEach((function(t){e.appendChild(t),e.removeChild(t)}))},Fd=function(e){return Promise.all(e.map(Ld))},Ud=function(e,t,a){var r=ad(t);Sd(r);var n=kd(r),s=Md(r),o=Nd(r);return Vd(r),n.forEach((function(t){Be(e,t)})),a(e),qd(e,s),Fd(o)},Bd=function(e){kd(e).forEach(xt)},Gd=function(e,t,a){return Bd(e),Ud(e,t,a)},Hd=function(e,t,a){var r=ad(t);Sd(r);var n=kd(r),s=Md(r),o=Nd(r),i=n.length-1;for(Vd(r);i>=0;){var c=n[i];a(c);var l=Cd(e);l?yd(l,c):Be(e,c),i-=1}return qd(e,s),Fd(o)},Jd="alloy-prehiding",zd="{ visibility: hidden }",Wd={},$d=function(e){if(!Wd[e]){var t=jd(),a=u({},t&&{nonce:t}),r={textContent:"".concat(e," ").concat(zd)},n=He(Qe,a,r);Be(document.head,n),Wd[e]=n}},Qd=function(e){var t=Wd[e];t&&(xt(t),delete Wd[e])},Kd=function(e){return function(t){if(t&&!md(Jd)){var a=jd(),r=u({id:Jd},a&&{nonce:a}),n=He(Qe,r,{textContent:t});e.logOnContentHiding({status:"hide-containers",message:"Prehiding style applied to hide containers.",logLevel:"info"}),Be(document.head,n)}}},Yd=function(e){return function(){var t=md(Jd);t&&(e.logOnContentHiding({status:"show-containers",message:"Prehiding style removed to show containers.",logLevel:"info"}),xt(t))}},Xd=function(e,t,a){a(e),e.textContent=t},Zd=function(e,t,a){var r=ad(t);Sd(r);var n=kd(r),s=Md(r),o=Nd(r);return Vd(r),n.forEach((function(t){a(t),yd(e,t)})),qd(e,s),Fd(o)},eu=function(e,t,a){return Zd(e,t,a).then((function(){xt(e)}))},tu=function(e,t,a){var r=ad(t);Sd(r);var n=kd(r),s=Md(r),o=Nd(r);Vd(r);var i=e;return n.forEach((function(e){a(e),bd(i,e),i=e})),qd(e,s),Fd(o)},au=function(e,t,a){var r=t.priority,s=n(t,Pe);Object.keys(s).forEach((function(t){hd(e,t,s[t],r)})),a(e)},ru=function(e,t,a){Object.keys(t).forEach((function(a){pd(e,a,t[a])})),a(e)},nu=function(e,t,a){xd(e)&&(Id(t),a(e),gd(e,wd),pd(e,wd,t))},su=function(e,t,a){var r=t.from,n=t.to,s=Pd(e),o=s[r],i=s[n];o&&i&&(r<n?bd(i,o):yd(i,o),a(i),a(o))},ou=function(e,t,a,r){var n=e.map((function(e){return r(e,t,a)}));return Promise.all(n)},iu=function(e){return function(t,a){var r=t.selector,n=t.prehidingSelector,s=t.content;return $d(n),jt(r,ud).then((function(t){return ou(t,s,a,e)})).then((function(){Qd(n)}),(function(e){throw Qd(n),e}))}},cu=function(e){return(""+e).endsWith("px")?e:"".concat(e,"px")},lu=function(e,t,a){var r=t.priority,s=n(t,ke);Object.keys(s).forEach((function(t){var a=s[t];"left"!==t&&"top"!==t||(a=cu(a)),hd(e,t,a,r)})),a(e)},du=function(e,t,a){a(e)},uu=function(e,t,a){var r=t.priority,s=n(t,Ce);Object.keys(s).forEach((function(t){var a=s[t];"width"!==t&&"height"!==t||(a=cu(a)),hd(e,t,a,r)})),a(e)},mu="setHtml",pu="customCode",fu="setText",gu="setAttribute",hu="setImageSource",vu="setStyle",_u="move",bu="resize",yu="rearrange",Pu="remove",ku="insertAfter",Cu="insertBefore",ju="replaceHtml",wu="prependHtml",xu="appendHtml",Iu="click",Vu="collectInteractions",Ou=function(){var e;return m(m(m(m(m(m(m(m(m(m(e={},mu,iu(Gd)),pu,iu(Hd)),fu,iu(Xd)),gu,iu(ru)),hu,iu(nu)),vu,iu(au)),_u,iu(lu)),bu,iu(uu)),yu,iu(su)),Pu,iu(xt)),m(m(m(m(m(m(e,ku,iu(tu)),Cu,iu(Zd)),ju,iu(eu)),wu,iu(Hd)),xu,iu(Ud)),Vu,iu(du))},Eu="personalization:decisions",Su=function(e){var t=e.logger,a=e.prehidingStyle,r=e.showContainers,n=e.hideContainers,s=e.mergeQuery,o=e.processPropositions,i=e.createProposition,c=e.notificationHandler,l=e.consent;return function(e){var d=e.cacheUpdate,u=e.personalizationDetails,m=e.event,p=e.onResponse,f=l.current(),h=f.state,v=f.wasSet;"out"===h&&v||(u.isRenderDecisions()?n(a):r()),s(m,u.createQueryDetails());var _=c(u.isRenderDecisions(),u.isSendDisplayEvent(),u.getViewName());p((function(e){var a=e.response.getPayloadsByType(Eu);et(a)||t.logOnContentRendering({status:"no-offers",message:"No offers were returned.",logLevel:"info",detail:{query:u.createQueryDetails()}});var n,s,c,l=a.map((function(e){return i(e)})),m=qt(l,(function(e){return e.getScopeType()})),p=m.page,f=void 0===p?[]:p,h=m.view,v=void 0===h?[]:h,b=m.proposition,y=void 0===b?[]:b,P=d.update(v);if(u.isRenderDecisions()){var k=o([].concat(g(f),g(P)),y);n=k.render,s=k.returnedPropositions,c=k.returnedDecisions,et(f)&&t.logOnContentRendering({status:"rendering-started",message:"Started rendering propositions for page-wide scope.",logLevel:"info",detail:{scope:An,propositions:f.map((function(e){return e.toJSON()}))}}),et(P)&&t.logOnContentRendering({status:"rendering-started",message:"Rendering propositions started for view scope - ".concat(u.getViewName(),"."),logLevel:"info",detail:{scope:u.getViewName(),propositions:P.map((function(e){return e.toJSON()}))}}),n().then(_),r()}else{var C=o([],[].concat(g(f),g(P),g(y)));s=C.returnedPropositions,c=C.returnedDecisions}return{propositions:s,decisions:c}}))}},Ru=function(e,t){if(sd(e))return wt(e,t);for(var a=ud(e),r=!1,n=0;n<a.length;n+=1)if(a[n]===t){r=!0;break}return r},Lu="view",Tu="page",Au="proposition",Du=function(e){return e.map((function(e){return e.trackingLabel,e.scopeType,n(e,je)}))},Mu=function(e){return e.filter((function(t,a){var r=JSON.stringify(t);return a===e.findIndex((function(e){return JSON.stringify(e)===r}))}))},Nu=function(e,t,a){for(var r=document.documentElement,n=e,s=0;n&&n!==r;){if(Ru(t,n)){var o=a(t),i={metas:o},c=o.find((function(e){return e.trackingLabel}));c&&(i.label=c.trackingLabel,i.weight=s);var l=o.find((function(e){return e.scopeType===Lu}));return l&&(i.viewName=l.scope,i.weight=s),i}n=n.parentNode,s+=1}return{metas:null}},qu=function(e,t,a){for(var r,n=[],s="",o=Number.MAX_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,c=0;c<t.length;c+=1){var l=Nu(e,t[c],a),d=l.metas,u=l.label,m=l.weight,p=l.viewName;d&&(u&&m<=o&&(s=u,o=m),p&&m<=i&&(r=p,i=m),n.push.apply(n,g(Du(d))))}return{decisionsMeta:Mu(n),propositionActionLabel:s,propositionActionToken:void 0,viewName:r}},Fu=function(){return-1!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).location.href.indexOf("adobe_authoring_enabled")},Uu=function(e,t){if(t||e){var a={};return e&&(a.label=e),t&&(a.tokens=[t]),a}},Bu=function(e){var t=e.mergeDecisionsMeta,a=e.collectInteractions,r=e.collectClicks,n=e.getInteractionMetas,s=e.getClickMetas,o=e.getClickSelectors,i=e.autoCollectPropositionInteractions;return function(e){var c,l,d,u=e.event,m=e.clickedElement,p=[];if([a(m,n,i),r(m,o(),s)].forEach((function(e){var t=e.decisionsMeta,a=e.propositionActionLabel,r=e.propositionActionToken,n=e.viewName;Array.prototype.push.apply(p,t),!c&&a&&(c=a),!l&&r&&(l=r),!d&&n&&(d=n)})),et(p)){var f={eventType:ec};d&&(f.web={webPageDetails:{viewName:d}}),u.mergeXdm(f),t(u,p,[kc.INTERACT],Uu(c,l))}}},Gu=function(e){var t=e.createProposition,a=!1,r=Promise.resolve({}),n=function(e,a){var r=e[a.toLowerCase()];return r&&r.length>0?r:[t({scope:a,scopeDetails:{characteristics:{scopeType:Lu}},items:[{schema:Ji}]},!1)]};return{createCacheUpdate:function(e){var t=Ne();return a=!0,r=r.then((function(e){return t.promise.then((function(t){return u(u({},e),t)})).catch((function(){return e}))})),{update:function(a){var r=a.filter((function(e){return e.getScope()})),s=qt(r,(function(e){return e.getScope().toLowerCase()}));return t.resolve(s),e?n(s,e):[]},cancel:function(){t.reject()}}},getView:function(e){return r.then((function(t){return n(t,e)}))},isInitialized:function(){return a}}},Hu=function(e){var t=e.processPropositions,a=e.viewCache,r=e.logger;return function(e){var n,s,o=e.personalizationDetails,i=e.onResponse,c=o.getViewName();return i((function(){return{propositions:n,decisions:s}})),a.getView(c).then((function(e){var a;if(o.isRenderDecisions()){var i=t(e);return a=i.render,n=i.returnedPropositions,s=i.returnedDecisions,r.logOnContentRendering({status:"rendering-started",message:"Started rendering propositions for view scope - ".concat(c,"."),logLevel:"info",detail:{scope:c,propositions:e.map((function(e){return e.toJSON()}))}}),a()}var l=t([],e);return n=l.returnedPropositions,s=l.returnedDecisions,[]}))}},Ju=function(e){return Object.keys(e).map((function(t){return u({id:t},e[t])}))},zu=function(){var e={};return{storeClickMeta:function(t){var a=t.selector,r=t.meta,n=r.id,s=r.scope,o=r.scopeDetails,i=r.trackingLabel,c=r.scopeType;e[a]||(e[a]={}),e[a][n]={scope:s,scopeDetails:o,trackingLabel:i,scopeType:c}},getClickSelectors:function(){return Object.keys(e)},getClickMetas:function(t){return e[t]?Ju(e[t]):{}}}},Wu=function(){var e={},t={};return{storeInteractionMeta:function(a,r,n,s,o){o=parseInt(o,10),e[o]||(e[o]={},t[o]={}),t[o][a]||(t[o][a]=new Set),t[o][a].add(r),e[o][a]=u(u({},s),{},{scopeType:n})},getInteractionMetas:function(a){return Array.isArray(a)&&0!==a.length?Object.values(a.map((function(e){return parseInt(e,10)})).reduce((function(a,r){return Object.keys(e[r]||{}).forEach((function(n){a[n]||(a[n]={proposition:e[r][n],items:new Set}),a[n].items=new Set([].concat(g(a[n].items),g(t[r][n])))})),a}),{})).map((function(e){var t=e.proposition,a=e.items;return u(u({},t),{},{items:Array.from(a).map((function(e){return{id:e}}))})})):[]}}},$u=function(e,t){return e===$i&&t===Vu},Qu=m(m(m(m(m({},zi,(function(){return!0})),Wi,(function(){return!0})),$i,$u),Yi,(function(){return!0})),Ji,(function(){return!0})),Ku=function(e,t){return"function"==typeof Qu[e]&&Qu[e](e,t)},Yu=function(e){var t=e.processPropositions,a=e.createProposition,r=e.renderedPropositions,n=e.viewCache,s=function(e){var t=e.items,a=e.metadataForScope,r=void 0===a?{}:a,n=r.actionType,s=r.selector;return t.filter((function(e){return Ku(e.schema,n)})).map((function(e){var t=e.schema;return t===Wi||$u(t,n)?Et(r)?void 0:u(u({},e),{},{schema:$u(t,n)?zi:t,data:u(u({},e.data),{},{selector:s,type:n})}):u({},e)})).filter((function(e){return e}))},o=function(e){return!(e.scope===An&&e.renderAttempted)},i=function(e){var t=e.propositions,a=e.metadata;return t.filter(o).map((function(e){return et(e.items)?{id:e.id,scope:e.scope,scopeDetails:e.scopeDetails,items:s({items:e.items,metadataForScope:a[e.scope]})}:e})).filter((function(e){return et(e.items)}))};return function(e){var s=e.propositions,o=void 0===s?[]:s,c=e.metadata,l=void 0===c?{}:c,d=e.viewName,u=Ne();r.concat(u.promise);var m=i({propositions:o,metadata:l}).map((function(e){return a(e)}));return Promise.resolve().then((function(){return d?n.getView(d):[]})).then((function(e){var a=t([].concat(g(m),g(e))),r=a.render,n=a.returnedPropositions;return r().then(u.resolve),{propositions:n}}))}},Xu=function(e){var t=e.window;return function(){return t.location}},Zu=function(e){return e.targetMigrationEnabled?function(e){e.getPayload().mergeMeta({target:{migration:!0}})}:ua},em="BODY > *:eq(0)",tm=function(e){var t=e.selector;return e.type!==pu||t!==em?e:u(u({},e),{selector:"BODY"})},am="SCRIPT,LINK,STYLE",rm=function(e){var t=ad(e);return lt(am,t).map((function(e){return e.outerHTML})).join("")},nm=function(e){var t=u({},e),a=t.content,r=t.selector;if(ul(a))return t;if(null==r)return t;var n=ud(r);return Td(n[0],Ye)?(t.type=xu,t.content=rm(a),t):t},sm=function(e){return function(t){return t?e.reduce((function(e,t){return u(u({},e),t(e))}),t):t}},om=function(e){var t=e.preprocess,a=e.isPageWideSurface,r=function(e,a){var r=e.id,n=e.schema,s=e.data,o=e.characteristics,i=(void 0===o?{}:o).trackingLabel,c=s?s.type:void 0,l=t(s);return{getId:function(){return r},getSchema:function(){return n},
getSchemaType:function(){return c},getData:function(){return l},getProposition:function(){return a},getTrackingLabel:function(){return i},getOriginalItem:function(){return e},toString:function(){return JSON.stringify(e)},toJSON:function(){return e}}};return function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=e.id,o=e.scope,i=e.scopeDetails,c=e.items,l=void 0===c?[]:c,d=(i||{}).characteristics,m=(void 0===d?{}:d).scopeType;return{getScope:function(){return o},getScopeType:function(){return o===An||a(o)?Tu:m===Lu?Lu:Au},getItems:function(){var e=this;return l.map((function(t){return r(t,e)}))},getNotification:function(){return{id:s,scope:o,scopeDetails:i}},getId:function(){return s},toJSON:function(){return e},shouldSuppressDisplay:function(){return n},addToReturnValues:function(a,r,n,s){t&&(a.push(u(u({},e),{},{items:n.map((function(e){return e.getOriginalItem()})),renderAttempted:s})),s||r.push(u(u({},e),{},{items:n.map((function(e){return e.getOriginalItem()}))})))}}}},im=function(){var e=Promise.resolve([]);return{concat:function(t){e=e.then((function(e){return t.then((function(t){return e.concat(t)})).catch((function(){return e}))}))},clear:function(){var t=e;return e=Promise.resolve([]),t}}},cm=function(){return{render:ua,setRenderAttempted:!0,includeInNotification:!0}},lm="always",dm="never",um="decoratedElementsOnly",mm=[lm,dm,um],pm="data-aep-interact-id",fm="data-aep-click-label",gm="data-aep-click-token",hm=0,vm=function(e,t){return t?parseInt(t,10):++hm},_m=function(e,t){return!!e&&!!e[t]&&[lm,um].includes(e[t])},bm=function(e,t,a,r,n,s,o,i){var c=o.scopeDetails,l=(void 0===c?{}:c).decisionProvider;return _m(e,l)||t===Iu?function(e){if(e.tagName){var t=vm(a,fd(e,pm));i(a,r,s,o,t),pd(e,pm,t),n&&!fd(e,fm)&&pd(e,fm,n)}}:ua},ym=function(e){var t=e.modules,a=e.logger,r=e.storeInteractionMeta,n=e.storeClickMeta,s=e.autoCollectPropositionInteractions;return function(e){var o=e.getData()||{},i=o.type,c=o.selector;if(!i)return a.warn("Invalid DOM action data: missing type.",e.getData()),{setRenderAttempted:!1,includeInNotification:!1};if(i===Iu)return c?(n({selector:c,meta:u(u({},e.getProposition().getNotification()),{},{trackingLabel:e.getTrackingLabel(),scopeType:e.getProposition().getScopeType()})}),{setRenderAttempted:!0,includeInNotification:!1}):(a.warn("Invalid DOM action data: missing selector.",e.getData()),{setRenderAttempted:!1,includeInNotification:!1});if(!t[i])return a.warn("Invalid DOM action data: unknown type.",e.getData()),{setRenderAttempted:!1,includeInNotification:!1};var l=bm(s,i,e.getProposition().getId(),e.getId(),e.getTrackingLabel(),e.getProposition().getScopeType(),e.getProposition().getNotification(),r);return{render:function(){return t[i](e.getData(),l)},setRenderAttempted:!0,includeInNotification:!0}}},Pm=function(e){var t=e.modules,a=e.logger,r=e.storeInteractionMeta,n=e.autoCollectPropositionInteractions;return function(e){var s=e.getData()||{},o=s.type;if(!s.selector||!o)return{setRenderAttempted:!1,includeInNotification:!1};if(!t[o])return a.warn("Invalid HTML content data",e.getData()),{setRenderAttempted:!1,includeInNotification:!1};var i=bm(n,o,e.getProposition().getId(),e.getId(),e.getTrackingLabel(),e.getProposition().getScopeType(),e.getProposition().getNotification(),r);return{render:function(){return t[o](e.getData(),i)},setRenderAttempted:!0,includeInNotification:!0}}},km=function(e){var t=e.logger,a=e.executeRedirect,r=e.collect;return function(e){var n=(e.getData()||{}).content;return n?{render:function(){return r({decisionsMeta:[e.getProposition().getNotification()],documentMayUnload:!0}).then((function(){return t.logOnContentRendering({status:"rendering-redirect",detail:{propositionDetails:e.getProposition().getNotification(),redirect:n},message:"Redirect action ".concat(e.toString()," executed."),logLevel:"info"}),a(n)}))},setRenderAttempted:!0,onlyRenderThis:!0}:(t.warn("Invalid Redirect data",e.getData()),{})}},Cm=function(e){var t=e.schemaProcessors,a=e.logger,r=function(e,t){return function(){return Promise.resolve().then(e).then((function(){return a.enabled&&a.info("Action ".concat(t.toString()," executed.")),t.toJSON()})).catch((function(e){var r=e.message,n=e.stack,s="Failed to execute action ".concat(t.toString(),". ").concat(r," ").concat(n);a.logOnContentRendering({status:"rendering-failed",detail:{propositionDetails:t.getProposition().getNotification(),item:t.toJSON()},error:e,message:s,logLevel:"warn"})}))}},n=function(e,t){return Promise.all(e.map((function(e){return e()}))).then((function(e){var a=e.filter((function(e){return e}));if(t&&et(a))return u(u({},t),{},{items:a})}))},s=function(e){var a=t[e.getSchema()];return a?a(e):{}},o=function(e){for(var t,a,o,i,c=e.renderers,l=e.returnedPropositions,d=e.returnedDecisions,u=e.items,m=e.proposition,p=g(c),f=g(l),h=g(d),v=[],_=[],b=[],y=!1,P=!1,k=0;u.length>k;){i=u[k];var C=s(i);if(t=C.render,a=C.setRenderAttempted,o=C.includeInNotification,P=C.onlyRenderThis){f=[],h=[],a?(v=[i],_=[]):(v=[],_=[i]),p=[],b=[t],y=o;break}t&&b.push(r(t,i)),o&&(y=!0),a?v.push(i):_.push(i),k+=1}if(b.length>0){var j=y?m.getNotification():void 0;p.push((function(){return n(b,j)}))}else y&&p.push((function(){return Promise.resolve(m.getNotification())}));return v.length>0&&m.addToReturnValues(f,h,v,!0),_.length>0&&m.addToReturnValues(f,h,_,!1),{renderers:p,returnedPropositions:f,returnedDecisions:h,onlyRenderThis:P}};return function(e){for(var t,r,n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=[],c=[],l=[],d=0;e.length>d;){n=(r=e[d]).getItems();var m=o({renderers:i,returnedPropositions:c,returnedDecisions:l,items:n,proposition:r});if(i=m.renderers,c=m.returnedPropositions,l=m.returnedDecisions,t=m.onlyRenderThis)break;d+=1}return t&&e.forEach((function(e,t){t!==d&&e.addToReturnValues(c,l,e.getItems(),!1)})),s.forEach((function(e){e.addToReturnValues(c,l,e.getItems(),!1)})),{returnedPropositions:c,returnedDecisions:l,render:function(){return Promise.all(i.map((function(e){return e()}))).then((function(e){var t=e.filter((function(e){return e})),r=t.map((function(e){return{id:e.id,scope:e.scope,scopeDetails:e.scopeDetails}}));if(et(t)){var n=qt(t,(function(e){return e.scope}));a.logOnContentRendering({status:"rendering-succeeded",detail:u({},n),message:"Scopes: ".concat(JSON.stringify(n)," successfully executed."),logLevel:"info"})}return r}))}}}},jm=function(){var e=0;return function(t){var a=t.items;return!!(void 0===a?[]:a).some((function(e){return e.schema===Yi}))&&(e+=1)>1}},wm=function(e){var t=e.processPropositions,a=e.createProposition,r=e.notificationHandler;return function(e){var n=e.renderDecisions,s=e.propositions,o=e.event,i=e.personalization,c=void 0===i?{}:i;if(!n)return Promise.resolve();var l=c.sendDisplayEvent,d=void 0===l||l,u=o?o.getViewName():void 0,m=jm(),p=s.map((function(e){return a(e,!0,m(e))})),f=t(p),g=f.render,h=f.returnedPropositions,v=r(n,d,u),_=p.reduce((function(e,t){return e[t.getId()]=t,e}),{});return g().then((function(e){var t=e.filter((function(e){return!_[e.id].shouldSuppressDisplay()})),a=e.filter((function(e){return _[e.id].shouldSuppressDisplay()}));v(t,a)})),Promise.resolve({propositions:h})}},xm="defaultContent",Im=["content","contentType"],Vm=["mobileParameters","webParameters","html"],Om=function(e,t){for(var a=0;a<Im.length;a+=1){var r=Im[a];if(!Object.prototype.hasOwnProperty.call(e,r))return t.warn("Invalid in-app message data: missing property '".concat(r,"'."),e),!1}var n=e.content;if(e.contentType===gc)for(var s=0;s<Vm.length;s+=1){var o=Vm[s];if(!Object.prototype.hasOwnProperty.call(n,o))return t.warn("Invalid in-app message data.content: missing property '".concat(o,"'."),e),!1}return!0},Em=function(e){var t=e.modules,a=e.logger;return function(e){var r=e.getData(),n=e.getProposition(),s=u({},n.getNotification()),o=n.shouldSuppressDisplay();if(!r)return a.warn("Invalid in-app message data: undefined.",r),{};var i=r.type,c=void 0===i?xm:i;return t[c]?Om(r,a)?s?{render:function(){return o?null:t[c](u(u({},r),{},{meta:s}))},setRenderAttempted:!0,includeInNotification:!0}:(a.warn("Invalid in-app message meta: undefined.",s),{}):{}:(a.warn("Invalid in-app message data: unknown type.",r),{})}},Sm=function(e){var t=lt("#".concat(e),document);t&&t.length>0&&xt(t[0])},Rm=function(e){var t={};if(!e||"a"!==e.tagName.toLowerCase())return t;var a=e.href;if(!a||!a.startsWith("adbinapp://"))return t;var r,n,s=a.split("?"),o=s[0].split("://")[1],i=e.innerText,c=e.getAttribute("data-uuid")||"";if(et(s)){var l=ve.default.parse(s[1]);r=l.interaction||"",n=Us(l.link||"")}return{action:o,interaction:r,link:n,label:i,uuid:c}},Lm=function(e){return function(t){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e.location.href=t:e.location.replace(t),new Promise((function(){}))}},Tm="alloy-messaging-container",Am="alloy-overlay-container",Dm="alloy-content-iframe",Mm=function(){return[Tm,Am].forEach(Sm)},Nm=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lm(window);return function(a){a.preventDefault(),a.stopImmediatePropagation();var r=a.target,n="a"===r.tagName.toLowerCase()?r:r.closest("a");if(n){var s=Rm(n),o=s.action,i=s.interaction,c=s.link,l=s.label,d=s.uuid;e(o,{label:l,id:i,uuid:d,link:c}),"dismiss"===o&&Mm(),da(c)&&c.length>0&&t(c,!0)}}},qm=function(e,t){var a=(new DOMParser).parseFromString(e,fc),r=a.querySelector("script");r&&r.setAttribute("nonce",jd());var n=He("iframe",{src:URL.createObjectURL(new Blob([a.documentElement.outerHTML],{type:"text/html"})),id:Dm});return n.addEventListener("load",(function(){(0,(n.contentDocument||n.contentWindow.document).addEventListener)("click",t)})),n},Fm=function(e,t,a,r){[{id:Am,element:r},{id:Tm,element:a},{id:Dm,element:e}].forEach((function(e){var a=e.id,r=e.element,n=t[a],s=n.style,o=void 0===s?{}:s,i=n.params,c=void 0===i?{}:i;r.style=u(u({},r.style),o);var l=c.parentElement,d=void 0===l?"body":l,m=c.insertionMethod,p=void 0===m?"appendChild":m,f=c.enabled,g=void 0===f||f,h=document.querySelector(d);g&&h&&"function"==typeof h[p]&&h[p](r)}))},Um=function(e){var t=e.verticalAlign,a=e.width,r=e.horizontalAlign,n=e.backdropColor,s=e.height,o=e.cornerRadius,i=e.horizontalInset,c=e.verticalInset,l=e.uiTakeover,d=void 0!==l&&l,u={width:a?"".concat(a,"%"):"100%",backgroundColor:n||"rgba(0, 0, 0, 0.5)",borderRadius:o?"".concat(o,"px"):"0px",border:"none",position:d?"fixed":"relative",overflow:"hidden"};return"left"===r?u.left=i?"".concat(i,"%"):"0":"right"===r?u.right=i?"".concat(i,"%"):"0":"center"===r&&(u.left="50%",u.transform="translateX(-50%)"),"top"===t?u.top=c?"".concat(c,"%"):"0":"bottom"===t?(u.position="fixed",u.bottom=c?"".concat(c,"%"):"0"):"center"===t&&(u.top="50%",u.transform="".concat("center"===r?"".concat(u.transform," "):"","translateY(-50%)"),u.display="flex",u.alignItems="center",u.justifyContent="center"),u.height=s?"".concat(s,"vh"):"100%",u},Bm=function(e){return{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",background:"transparent",opacity:e.backdropOpacity||.5,backgroundColor:e.backdropColor||"#FFFFFF"}},Gm=["enabled","parentElement","insertionMethod"],Hm=function(e){if(!e)return!1;var t=Object.keys(e);if(!t.includes(Tm))return!1;if(!t.includes(Am))return!1;for(var a=Object.values(e),r=0;r<a.length;r+=1){if(!Mr(a[r],"style"))return!1;if(!Mr(a[r],"params"))return!1;for(var n=0;n<Gm.length;n+=1)if(!Mr(a[r].params,Gm[n]))return!1}return!0},Jm=function(e){if(e){var t=e.uiTakeover,a=void 0!==t&&t;return m(m(m({},Dm,{style:{border:"none",width:"100%",height:"100%"},params:{enabled:!0,parentElement:"#alloy-messaging-container",insertionMethod:"appendChild"}}),Tm,{style:Um(e),params:{enabled:!0,parentElement:"body",insertionMethod:"appendChild"}}),Am,{style:Bm(e),params:{enabled:!0===a,parentElement:"body",insertionMethod:"appendChild"}})}},zm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;Mm();var a=e.content,r=e.contentType,n=e.mobileParameters,s=e.webParameters;if(r===fc){var o=He("div",{id:Tm}),i=qm(a,Nm(t)),c=He("div",{id:Am});Hm(s)||(s=Jm(n)),s&&Fm(i,s,o,c)}},Wm=function(e,t){return new Promise((function(a){var r=e.meta;zm(e,(function(e,a){var n={};n[kc.INTERACT]=nc,-1!==Object.values(kc).indexOf(e)&&(n[e]=nc),t({decisionsMeta:[r],propositionAction:a,eventType:ec,propositionEventTypes:Object.keys(n)})})),a({meta:r})}))},$m=function(e){return{defaultContent:function(t){return Wm(t,e)}}},Qm=function(e,t){return function(a,r,n){if(!a)return function(){};if(!r){var s=Ne();return t.concat(s.promise),s.resolve}return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];et(t)&&e({decisionsMeta:t,viewName:n}),et(a)&&e({decisionsMeta:a,eventType:rc,propositionAction:{reason:"Conflict"},viewName:n})}}},Km=function(e){var t=e.showContainers,a=e.consent;return function(){var e=a.current(),r=e.state,n=e.wasSet;r===Zr&&n?t():a.awaitConsent().catch(t)}},Ym=function(e){for(var t,a,r=document.documentElement,n=e,s=new Set;n&&n!==r;){var o=fd(n,pm);o&&s.add(o),t=t||fd(n,fm),a=a||fd(n,gm),n=n.parentNode}return{interactIds:g(s),clickLabel:t,clickToken:a}},Xm=function(e){var t=e.find((function(e){return e.scopeType===Lu}));return t?t.scope:void 0},Zm=function(e,t,a){return function(r){var n=r.scopeDetails,s=(void 0===n?{}:n).decisionProvider;return e[s]===lm||e[s]===um&&(t||a)}},ep=function(e,t,a){var r=Ym(e),n=r.interactIds,s=r.clickLabel,o=void 0===s?"":s,i=r.clickToken,c=Zm(a,o,i);if(0===n.length)return{};var l=t(n).filter(c);return{decisionsMeta:Du(l),propositionActionLabel:o,propositionActionToken:i,viewName:Xm(l)}},tp=function(e){var t=e.config,a=e.logger,r=e.eventManager,n=e.consent,s=t.targetMigrationEnabled,o=t.prehidingStyle,i=t.autoCollectPropositionInteractions,c=Kc({eventManager:r,mergeDecisionsMeta:Yc}),l=Yd(a),d=Kd(a),u=Wu(),p=u.storeInteractionMeta,f=u.getInteractionMetas,g=zu(),h=g.storeClickMeta,v=g.getClickSelectors,_=g.getClickMetas,b=Xu({window:window}),y=Ou(),P=sm([nm,tm]),k=om({preprocess:P,isPageWideSurface:zl}),C=Gu({createProposition:k}),j=Lm(window),w=m(m(m(m(m({},Ji,cm),zi,ym({modules:y,logger:a,storeInteractionMeta:p,storeClickMeta:h,autoCollectPropositionInteractions:i})),Wi,Pm({modules:y,logger:a,storeInteractionMeta:p,autoCollectPropositionInteractions:i})),Ki,km({logger:a,executeRedirect:j,collect:c})),Yi,Em({modules:$m(c),logger:a})),x=Cm({schemaProcessors:w,logger:a}),I=im(),V=Qm(c,I),O=Su({prehidingStyle:o,showContainers:l,hideContainers:d,mergeQuery:Xc,processPropositions:x,createProposition:k,notificationHandler:V,consent:n,logger:a}),E=Bu({mergeDecisionsMeta:Yc,collectInteractions:ep,collectClicks:qu,getInteractionMetas:f,getClickMetas:_,getClickSelectors:v,autoCollectPropositionInteractions:i}),S=Hu({processPropositions:x,viewCache:C,logger:a}),R=Yu({processPropositions:x,createProposition:k,renderedPropositions:I,viewCache:C}),L=Zu({targetMigrationEnabled:s}),T=wm({processPropositions:x,createProposition:k,notificationHandler:V}),A=Km({showContainers:l,consent:n});return td({getPageLocation:b,logger:a,fetchDataHandler:O,viewChangeHandler:S,onClickHandler:E,isAuthoringModeEnabled:Fu,mergeQuery:Xc,viewCache:C,showContainers:l,applyPropositions:R,setTargetMigration:L,mergeDecisionsMeta:Yc,renderedPropositions:I,onDecisionHandler:T,handleConsentFlicker:A})};tp.namespace="Personalization";var ap=mm.map((function(e){return Tr(e)}));tp.configValidators=Mr({prehidingStyle:Nr().nonEmpty(),targetMigrationEnabled:Rr().default(!1),autoCollectPropositionInteractions:Mr(m(m({},Ec,Or(ap).default(lm)),Sc,Or(ap).default(dm))).default(m(m({},Ec,lm),Sc,dm)).noUnknownFields()});var rp=function(e){var t=e.storedConsent,a=e.taskQueue,r=e.defaultConsent,n=e.consent,s=e.sendSetConsentRequest,o=e.validateSetConsentOptions,i=e.consentHashStore,c=e.doesIdentityCookieExist,l=m({},tn,r),d=t.read(),u=c(),p=void 0!==d[tn];u&&p||i.clear(),u||(t.clear(),d={}),n.initializeConsent(l,d);var f=function(){if(0===a.length){var e=t.read();void 0!==e[tn]&&n.setConsent(e)}};return{commands:{setConsent:{optionsValidator:o,run:function(e){var t=e.consent,r=e.identityMap,o=e.edgeConfigOverrides;n.suspend();var c=i.lookup(t);return a.addTask((function(){return c.isNew()?s({consentOptions:t,identityMap:r,edgeConfigOverrides:o}):Promise.resolve()})).then((function(){return c.save()})).finally(f)}}},lifecycle:{onResponse:f,onRequestFailure:f}}},np=function(e){return Array.isArray(e)?e.map((function(e){return np(e)})):"object"===P(e)&&null!==e?Object.keys(e).sort().reduce((function(t,a){return t[a]=np(e[a]),t}),{}):e},sp=function(e){return Me(JSON.stringify(np(e)))},op=function(e){var t=e.standard,a=e.version;return"".concat(t,".").concat(a)},ip=function(e){var t=e.storage;return{clear:function(){t.clear()},lookup:function(e){var a={},r=function(e){var t=op(e),r=(e.standard,e.version,n(e,we));return a[t]||(a[t]=sp(r).toString()),a[t]};return{isNew:function(){return e.some((function(e){var a=op(e),n=t.getItem(a);return null===n||n!==r(e)}))},save:function(){e.forEach((function(e){var a=op(e);t.setItem(a,r(e))}))}}}}},cp=function(){var e={},t=qn({content:e,addIdentity:function(t,a){e.identityMap=e.identityMap||{},e.identityMap[t]=e.identityMap[t]||[],e.identityMap[t].push(a)},hasIdentity:function(t){return void 0!==(e.identityMap&&e.identityMap[t])}});return t.setConsent=function(t){e.consent=t},t},lp=function(e){var t=e.payload,a=e.datastreamIdOverride;return Mn({payload:t,datastreamIdOverride:a,getAction:function(){return"privacy/set-consent"},getUseSendBeacon:function(){return!1}})},dp=function(e){var t=e.parseConsentCookie,a=e.orgId,r=e.cookieJar,n=Nt(a,Yt);return{read:function(){var e=r.get(n);return e?t(e):{}},clear:function(){r.remove(n)}}},up=function(e){var t=e.createConsentRequestPayload,a=e.createConsentRequest,r=e.sendEdgeNetworkRequest,n=e.edgeConfigOverrides;return function(e){var s=e.consentOptions,o=e.identityMap,i=e.edgeConfigOverrides,c=Bn({payload:t(),globalConfigOverrides:n,localConfigOverrides:i});c.payload.setConsent(s),Ie(o)&&Object.keys(o).forEach((function(e){o[e].forEach((function(t){c.payload.addIdentity(e,t)}))}));var l=a(c);return r({request:l}).then((function(){}))}},mp=function(e){return e.split(";").reduce((function(e,t){var a=o(t.split("="),2),r=a[0],n=a[1];return e[r]=n,e}),{})},pp=Mr({consent:Sr(Er()).required().nonEmpty(),identityMap:Fr,edgeConfigOverrides:Ur}).noUnknownFields().required(),fp=Mr({defaultConsent:qr(Xr,Zr,en).default(Xr)}),gp=function(e){var t=e.config,a=e.consent,r=e.sendEdgeNetworkRequest,n=e.createNamespacedStorage,s=t.orgId,o=t.defaultConsent,i=dp({parseConsentCookie:mp,orgId:s,cookieJar:Ee}),c=De(),l=up({createConsentRequestPayload:cp,createConsentRequest:lp,sendEdgeNetworkRequest:r,edgeConfigOverrides:t.edgeConfigOverrides}),d=n("".concat(Mt(s),".consentHashes.")),u=ip({storage:d.persistent}),m=Zt({orgId:s});return rp({storedConsent:i,taskQueue:c,defaultConsent:o,consent:a,sendSetConsentRequest:l,validateSetConsentOptions:pp,consentHashStore:u,doesIdentityCookieExist:m})};gp.namespace="Consent",gp.configValidators=fp;var hp=Mr({streamingMedia:Mr({channel:Nr().nonEmpty().required(),playerName:Nr().nonEmpty().required(),appVersion:Nr(),mainPingInterval:Ar().minimum(10).maximum(50).default(10),adPingInterval:Ar().minimum(1).maximum(10).default(10)}).noUnknownFields()}),vp=function(e){var t=e.options;return Or([Mr({playerId:Nr().required(),getPlayerDetails:Lr().required(),xdm:Mr({mediaCollection:Mr({sessionDetails:Mr(Er()).required()})}),edgeConfigOverrides:Mr({})}).required(),Mr({xdm:Mr({mediaCollection:Mr({playhead:Ar().required(),sessionDetails:Mr(Er()).required()})}),edgeConfigOverrides:Mr({})}).required()],"Error validating the createMediaSession command options.")(t)},_p=function(e){var t=e.options;return Or([Mr({playerId:Nr().required(),xdm:Mr({eventType:qr.apply(void 0,g(Object.values(rl))).required(),mediaCollection:Mr(Er())}).required()}).required(),Mr({xdm:Mr({eventType:qr.apply(void 0,g(Object.values(rl))).required(),mediaCollection:Mr({playhead:Ar().integer().required(),sessionID:Nr().required()}).required()}).required()}).required()],"Error validating the sendMediaEvent command options.")(t)},bp=function(e){var t=e.config,a=e.trackMediaEvent,r=e.trackMediaSession,n=e.mediaResponseHandler;return{lifecycle:{onBeforeEvent:function(e){var t=e.mediaOptions,a=e.onResponse,r=void 0===a?ua:a;if(t){var s=t.legacy,o=t.playerId,i=t.getPlayerDetails;s||r((function(e){var t=e.response;return n({playerId:o,getPlayerDetails:i,response:t})}))}}},commands:{createMediaSession:{optionsValidator:function(e){return vp({options:e})},run:r},sendMediaEvent:{optionsValidator:function(e){return _p({options:e})},run:function(e){return t.streamingMedia?a(e):Promise.reject(new Error("Streaming media is not configured."))}}}}},yp=function(e){var t=e.config,a=e.logger,r=e.eventManager,n=e.sendEdgeNetworkRequest,s=e.consent,o=il(),i=sl({config:t,eventManager:r,logger:a,consent:s,sendEdgeNetworkRequest:n,setTimestamp:hi((function(){return new Date}))}),c=ll({mediaSessionCacheManager:o,mediaEventManager:i,config:t}),l=dl({config:t,mediaEventManager:i,mediaSessionCacheManager:o}),d=ml({mediaSessionCacheManager:o,config:t,trackMediaEvent:c});return bp({config:t,trackMediaEvent:c,mediaEventManager:i,mediaResponseHandler:d,trackMediaSession:l})};yp.namespace="Streaming media",yp.configValidators=hp;var Pp=Object.freeze({__proto__:null,activityCollector:si,audiences:li,consent:gp,context:Ri,eventMerge:al,mediaAnalyticsBridge:Il,personalization:tp,rulesEngine:Zc,streamingMedia:yp}),kp=window.console,Cp=ra(window),jp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Mr({name:Nr().default("alloy"),monitors:Sr(Mr({})).default([]),components:Sr(Lr())}).noUnknownFields()(e),a=t.name,r=t.monitors,n=t.components,s=function(){return(window.__alloyMonitors||[]).concat(r)},o=Gr({console:kp,locationSearch:window.location.search,createLogger:Tn,instanceName:a,createNamespacedStorage:Cp,getMonitors:s}),i=_o({instanceName:a,logController:o,components:n});return o.logger.logOnInstanceCreated({instance:i}),i};t.createInstance=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Mr({name:Nr().default("alloy"),monitors:Sr(Mr({})).default([])}).noUnknownFields()(e),a=t.name,r=t.monitors;return jp({name:a,monitors:r,components:Object.values(Pp)})}}},"adobe-alloy/dist/lib/instanceManager/createInstanceManager.js":{script:function(e){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function a(e){return o(e)||s(e)||n(e)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,t){if(e){if("string"==typeof e)return i(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?i(e,t):void 0}}function s(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function o(e){if(Array.isArray(e))return i(e)}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){d(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function d(e,t,a){return(t=u(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function u(e){var a=m(e,"string");return"symbol"==t(a)?a:a+""}function m(e,a){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,a||"default");if("object"!=t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}function p(e,t){if(null==e)return{};var a,r,n=f(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.includes(a)||{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function f(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;a[r]=e[r]}return a}var g=["name","edgeConfigId","stagingEdgeConfigId","developmentEdgeConfigId","onBeforeEventSend"];e.exports=function(e){var t=e.turbine,r=e.window,n=e.createInstance,s=e.createEventMergeId,o=e.orgId,i=e.wrapOnBeforeEventSend,c=e.getConfigOverrides,d=t.getExtensionSettings().instances,u={},m={};return r.__alloyMonitors=r.__alloyMonitors||[],r.__alloyMonitors.push({onInstanceCreated:function(){m.onInstanceCreated||(m.onInstanceCreated=[]);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];m.onInstanceCreated.push(t)},onInstanceConfigured:function(){m.onInstanceConfigured||(m.onInstanceConfigured=[]);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];m.onInstanceConfigured.push(t)},onBeforeCommand:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];"configure"===t[0].commandName&&(m.onBeforeCommand||(m.onBeforeCommand=[]),m.onBeforeCommand.push(t))}}),d.forEach((function(e){var a=e.name,s=e.edgeConfigId,d=e.stagingEdgeConfigId,m=e.developmentEdgeConfigId,f=e.onBeforeEventSend,h=p(e,g),v=n({name:a});r[a]=v,r.__alloyNS||(r.__alloyNS=[]),r.__alloyNS.push(a),u[a]=v;var _=t.environment&&t.environment.stage,b="development"===_&&m||"staging"===_&&d||s;h.edgeConfigOverrides=c(h),v("configure",l(l({},h),{},{datastreamId:b,debugEnabled:t.debugEnabled,orgId:h.orgId||o,onBeforeEventSend:i(f)})),t.onDebugChanged((function(e){v("setDebug",{enabled:e})}))})),{getInstance:function(e){return u[e]},createEventMergeId:function(){return s()},addMonitor:function(e){r.__alloyMonitors.push(e),Object.keys(m).forEach((function(t){e[t]&&m[t].forEach((function(r){e[t].apply(e,a(r))}))}))}}}}},"adobe-alloy/dist/lib/instanceManager/injectWrapOnBeforeEventSend.js":{script:function(e){"use strict";e.exports=function(e){var t=e.version;return function(e){return function(a){if(a.xdm.implementationDetails.name="".concat(a.xdm.implementationDetails.name,"/reactor"),a.xdm.implementationDetails.version="".concat(a.xdm.implementationDetails.version,"+").concat(t),e)return e(a)}}}}},"adobe-alloy/dist/lib/utils/createGetConfigOverrides.js":{script:function(e){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function a(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function n(e,t,a){return(t=s(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e){var a=o(e,"string");return"symbol"==t(a)?a:a+""}function o(e,a){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,a||"default");if("object"!=t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}var i=function(e){return function(t){var a,n,s,o,i,c=t.edgeConfigOverrides;if(c){if(c[e])i=r({},c[e]);else{if(c.development||c.staging||c.production)return;i=c}if(0!==Object.keys(i).length&&!1!==i.enabled){if(delete i.enabled,(null===(a=i.com_adobe_analytics)||void 0===a||null===(a=a.reportSuites)||void 0===a?void 0:a.length)>0&&(i.com_adobe_analytics.reportSuites=i.com_adobe_analytics.reportSuites.flatMap((function(e){return e.includes(",")?e.split(/,\s*/gi):e})).map((function(e){return e.trim()})).filter(Boolean)),void 0!==(null===(n=i.com_adobe_identity)||void 0===n?void 0:n.idSyncContainerId)&&null!==(null===(s=i.com_adobe_identity)||void 0===s?void 0:s.idSyncContainerId)&&"string"==typeof(null===(o=i.com_adobe_identity)||void 0===o?void 0:o.idSyncContainerId)){var l=parseInt(i.com_adobe_identity.idSyncContainerId.trim(),10);if(Number.isNaN(l))throw new Error('The ID sync container ID "'.concat(i.com_adobe_identity.idSyncContainerId,'" is not a valid integer.'));i.com_adobe_identity.idSyncContainerId=l}return i}}}};e.exports=i}},"adobe-alloy/dist/lib/createEventMergeIdCache.js":{script:function(e){"use strict";e.exports=function(){var e={};return{set:function(t,a){e[t]=a},getByCacheId:function(t){return e[t]},clearByEventMergeId:function(t){Object.keys(e).forEach((function(a){e[a]===t&&delete e[a]}))}}}}},"adobe-alloy/dist/lib/createSendEventCallbackStorage.js":{script:function(e){"use strict";e.exports=function(){var e=[];return{add:function(t){e.push(t)},triggerEvent:function(t){e.forEach((function(e){e(t)}))}}}}},"adobe-alloy/dist/lib/createMediaCollectionSessionStorage.js":{script:function(e){"use strict";e.exports=function(){var e={};return{add:function(t){var a=t.playerId,r=t.sessionDetails;if(e[a])throw new Error("Player Id ".concat(a," already exists"));e[a]=r},remove:function(t){var a=t.playerId;e[a]=void 0},get:function(t){var a=t.playerId;return e[a]}}}}},"adobe-alloy/dist/lib/createVariableStore.js":{script:function(e){"use strict";e.exports=function(){return{}}}},"adobe-alloy/dist/lib/actions/sendEvent/createSendEvent.js":{script:function(e,t,a){"use strict";function r(e,t){if(null==e)return{};var a,r,s=n(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.includes(a)||{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function n(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;a[r]=e[r]}return a}var s=["instanceName"],o=a("../../utils/clone");e.exports=function(e){var t=e.instanceManager,a=e.sendEventCallbackStorage,n=e.getConfigOverrides;return function(e){var i=e.instanceName,c=r(e,s);c.edgeConfigOverrides=n(c);var l=t.getInstance(i);if(!l)throw new Error('Failed to send event for instance "'.concat(i,'". No matching instance was configured with this name.'));return c.xdm&&(c.xdm=o(c.xdm)),c.data&&(c.data=o(c.data)),l("sendEvent",c).then((function(e){a.triggerEvent(e)}))}}}},"adobe-alloy/dist/lib/utils/clone.js":{script:function(e){"use strict";e.exports=function(e){return JSON.parse(JSON.stringify(e))}}}}},"adobe-target-v2":{displayName:"Adobe Target v2",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP4d931de95317478eb0767fcd2d78431c/",settings:{targetSettings:{enabled:!0,timeout:"3000",version:"2.11.4",endpoint:"/rest/v1/delivery",imsOrgId:"664516D751E565010A490D4C@AdobeOrg",clientCode:"marriottinternationa",secureOnly:!1,serverState:{},optinEnabled:!1,serverDomain:"marriottinternationa.tt.omtrdc.net",urlSizeLimit:2048,viewsEnabled:!0,optoutEnabled:!1,bodyHiddenStyle:"body {opacity: 0}",pageLoadEnabled:!0,analyticsLogging:"server_side",deviceIdLifetime:632448e5,bodyHidingEnabled:!0,decisioningMethod:"server-side",sessionIdLifetime:186e4,visitorApiTimeout:2e3,authoringScriptUrl:"//cdn.tt.omtrdc.net/cdn/target-vec.js",overrideMboxEdgeServer:!1,selectorsPollingTimeout:5e3,defaultContentHiddenStyle:"visibility: hidden;",defaultContentVisibleStyle:"visibility: visible;",overrideMboxEdgeServerTimeout:186e4,supplementalDataIdParamTimeout:30}},modules:{"adobe-target-v2/lib/addParams.js":{name:"add-params",displayName:"Add Params to All Requests",script:function(e,t,a){"use strict";var r=a("./modules/params-store").mergeParams;e.exports=function(e){r(e.params)}}},"adobe-target-v2/lib/firePageLoad.js":{name:"fire-page-load",displayName:"Fire Page Load Request",script:function(e,t,a,r){"use strict";function n(){
return s.adobe&&s.adobe.target&&s.adobe.target.VERSION}var s=a("@adobe/reactor-window"),o=a("./modules/libs/at-launch"),i=o.initConfig,c=o.initDelivery,l=a("./modules/page-load"),d=a("./messages");e.exports=function(e){var t=l(e);n()?(i(t),c()):s.console&&r.logger.warn(d.NO_REQUEST)}}},"adobe-target-v2/lib/loadTarget.js":{name:"load-target",displayName:"Load Target",script:function(e,t,a){"use strict";var r=a("@adobe/reactor-window"),n=a("@adobe/reactor-document"),s=a("./modules/load-target"),o=s.initLibrarySettings,i=s.overridePublicApi,c=a("./modules/optin"),l=c.shouldUseOptIn,d=c.isTargetApproved,u=a("./analyticsIntegration");e.exports=function(){var e=o();e&&e.enabled?((0,a("./modules/libs/at-launch").init)(r,n,e),l()&&!d()||u()):i(r)}}},"adobe-target-v2/lib/modules/params-store.js":{script:function(e,t,a){"use strict";function r(e){return void 0!==e&&null!=e&&Object.prototype.hasOwnProperty.call(e,"value")&&null!=e.checked}function n(e){var t={};return Object.keys(e).forEach((function(a){var n=e[a];if(r(n)){var s=n.checked,o=n.value;s&&""===o||(t[a]=o)}else t[a]=n})),t}function s(e){var t=n(e);l(d,t)}function o(e){var t=n(e);l(u,t)}function i(){return d}function c(){return u}var l=a("./object-override"),d={},u={};e.exports={mergeParams:s,mergePageLoadParams:o,getParams:i,getPageLoadParams:c}}},"adobe-target-v2/lib/modules/object-override.js":{script:function(e){"use strict";function t(e,t,a,r){t[a]!==r&&(e[a]=t[a])}function a(e){return!Array.isArray(this.subset)||-1!==this.subset.indexOf(e)}e.exports=function(e,r,n){Object.keys(r).filter(a,{subset:n}).forEach((function(a){t(e,r,a)}))}}},"adobe-target-v2/lib/modules/libs/at-launch.js":{script:function(e,t,a){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){return i(e)||c(e,t)||l(e,t)||u()}function i(e){if(Array.isArray(e))return e}function c(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,s=[],o=!0,i=!1;try{for(a=a.call(e);!(o=(r=a.next()).done)&&(s.push(r.value),!t||s.length!==t);o=!0);}catch(e){i=!0,n=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw n}}return s}}function l(e,t){if(e){if("string"==typeof e)return d(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e){return null==e}function p(e){return uu.call(e)}function f(e){return p(e)}function g(e){var t=n(e);return null!=e&&("object"===t||"function"===t)}function h(e){return!!g(e)&&f(e)===mu}function v(e){return e}function _(e){return h(e)?e:v}function b(e){return m(e)?[]:Object.keys(e)}function y(e,t){return m(t)?[]:(lu(t)?gu:hu)(_(e),t)}function P(e){return e&&e.length?e[0]:void 0}function k(e){return m(e)?[]:[].concat.apply([],e)}function C(e){for(var t=this,a=e?e.length:0,r=a;r-=1;)if(!h(e[r]))throw new TypeError("Expected a function");return function(){for(var r=0,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];for(var i=a?e[r].apply(t,s):s[0];(r+=1)<a;)i=e[r].call(t,i);return i}}function j(e,t){m(t)||(lu(t)?pu:fu)(_(e),t)}function w(e){return null!=e&&"object"===n(e)}function x(e){return"string"==typeof e||!lu(e)&&w(e)&&f(e)===vu}function I(e){if(!x(e))return-1;for(var t=0,a=e.length,r=0;r<a;r+=1)t=(t<<5)-t+e.charCodeAt(r)&4294967295;return t}function V(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=_u}function O(e){return null!=e&&V(e.length)&&!h(e)}function E(e,t){return bu((function(e){return t[e]}),e)}function S(e){for(var t=0,a=e.length,r=Array(a);t<a;)r[t]=e[t],t+=1;return r}function R(e){return e.split("")}function L(e){return m(e)?[]:O(e)?x(e)?R(e):S(e):E(b(e),e)}function T(e){if(null==e)return!0;if(O(e)&&(lu(e)||x(e)||h(e.splice)))return!e.length;for(var t in e)if(Pu.call(e,t))return!1;return!0}function A(e){return m(e)?"":Cu.call(e)}function D(e){return x(e)?!A(e):T(e)}function M(e){return"number"==typeof e||w(e)&&f(e)===wu}function N(e){return Object.getPrototypeOf(Object(e))}function q(e){if(!w(e)||f(e)!==xu)return!1;var t=N(e);if(null===t)return!0;var a=Eu.call(t,"constructor")&&t.constructor;return"function"==typeof a&&a instanceof a&&Ou.call(a)===Su}function F(e,t){return lu(t)?t.join(e||""):""}function U(e,t){return m(t)?[]:(lu(t)?bu:Ru)(_(e),t)}function B(){return(new Date).getTime()}function G(e,t,a){return m(a)?t:(lu(a)?Lu:Tu)(_(e),t,a)}function H(e){return null==e?e:Du.call(e)}function J(e,t){return D(t)?[]:t.split(e||"")}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return setTimeout(e,Number(t)||0)}function W(e){clearTimeout(e)}function $(e){return void 0===e}function Q(e){return!$(e)}function K(e){return!!e.execute&&!!e.execute.pageLoad}function Y(e){return!!e.execute&&!!e.execute.mboxes&&e.execute.mboxes.length||0}function X(e){return!!e.prefetch&&!!e.prefetch.pageLoad}function Z(e){return!!e.prefetch&&!!e.prefetch.mboxes&&e.prefetch.mboxes.length||0}function ee(e){return!!e.prefetch&&!!e.prefetch.views&&e.prefetch.views.length||0}function te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(e&&M(e))return+e.toFixed(t)}function ae(){function e(e){r.push(e)}function t(){var e=r;return r=[],e}function a(){return r.length>0}var r=[];return{addEntry:e,getAndClearEntries:t,hasEntries:a}}function re(){function e(e){return e.edgeHost?Nu.EDGE:Nu.LOCAL}function t(e){var t={},a=K(e),r=Y(e),n=X(e),s=Z(e),o=ee(e);return a&&(t.executePageLoad=a),r&&(t.executeMboxCount=r),n&&(t.prefetchPageLoad=n),s&&(t.prefetchMboxCount=s),o&&(t.prefetchViewCount=o),t}function a(e){var t={};return e.dns&&(t.dns=te(e.dns)),e.tls&&(t.tls=te(e.tls)),e.timeToFirstByte&&(t.timeToFirstByte=te(e.timeToFirstByte)),e.download&&(t.download=te(e.download)),e.responseSize&&(t.responseSize=te(e.responseSize)),t}function r(e){var t={};return e.execution&&(t.execution=te(e.execution)),e.parsing&&(t.parsing=te(e.parsing)),e.request&&(t.request=a(e.request)),nu.default(e,t)}function n(e){g.addEntry(r(e))}function s(e){p&&n({requestId:e.requestId,timestamp:B()})}function o(e,t){p&&n({requestId:e,timestamp:B(),execution:t})}function i(e,t){n(nu.default(t,{requestId:e,timestamp:B()}))}function c(e,t){p&&t&&i(e,t)}function l(a,r,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:f;if(p&&r){var o=a.requestId,c=nu.default(t(a),{decisioningMethod:s}),l={mode:e(n),features:c};i(o,nu.default(r,l))}}function d(){return g.getAndClearEntries()}function u(){return g.hasEntries()}function m(e){return u()?nu.default(e,{telemetry:{entries:d()}}):e}var p=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mu.SERVER_SIDE,g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ae();return{addDeliveryRequestEntry:l,addArtifactRequestEntry:c,addRenderEntry:o,addServerStateEntry:s,getAndClearEntries:d,hasEntries:u,addTelemetryToDeliveryRequest:m}}function ne(e,t){return e(t={exports:{}},t.exports),t.exports}function se(){function e(e){var t=(Q(s[e])?s[e]:0)+1;return s[e]=t,""+e+t}function t(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e(t):t;return $(o[a])&&(o[a]=Bu()),a}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if($(o[e]))return-1;var a=Bu()-o[e]-t;return i[e]=a,a}function r(e){delete s[e],delete o[e],delete i[e]}function n(){s={},o={},i={}}var s={},o={},i={};return{timeStart:t,timeEnd:a,getTimings:function(){return i},getTiming:function(e){return i[e]},clearTiming:r,reset:n}}function oe(){var e=window.crypto||window.msCrypto;return!m(e)&&e.getRandomValues&&h(e.getRandomValues)&&e.getRandomValues.bind(e)}function ie(){return zu(Ju)}function ce(){for(var e=[],t=0;t<256;t+=1)e.push((t+256).toString(16).substr(1));return e}function le(e){for(var t=[],a=0;a<16;a+=1)t.push(Wu[e[a]]);return F("",t).toLowerCase()}function de(e){var t=e();return t[6]=15&t[6]|64,t[8]=63&t[8]|128,le(t)}function ue(){return de(ie)}function me(e,t){e[Yp]&&(m(t[nf])||(e[Nf]=t[nf]),j((function(a){m(t[a])||(e[a]=t[a])}),Ag))}function pe(e){var t=e.documentMode;return!t||t>=10}function fe(e){var t=e.compatMode;return t&&"CSS1Compat"===t}function ge(e){return Rg.test(e)}function he(e){if(ge(e))return e;var t=H(J(".",e)),a=t.length;return a>=3&&Lg.test(t[1])?t[2]+"."+t[1]+"."+t[0]:1===a?t[0]:t[1]+"."+t[0]}function ve(e,t,a){var r="";e.location.protocol===Sg||(r=he(e.location.hostname)),a[Pf]=r,a[Yp]=fe(t)&&pe(t),me(a,e[Lf]||{})}function _e(e){ve(Eg,Og,e);var t=Eg.location.protocol===Sg;(Tg=nu.default({},e))[df]=e[df]/1e3,Tg[uf]=e[uf]/1e3,Tg[yf]=Tg[vf]||t?"https:":""}function be(){return Tg}function ye(e){try{return Dg(e)}catch(e){return{}}}function Pe(e){try{return Mg(e)}catch(e){return""}}function ke(e){try{return decodeURIComponent(e)}catch(t){return e}}function Ce(e){try{return encodeURIComponent(e)}catch(t){return e}}function je(e){if(qg[e])return qg[e];Ng.href=e;var t=Hu(Ng.href);return t.queryKey=ye(t.query),qg[e]=t,qg[e]}function we(e,t,a){return{name:e,value:t,expires:a}}function xe(e){var t=J("#",e);return T(t)||t.length<3||isNaN(parseInt(t[2],10))?null:we(ke(t[0]),ke(t[1]),Number(t[2]))}function Ie(e){return D(e)?[]:J("|",e)}function Ve(){var e=U(xe,Ie(Fg(Gg))),t=Math.ceil(B()/1e3);return G((function(e,t){return e[t.name]=t,e}),{},y((function(e){return g(e)&&t<=e.expires}),e))}function Oe(e){var t=Ve()[e];return g(t)?t.value:""}function Ee(e){return F("#",[Ce(e.name),Ce(e.value),e.expires])}function Se(e){return e.expires}function Re(e){var t=U(Se,e);return Math.max.apply(null,t)}function Le(e,t,a){var r=L(e),n=Math.abs(1e3*Re(r)-B()),s=F("|",U(Ee,r)),o=new Date(B()+n),i=nu.default({domain:t,expires:o,secure:a},a?{sameSite:Pg}:{});Ug(Gg,s,i)}function Te(e){var t=e.name,a=e.value,r=e.expires,n=e.domain,s=e.secure,o=Ve();o[t]=we(t,a,Math.ceil(r+B()/1e3)),Le(o,n,s)}function Ae(e){return ju(Fg(e))}function De(e,t){var a=ye(e.location.search);return ju(a[t])}function Me(e,t){var a=je(e.referrer).queryKey;return!m(a)&&ju(a[t])}function Ne(e,t,a){return Ae(a)||De(e,a)||Me(t,a)}function qe(){var e=be(),t=e[Pf],a=e[vf],r=nu.default({domain:t,secure:a},a?{sameSite:Pg}:{});Ug(Sm,Rm,r);var n=Fg(Sm)===Rm;return Bg(Sm),n}function Fe(){return Ne(Eg,Og,Om)}function Ue(){return be()[Yp]&&qe()&&!Fe()}function Be(){return Ne(Eg,Og,Vm)}function Ge(){return Ne(Eg,Og,Em)}function He(e,t){var a=e.console;return!m(a)&&h(a[t])}function Je(e,t){var a=e.console;He(e,"warn")&&a.warn.apply(a,[Hg].concat(t))}function ze(e,t){var a=e.console;He(e,"debug")&&Be()&&a.debug.apply(a,[Hg].concat(t))}function We(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];Je(Eg,t)}function $e(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];ze(Eg,t)}function Qe(e){return G((function(t,a){return t[a]=e[a],t}),{},Ag)}function Ke(e,t,a){var r=e[Rf]||[];if(e[Rf]=r,a){var n=r.push;r[sf]=Jg,r[Of]=Qe(t),r[Ef]=[],r[Sf]=[],r.push=function(e){r[Sf].push(nu.default({timestamp:B()},e)),n.call(this,e)}}}function Ye(e,t,a,r){t===Sf&&e[Rf].push(a),r&&t!==Sf&&e[Rf][t].push(nu.default({timestamp:B()},a))}function Xe(){Ke(Eg,be(),Be())}function Ze(e){Ye(Eg,Sf,e,Be())}function et(e){Ye(Eg,Ef,e,Be())}function tt(){return h(Wg)}function at(e){return new Wg(e)}function rt(){var e=Og.createTextNode(""),t=function(){e.textContent=e.textContent.length>0?"":"a"},a=[];return at((function(){for(var e=a.length,t=0;t<e;t+=1)a[t]();a.splice(0,e)})).observe(e,{characterData:!0}),function(e){a.push(e),t()}}function nt(){return function(e){var t=zg("<script>");t.on("readystatechange",(function(){t.on("readystatechange",null),t.remove(),t=null,e()})),zg(Og.documentElement).append(t)}}function st(){tt()?iu.default._setImmediateFn(rt()):-1!==Eg.navigator.userAgent.indexOf("MSIE 10")&&iu.default._setImmediateFn(nt())}function ot(e){return new iu.default(e)}function it(e){return iu.default.resolve(e)}function ct(e){return iu.default.reject(e)}function lt(e){return lu(e)?iu.default.race(e):ct(new TypeError($g))}function dt(e){return lu(e)?iu.default.all(e):ct(new TypeError($g))}function ut(e,t,a){var r=-1;return lt([e,ot((function(e,n){r=z((function(){return n(new Error(a))}),t)}))]).then((function(e){return W(r),e}),(function(e){throw W(r),e}))}function mt(e){if(m(e[sg]))return!1;var t=e[sg];if(m(t[og]))return!1;var a=t[og];return h(a[cg])&&h(a[ig])}function pt(e,t){return!!t&&mt(e)}function ft(e,t){if(!mt(e))return!0;var a=e[sg][og],r=(e[sg][og][lg]||{})[t];return a[ig](r)}function gt(e,t){if(!mt(e))return it(!0);var a=e[sg][og],r=(e[sg][og][lg]||{})[t];return ot((function(e,t){a[cg]((function(){a[ig](r)?e(!0):t(pg)}),!0)}))}function ht(){var e=be()[mg];return pt(Eg,e)}function vt(){return ft(Eg,dg)}function _t(){return ft(Eg,ug)}function bt(){return gt(Eg,dg)}function yt(){return ye(Eg.location.search)[jf]}function Pt(e,t){Te({name:If,value:e,expires:t[uf],domain:t[Pf],secure:t[vf]})}function kt(e){Pt(e,be())}function Ct(){if(ht()&&!vt())return Qg;var e=yt();if(ju(e))return kt(e),Oe(If);var t=Oe(If);return D(t)?kt(Qg):kt(t),Oe(If)}function jt(e){var t=be();Te({name:wf,value:e,expires:t[df],domain:t[Pf],secure:t[vf]})}function wt(){return Oe(wf)}function xt(e){if(D(e))return"";var t=Kg.exec(e);return T(t)||2!==t.length?"":t[1]}function It(){if(!be()[ff])return"";var e=Fg(xf);return D(e)?"":e}function Vt(e){var t=be();if(t[ff]){var a=t[Pf],r=new Date(B()+t[gf]),n=t[vf],s=Fg(xf),o=nu.default({domain:a,expires:r,secure:n},n?{sameSite:Pg}:{});if(ju(s))Ug(xf,s,o);else{var i=xt(e);D(i)||Ug(xf,i,o)}}}function Ot(e,t){function a(e,a){var r=t.createEvent("CustomEvent");return a=a||{bubbles:!1,cancelable:!1,detail:void 0},r.initCustomEvent(e,a.bubbles,a.cancelable,a.detail),r}h(e.CustomEvent)||(a.prototype=e.Event.prototype,e.CustomEvent=a)}function Et(e,t){var a=e(),r=t(),n={};return n.sessionId=a,ju(r)?(n.deviceId=r,n):n}function St(e,t,a,r){var n=new e.CustomEvent(a,{detail:r});t.dispatchEvent(n)}function Rt(e,t){var a;try{a=JSON.parse(JSON.stringify(t))}catch(e){a=t}var r=a,n=r.mbox,s=r.error,o=r.url,i=r.analyticsDetails,c=r.responseTokens,l=r.execution,d={type:e,tracking:Et(Ct,wt)};return m(n)||(d.mbox=n),m(s)||(d.error=s),m(o)||(d.url=o),T(i)||(d.analyticsDetails=i),T(c)||(d.responseTokens=c),T(l)||(d.execution=l),d}function Lt(){var e=Rt(Xg,{});St(Eg,Og,Xg,e)}function Tt(e){var t=Rt(Zg,e);St(Eg,Og,Zg,t)}function At(e,t){var a=Rt(eh,e);a.redirect=t,St(Eg,Og,eh,a)}function Dt(e){var t=Rt(th,e);St(Eg,Og,th,t)}function Mt(e){var t=Rt(ah,e);St(Eg,Og,ah,t)}function Nt(e){var t=Rt(rh,e);St(Eg,Og,rh,t)}function qt(e){var t=Rt(nh,e);St(Eg,Og,nh,t)}function Ft(e){var t=Rt(sh,e);St(Eg,Og,sh,t)}function Ut(e){var t=Rt(oh,e);St(Eg,Og,oh,t)}function Bt(e){return w(e)&&1===e.nodeType&&!q(e)}function Gt(e){var t=e.charAt(0),a=e.charAt(1),r=e.charAt(2),n={key:e};return n.val="-"===a?""+t+a+"\\3"+r+" ":t+"\\3"+a+" ",n}function Ht(e){var t=e.match(dh);return T(t)?e:G((function(e,t){return e.replace(t.key,t.val)}),e,U(Gt,t))}function Jt(e){for(var t,a,r,n,s=[],o=A(e),i=o.indexOf(ih);-1!==i;)t=A(o.substring(0,i)),n=(a=A(o.substring(i))).indexOf(ch),r=A(a.substring(lh,n)),i=(o=A(a.substring(n+1))).indexOf(ih),t&&r&&s.push({sel:t,eq:Number(r)});return o&&s.push({sel:o}),s}function zt(e){if(Bt(e))return zg(e);if(!x(e))return zg(e);var t=Ht(e);if(-1===t.indexOf(ih))return zg(t);var a=Jt(t);return G((function(e,t){var a=t.sel,r=t.eq;return e=e.find(a),M(r)&&(e=e.eq(r)),e}),zg(Og),a)}function Wt(e){return zt(e).length>0}function $t(e){return zg("<"+$m+"/>").append(e)}function Qt(e){return zg(e)}function Kt(e){return zt(e).prev()}function Yt(e){return zt(e).next()}function Xt(e){return zt(e).parent()}function Zt(e,t){return zt(t).is(e)}function ea(e,t){return zt(t).find(e)}function ta(e){return zt(e).children()}function aa(){Eg[ph]=Eg[ph]||{},Eg[ph].querySelectorAll=zt}function ra(e){var t=e[Qf];Eg[ph][gh]=t}function na(){Og.addEventListener(Bm,(function(e){h(Eg[ph][fh])&&Eg[ph][fh](e)}),!0)}function sa(){if(Ge()){aa();var e=be()[bf],t=function(){return na()},a=function(){return We(uh)};$e(mh),cu.default(e).then(t).catch(a)}}function oa(e){return parseInt(e,10)}function ia(e){var t=oa(e);return isNaN(t)?null:t}function ca(e){return J(kh,e)}function la(e){var t=J(kh,e),a=ia(t[0]);if(m(a))return null;var r={};r.activityIndex=a;var n=ia(t[1]);return m(n)||(r.experienceIndex=n),r}function da(e){return y(Ch,U(la,e))}function ua(e){return lu(e)?da(e):da([e])}function ma(e){var t=ye(e),a=t[vh];if(D(a))return null;var r={};r.token=a;var n=t[bh];ju(n)&&n===Rm&&(r.listedActivitiesOnly=!0);var s=t[yh];ju(s)&&(r.evaluateAsTrueAudienceIds=ca(s));var o=t[Ph];ju(o)&&(r.evaluateAsFalseAudienceIds=ca(o));var i=t[_h];return T(i)||(r.previewIndexes=ua(i)),r}function pa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ug,a=ma(e.location.search);if(!m(a)){var r=new Date(B()+186e4),n=be(),s=n[vf],o=n[Pf],i=nu.default({expires:r,secure:s,domain:o},s?{sameSite:Pg}:{});t(hh,JSON.stringify(a),i)}}function fa(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fg)(hh);if(D(e))return{};try{return JSON.parse(e)}catch(e){return{}}}function ga(e){var t=ye(e)[wh];return D(t)?null:{token:t}}function ha(e){var t=ga(e.location.search);if(!m(t)){var a=new Date(B()+186e4),r=be()[vf],n=nu.default({expires:a,secure:r},r?{sameSite:Pg}:{});Ug(jh,JSON.stringify(t),n)}}function va(){var e=Fg(jh);if(D(e))return{};try{return JSON.parse(e)}catch(e){return{}}}function _a(e){return zt(e).empty().remove()}function ba(e,t){return zt(t).after(e)}function ya(e,t){return zt(t).before(e)}function Pa(e,t){return zt(t).append(e)}function ka(e,t){return zt(t).prepend(e)}function Ca(e,t){return zt(t).html(e)}function ja(e){return zt(e).html()}function wa(e,t){return zt(t).text(e)}function xa(e,t){return"<"+Jm+" "+Fm+'="'+e+'" '+Um+'="'+$p+'">'+t+"</"+Jm+">"}function Ia(e,t){return xa(xh+I(t),t+" {"+e+"}")}function Va(e,t){return xa(Oh,t+" {"+e+"}")}function Oa(e){if(!0===e[lf]&&!Wt(Vh)){var t=e[cf];Pa(xa(Ih,t),Gm)}}function Ea(e){!0===e[lf]&&Wt(Vh)&&_a(Vh)}function Sa(e,t){if(!T(t)){var a=y((function(e){return!Wt("#"+(xh+I(e)))}),t);if(!T(a)){var r=e[of];Pa(F("\n",U((function(e){return Ia(r,e)}),a)),Gm)}}}function Ra(e,t){T(t)||Wt("#"+Oh)||Pa(Va(e[of],F(", ",t)),Gm)}function La(){Oa(be())}function Ta(){Ea(be())}function Aa(e){Sa(be(),e)}function Da(e){Ra(be(),e)}function Ma(e){_a("#"+(xh+I(e)))}function Na(){var e="#"+Oh;Wt(e)&&_a(e)}function qa(e){return!m(e[Fm])}function Fa(e){return!m(e[qf])}function Ua(e){switch(e){case 0:default:return"unknown";case 1:return"authenticated";case 2:return"logged_out"}}function Ba(e){return e[Bf]}function Ga(e){return qa(e)||Fa(e)}function Ha(e,t){return G((function(e,a,r){var n={};return n[Uf]=r,qa(a)&&(n[Fm]=a[Fm]),Fa(a)&&(n[Ff]=Ua(a[qf])),n[$u]=t,Ba(a)&&(n[Bf]=!0),e.push(n),e}),[],y(Ga,e))}function Ja(e){if(!e.nameSpaces&&!e.dataSources)return Ha(e,qh);var t=[];return e.nameSpaces&&t.push.apply(t,Ha(e.nameSpaces,Nh)),e.dataSources&&t.push.apply(t,Ha(e.dataSources,qh)),t}function za(e){if(m(e))return[];if(!h(e[Dh]))return[];var t=e[Dh](Mh);return g(t)?Ja(t):[]}function Wa(e,t){return m(e)?null:h(e[Ah])?e[Ah](t):null}function $a(e,t){if(m(e))return null;var a=e[t];return m(a)?null:a}function Qa(e,t,a){if(D(t))return null;if(m(e[Bh]))return null;if(!h(e[Bh][Gh]))return null;var r=e[Bh][Gh](t,{sdidParamExpiry:a});return g(r)&&h(r[Hh])&&r[Hh]()?r:null}function Ka(e,t){if(!h(e.getVisitorValues))return it({});var a=[Lh,Sh,Rh];return t&&a.push(Th),ot((function(t){e.getVisitorValues((function(e){return t(e)}),a)}))}function Ya(e){return $e(zh,e),{}}function Xa(e,t,a){return m(e)?it({}):ut(Ka(e,a),t,Jh).catch(Ya)}function Za(e,t){if(!h(e.getVisitorValues))return{};var a=[Lh,Sh,Rh];t&&a.push(Th);var r={};return e.getVisitorValues((function(e){return nu.default(r,e)}),a),r}function er(e,t){return m(e)?{}:Za(e,t)}function tr(){var e=be(),t=e[Zp],a=e[_f];return Qa(Eg,t,a)}function ar(){var e=tr(),t=be();return Xa(e,t[pf],t[hf])}function rr(){return er(tr(),be()[hf])}function nr(){return za(tr())}function sr(e){return Wa(tr(),e)}function or(e){return $a(tr(),e)}function ir(e,t){Wh[e]=t}function cr(e){return Wh[e]}function lr(e){var t=e[Lf];if(m(t))return!1;var a=t[Af];return!(!lu(a)||T(a))}function dr(e){var t=e[Np];if(!x(t)||T(t))return!1;var a=e[sf];if(!x(a)||T(a))return!1;var r=e[af];return!(!m(r)&&!M(r)||!h(e[zp]))}function ur(e){return ot((function(t,a){e((function(e,r){m(e)?t(r):a(e)}))}))}function mr(e,t,a,r,n,s){var o={};o[e]=t,o[a]=r,o[n]=s;var i={};return i[Tf]=o,i}function pr(e){var t=e[Np],a=e[sf],r=e[af]||Kh;return ut(ur(e[zp]),r,Qh).then((function(e){var r=mr(Np,t,sf,a,Fp,e);return $e($h,Lp,r),et(r),e})).catch((function(e){var r=mr(Np,t,sf,a,Op,e);return $e($h,Op,r),et(r),{}}))}function fr(e){var t=G((function(e,t){return nu.default(e,t)}),{},e);return ir(Af,t),t}function gr(e){return lr(e)?dt(U(pr,y(dr,e[Lf][Af]))).then(fr):it({})}function hr(){var e=cr(Af);return m(e)?{}:e}function vr(){return gr(Eg)}function _r(){return hr()}function br(e){var t=ye(e.location.search)[Yh];return D(t)?null:t}function yr(){var e=Fg(Xh);return D(e)?null:e}function Pr(){var e=br(Eg),t=yr();return e||t}function kr(e){return!T(e)&&2===e.length&&ju(e[0])}function Cr(e){var t=e.indexOf("=");return-1===t?[]:[e.substr(0,t),e.substr(t+1)]}function jr(e,t,a,r){j((function(e,n){g(e)?(t.push(n),jr(e,t,a,r),t.pop()):T(t)?a[r(n)]=e:a[r(F(".",t.concat(n)))]=e}),e)}function wr(e){return y((function(e,t){return ju(t)}),ye(e))}function xr(e){var t=G((function(e,t){return e.push(Cr(t)),e}),[],y(ju,e));return G((function(e,t){return e[ke(A(t[0]))]=ke(A(t[1])),e}),{},y(kr,t))}function Ir(e,t){var a={};return m(t)?jr(e,[],a,v):jr(e,[],a,t),a}function Vr(e){if(!h(e))return{};var t=null;try{t=e()}catch(e){return{}}return m(t)?{}:lu(t)?xr(t):x(t)&&ju(t)?wr(t):g(t)?Ir(t):{}}function Or(){return window.navigator.userAgentData}function Er(e){return nu.default({},e,Vr(Eg.targetPageParamsAll))}function Sr(e){return nu.default({},e,Vr(Eg.targetPageParams))}function Rr(e){var t=be(),a=t[rf],r=t[kf],n=t[Cf];return a!==e?Er(r||{}):nu.default(Er(r||{}),Sr(n||{}))}function Lr(){var e=Og.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");if(m(t))return null;var a=t.getExtension("WEBGL_debug_renderer_info");if(m(a))return null;var r=t.getParameter(a.UNMASKED_RENDERER_WEBGL);return m(r)?null:r}function Tr(){var e=Eg.devicePixelRatio;if(!m(e))return e;e=1;var t=Eg.screen,a=t.systemXDPI,r=t.logicalXDPI;return!m(a)&&!m(r)&&a>r&&(e=a/r),e}function Ar(e){if(!lu(e)||0===e.length)return"";var t="";return e.forEach((function(a,r){var n=a.brand,s=a.version,o=r<e.length-1?", ":"";t+='"'+n+'";v="'+s+'"'+o})),t}function Dr(e){return{mobile:e.mobile,platform:e.platform,browserUAWithMajorVersion:Ar(e.brands)}}function Mr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return e.getHighEntropyValues(Zh).then((function(e){var a=e.platformVersion,r=e.architecture,n=e.bitness,s=e.model,o=e.fullVersionList;return nu.default({},t,{model:s,platformVersion:a,browserUAWithFullVersion:Ar(o),architecture:r,bitness:n})}))}catch(e){return it(t)}}function Nr(e){return ir(wg,e),e}function qr(e){return it(e).then(Nr)}function Fr(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=cr(wg);if(Q(a))return qr(a);if($(e))return qr({});var r=Dr(e);return qr(t?Mr(e,r):r)}function Ur(){var e=Eg.screen,t=e.orientation,a=e.width,r=e.height;if(m(t))return a>r?"landscape":"portrait";if(m(t.type))return null;var n=J("-",t.type);if(T(n))return null;var s=n[0];return m(s)?null:s}function Br(){return ev}function Gr(e){return e===av}function Hr(e){return-1!==e.indexOf(tv)}function Jr(e){return e===rv}function zr(e){return e===nv}function Wr(e){return e===sv}function $r(e){return e===ov}function Qr(e){return e===iv}function Kr(e){return e===cv}function Yr(e){return Hr(e)||Gr(e)||Jr(e)||zr(e)||Wr(e)||$r(e)||Qr(e)||Kr(e)}function Xr(e){return e.substring(tv.length)}function Zr(e){return e[av]}function en(e){return e[rv]}function tn(e){return e[nv]}function an(e){return e[sv]}function rn(e){var t=U(A,J(",",e[ov]));return y(ju,t)}function nn(e){return e[iv]}function sn(e){return e[cv]}function on(){return G((function(e,t,a){return Yr(a)||(e[a]=m(t)?"":t),e}),{},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function cn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return G((function(e,a,r){var n=t?Xr(r):r;return t&&!Hr(r)||D(n)||(e[n]=m(a)?"":a),e}),{},e)}function ln(e,t,a){return e.onload=function(){var r=1223===e.status?204:e.status;if(r<100||r>599)a(new Error(dv));else{var n;try{var s=Bu();(n=JSON.parse(e.responseText)).parsingTime=Bu()-s,n.responseSize=new Blob([e.responseText]).size}catch(e){return void a(new Error(mv))}var o=e.getAllResponseHeaders();t({status:r,headers:o,response:n})}},e}function dn(e,t){return e.onerror=function(){t(new Error(dv))},e}function un(e,t,a){return e.timeout=t,e.ontimeout=function(){a(new Error(uv))},e}function mn(e){return j((function(t,a){lu(t)&&j((function(t){e.setRequestHeader(a,t)}),t)}),arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),e}function pn(e){var t=e.url,a=e.headers,r=e.body,n=e.timeout,s=e.async;return ot((function(e,o){var i=new window.XMLHttpRequest;(i=dn(i=ln(i,e,o),o)).open(lv,t,s),i.withCredentials=!0,i=mn(i,a),s&&(i=un(i,n,o)),i.send(JSON.stringify(r))})).then((function(e){var t=e.response,a=t.status,r=t.message;if(!m(a)&&!m(r))throw new Error(r);return t}))}function fn(e,t){if(!performance)return null;var a=performance.getEntriesByType("resource").find((function(t){return t.name.endsWith(e)}));if(!a)return null;var r={};return a.domainLookupEnd&&a.domainLookupStart&&(r.dns=a.domainLookupEnd-a.domainLookupStart),a.secureConnectionStart&&a.connectEnd&&(r.tls=a.connectEnd-a.secureConnectionStart),a.responseStart&&(r.timeToFirstByte=a.responseStart-a.requestStart),a.responseEnd&&a.responseStart&&(r.download=a.responseEnd-a.responseStart),a.encodedBodySize?r.responseSize=a.encodedBodySize:t.responseSize&&(r.responseSize=t.responseSize,delete t.responseSize),r}function gn(e,t){return M(t)?t<0?e[af]:t:e[af]}function hn(e){var t=e[ef];if(!e[ff])return t;var a=It();return D(a)?t:""+pv+a+fv}function vn(e){return e[yf]+"//"+hn(e)+e[Df]+"?"+Pe({client:e[Xp],sessionId:Ct(),version:e[sf]})}function _n(e,t,a){var r=be(),n=vn(r),o=s({},Yf,[Xf]),i=gn(r,t),c={url:n,headers:o,body:e,timeout:i,async:!0};return Gu.timeStart(e.requestId),pn(c).then((function(t){var r={execution:Gu.timeEnd(e.requestId),parsing:t.parsingTime};delete t.parsingTime;var s=fn(n,t);return s&&(r.request=s),t.telemetryServerToken&&(r.telemetryServerToken=t.telemetryServerToken),window.__target_telemetry.addDeliveryRequestEntry(e,r,t,a),nu.default(t,{decisioningMethod:Mu.SERVER_SIDE})}))}function bn(e){if(e[Th])throw new Error(Eh);return e}function yn(){var e=ar(),t=vr();return dt([e.then(bn),t])}function Pn(){return[rr(),_r()]}function kn(e){var t=be()[rf];return nu.default({},e,Rr(t))}function Cn(){return-(new Date).getTimezoneOffset()}function jn(){var e=Eg.screen;return{width:e.width,height:e.height,orientation:Ur(),colorDepth:e.colorDepth,pixelRatio:Tr()}}function wn(){var e=Og.documentElement;return{width:e.clientWidth,height:e.clientHeight}}function xn(){return{host:Eg.location.hostname,webGLRenderer:Br()}}function In(){return{url:Eg.location.href,referringUrl:Og.referrer}}function Vn(e){if(!m(e)&&e.channel===jg)return e;var t=be(),a=cr(wg)||{},r=(e||{}).beacon;return{userAgent:Eg.navigator.userAgent,clientHints:a,timeOffsetInMinutes:Cn(),channel:jg,screen:jn(),window:wn(),browser:xn(),address:In(),geo:e&&e.geo,crossDomain:t[tf],beacon:r}}function On(e,t){if(!m(e))return e;var a={};if(T(t))return a;var r=t[Rh],n=parseInt(r,10);isNaN(n)||(a.locationHint=n);var s=t[Sh];return ju(s)&&(a.blob=s),a}function En(e){var t=e.id,a=e.integrationCode,r=e.authenticatedState,n=e.type,s=e.primary,o={};return ju(t)&&(o.id=t),ju(a)&&(o.integrationCode=a),ju(r)&&(o.authenticatedState=r),ju(n)&&(o.type=n),s&&(o.primary=s),o}function Sn(e){return U(En,e)}function Rn(e,t,a,r,n){var s={};ju(t)&&(s.tntId=t),ju(a)&&(s.thirdPartyId=a),ju(e.thirdPartyId)&&(s.thirdPartyId=e.thirdPartyId);var o=r[Lh];return ju(o)&&(s.marketingCloudVisitorId=o),ju(e.marketingCloudVisitorId)&&(s.marketingCloudVisitorId=e.marketingCloudVisitorId),T(e.customerIds)?(T(n)||(s.customerIds=Sn(n)),s):(s.customerIds=e.customerIds,s)}function Ln(e,t){var a={},r=On(e.audienceManager,t);return T(r)||(a.audienceManager=r),T(e.analytics)||(a.analytics=e.analytics),T(e.platform)||(a.platform=e.platform),a}function Tn(e,t){if(!m(e)&&ju(e.token))return e;var a={},r=en(t);return ju(r)&&(a.token=r),a}function An(e){if(!m(e)&&ju(e.authorizationToken))return e;var t={},a=Pr();return ju(a)&&(t.authorizationToken=a),t}function Dn(e){return m(e)?va():e}function Mn(e){return m(e)?fa():e}function Nn(e){var t={},a=tn(e);m(a)||(t.id=a);var r=an(e),n=parseFloat(r);isNaN(n)||(t.total=n);var s=rn(e);return T(s)||(t.purchasedProductIds=s),t}function qn(e){var t={},a=nn(e);m(a)||(t.id=a);var r=sn(e);return m(r)||(t.categoryId=r),t}function Fn(e,t){var a={},r=nu.default({},on(t),on(e.parameters||{})),n=nu.default({},cn(t),cn(e.profileParameters||{},!1)),s=nu.default({},Nn(t),e.order||{}),o=nu.default({},qn(t),e.product||{});return T(r)||(a.parameters=r),T(n)||(a.profileParameters=n),T(s)||(a.order=s),T(o)||(a.product=o),a}function Un(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=be()[rf],n=e.index,s=e.name,o=e.address,i=Fn(e,nu.default({},s===r?t:a,Rr(s)));return m(n)||(i.index=n),ju(s)&&(i.name=s),T(o)||(i.address=o),i}function Bn(e,t){var a=e.name,r=e.address,n=Fn(e,t);return ju(a)&&(n.name=a),T(r)||(n.address=r),n}function Gn(e,t,a){var r=e.execute,n=void 0===r?{}:r,s={};if(T(n))return s;var o=n.pageLoad;m(o)||(s.pageLoad=Fn(o,t));var i=n.mboxes;if(!m(i)&&lu(i)&&!T(i)){var c=y(gv,U((function(e){return Un(e,t,a)}),i));T(c)||(s.mboxes=c)}return s}function Hn(e,t,a){var r=e.prefetch,n=void 0===r?{}:r,s={};if(T(n))return s;var o=n.mboxes;m(o)||!lu(o)||T(o)||(s.mboxes=U((function(e){return Un(e,t,a)}),o));var i=n.views;return m(i)||!lu(i)||T(i)||(s.views=U((function(e){return Bn(e,t)}),i)),s}function Jn(e,t){if(ht()&&!_t())return null;var a=be(),r=sr(e),n=or(Fh),s=or(Uh),o=t.experienceCloud,i=(void 0===o?{}:o).analytics,c=void 0===i?{}:i,l=c.logging,d=c.supplementalDataId,u=c.trackingServer,p=c.trackingServerSecure,f={};return m(l)?f.logging=a[fg]:f.logging=l,m(d)||(f.supplementalDataId=d),ju(r)&&(f.supplementalDataId=r),m(u)||(f.trackingServer=u),ju(n)&&(f.trackingServer=n),m(p)||(f.trackingServerSecure=p),ju(s)&&(f.trackingServerSecure=s),T(f)?null:f}function zn(e,t,a){var r=kn(a),n=wt(),s=Zr(r),o=nr(),i=Rn(e.id||{},n,s,t,o),c=Tn(e.property,r),l=Ln(e.experienceCloud||{},t),d=An(e.trace),u=Dn(e.preview),m=Mn(e.qaMode),p=Gn(e,r,a),f=Hn(e,r,a),g=e.notifications,h={};return h.requestId=ue(),h.context=Vn(e.context),T(i)||(h.id=i),T(c)||(h.property=c),T(d)||(h.trace=d),T(l)||(h.experienceCloud=l),T(u)||(h.preview=u),T(m)||(h.qaMode=m),T(p)||(h.execute=p),T(f)||(h.prefetch=f),T(g)||(h.notifications=g),h=Eg.__target_telemetry.addTelemetryToDeliveryRequest(h)}function Wn(e,t,a){var r=a[0],n=a[1];return zn(e,r,nu.default({},n,t))}function $n(e,t){var a=be();return dt([yn(),Fr(Or(),a[xg])]).then((function(a){var r=o(a,1)[0];return Wn(e,t,r)}))}function Qn(e,t){return Wn(e,t,Pn())}function Kn(e,t){return $e(Jp,e),et({request:e}),_n(e,t,Mu.SERVER_SIDE).then((function(t){return $e(Hp,t),et({response:t}),{request:e,response:t}}))}function Yn(e){return!e&&Yg?Yg:Yg=ue()}function Xn(e,t){return{status:Lp,type:e,data:t}}function Zn(e,t){return{status:Op,type:e,data:t}}function es(e){return g(e)}function ts(e){return!!es(e)&&ju(e.eventToken)}function as(e){return!T(e)&&!D(e.type)&&ju(e.eventToken)}function rs(e){return!!as(e)&&ju(e.selector)}function ns(e){var t=e.id;return g(t)&&ju(t.tntId)}function ss(e){var t=e.response;return ns(t)&&jt(t.id.tntId),e}function os(e){var t=e.response
;return ns(t)&&Vt(t.id.tntId),Vt(null),e}function is(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).trace;T(e)||Ze(e)}function cs(e){var t=e.response,a=t.execute,r=void 0===a?{}:a,n=t.prefetch,s=void 0===n?{}:n,o=t.notifications,i=void 0===o?{}:o,c=r.pageLoad,l=void 0===c?{}:c,d=r.mboxes,u=void 0===d?[]:d,m=s.mboxes,p=void 0===m?[]:m,f=s.views,g=void 0===f?[]:f;return is(l),j(is,u),j(is,p),j(is,g),j(is,i),e}function ls(e){var t=e.queryKey,a=t[Nv];if(!x(a))return t;if(D(a))return t;var r=Math.round(B()/1e3);return t[Nv]=a.replace(/\|TS=\d+/,"|TS="+r),t}function ds(e){return e.queryKey}function us(e,t,a){var r=je(e),n=r.protocol,s=r.host,o=r.path,i=""===r.port?"":":"+r.port,c=D(r.anchor)?"":"#"+r.anchor,l=a(r),d=Pe(nu.default({},l,t));return n+"://"+s+i+o+(D(d)?"":"?"+d)+c}function ms(e,t){return us(e,t,ls)}function ps(e,t){return us(e,t,ds)}function fs(e){var t=e.content;if(D(t))return $e(bp,e),null;var a=nu.default({},e);return a.content=ms(t,{}),a}function gs(e){throw new Error(e)}function hs(e){var t=e[Hv]||Bv,a=e[Jv]||gs(Uv),r=e[zv]||{},n=e[Wv]||null,s=e[$v]||!1,o=e[Qv]||3e3,i=!!m(e[Kv])||!0===e[Kv],c={};return c[Hv]=t,c[Jv]=a,c[zv]=r,c[Wv]=n,c[$v]=s,c[Qv]=o,c[Kv]=i,c}function vs(e,t,a){return e.onload=function(){var r=1223===e.status?204:e.status;if(r<100||r>599)a(new Error(qv));else{var n=e.responseText,s=e.getAllResponseHeaders();t({status:r,headers:s,response:n})}},e}function _s(e,t){return e.onerror=function(){t(new Error(qv))},e}function bs(e,t,a){return e.timeout=t,e.ontimeout=function(){a(new Error(Fv))},e}function ys(e,t){return!0===t&&(e.withCredentials=t),e}function Ps(e,t){return j((function(t,a){j((function(t){return e.setRequestHeader(a,t)}),t)}),t),e}function ks(e,t){var a=hs(t),r=a[Hv],n=a[Jv],s=a[zv],o=a[Wv],i=a[$v],c=a[Qv],l=a[Kv];return ot((function(t,a){var d=new e.XMLHttpRequest;(d=_s(d=vs(d,t,a),a)).open(r,n,l),d=Ps(d=ys(d,i),s),l&&(d=bs(d,c,a)),d.send(o)}))}function Cs(e){return ks(Eg,e)}function js(e,t,a){var r={};return r[Hv]=Bv,r[Jv]=ps(e,t),r[Qv]=a,r}function ws(e){return e>=200&&e<300||304===e}function xs(e){if(!ws(e.status))return null;var t=e.response;if(D(t))return null;var a={};return a.type=Dm,a.content=t,a}function Is(e){return Cs(js(e.content,{},be()[Qv])).then(xs).catch((function(){return null}))}function Vs(e){var t=e[rm];if(D(t))return"";var a=Yv.exec(t);return T(a)||2!==a.length?"":a[1]}function Os(e,t){var a=document.createElement($m);a.innerHTML=t;var r=a.firstElementChild;return m(r)?t:(r.id=e,r.outerHTML)}function Es(e){var t=e[Qu],a=Vs(e);if(D(a)||D(t))return e;var r=e[rm];return e[rm]=r.replace(Xv,""),e[Qu]=Os(a,t),e}function Ss(e){return!m(e.selector)}function Rs(e){if(!Ss(e))return null;var t=Es(e);return x(t[Qu])?t:($e(pp,t),null)}function Ls(e){if(!Ss(e))return null;var t=Es(e);return x(t[Qu])?t:($e(pp,t),null)}function Ts(e){if(!Ss(e))return null;var t=Es(e);return x(t[Qu])?t:($e(pp,t),null)}function As(e){if(!Ss(e))return null;var t=Es(e);return x(t[Qu])?t:($e(pp,t),null)}function Ds(e){if(!Ss(e))return null;var t=Es(e);return x(t[Qu])?t:($e(pp,t),null)}function Ms(e){if(!Ss(e))return null;var t=Es(e);return x(t[Qu])?t:($e(pp,t),null)}function Ns(e){if(!Ss(e))return null;var t=Es(e);return x(t[Qu])?t:($e(pp,t),null)}function qs(e){return Ss(e)?x(e[Qu])?e:($e(pp,e),null):null}function Fs(e){return Ss(e)?g(e[Qu])?e:($e(fp,e),null):null}function Us(e){return Ss(e)?x(e[Qu])?e:($e(yp,e),null):null}function Bs(e){return Ss(e)?g(e[Qu])?e:($e(gp,e),null):null}function Gs(e){return Ss(e)?g(e[Qu])?e:($e(hp,e),null):null}function Hs(e){return Ss(e)?g(e[Qu])?e:($e(vp,e),null):null}function Js(e){return Ss(e)?e:null}function zs(e){return Ss(e)?g(e[Qu])?e:($e(_p,e),null):null}function Ws(e){var t=e.content;return D(t)?($e(bp,e),null):(e.content=ms(t,{}),e)}function $s(e){var t=e[$u];if(D(t))return null;switch(t){case sm:return Rs(e);case im:return Ls(e);case km:return Ts(e);case jm:return As(e);case xm:return Ds(e);case ym:return Ms(e);case Pm:return Ns(e);case hm:return qs(e);case lm:return Fs(e);case dm:return Us(e);case um:return Bs(e);case pm:return Gs(e);case fm:return Hs(e);case gm:return Js(e);case mm:return zs(e);case vm:return Ws(e);default:return null}}function Qs(e){var t=e[Qu];if(!lu(t))return null;if(T(t))return null;var a=y(Zv,U($s,t));if(T(a))return null;var r=nu.default({},e);return r.content=a,r}function Ks(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).options;return lu(e)?T(e)?[]:jv(U(Ov,e)):[]}function Ys(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.execute,a=void 0===t?{}:t,r=e.prefetch,n=void 0===r?{}:r,s=a.pageLoad,o=void 0===s?{}:s,i=a.mboxes,c=void 0===i?[]:i,l=n.mboxes,d=void 0===l?[]:l,u=n.views,m=void 0===u?[]:u,p=Ks(o),f=k(U(Ks,c)),g=k(U(Ks,d)),h=k(U(Ks,m));return k([p,f,g,h])}function Xs(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).execute,t=void 0===e?{}:e,a=t.pageLoad,r=void 0===a?{}:a,n=t.mboxes,s=void 0===n?[]:n,o=xv(r)||[],i=k(jv(U(xv,s))),c=k([o,i]),l=k(U(Iv,y(kv,c))),d=y(Cv,c),u=y(Cv,l),m=d.concat(u),p={};if(T(m))return p;var f=m[0].content;return D(f)||(p.url=f),p}function Zs(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).analytics;return T(e)?[]:[e]}function eo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.execute,a=void 0===t?{}:t,r=e.prefetch,n=void 0===r?{}:r,s=a.pageLoad,o=void 0===s?{}:s,i=a.mboxes,c=void 0===i?[]:i,l=n.mboxes,d=void 0===l?[]:l,u=n.views,m=void 0===u?[]:u,p=n.metrics,f=void 0===p?[]:p,g=Zs(o),h=k(U(Zs,c)),v=k(U(Zs,d)),_=k(U(Zs,m)),b=k(U(Zs,f));return k([g,h,v,_,b])}function to(e,t){e.parameters=t.parameters,e.profileParameters=t.profileParameters,e.order=t.order,e.product=t.product}function ao(e,t){var a=t[0],r=t[1],n=!T(a),s=!T(r);return n||s?(n&&(e.options=a),s&&(e.metrics=r),e):e}function ro(e){switch(e.type){case vm:return it(fs(e));case Mm:return Is(e);case Up:return it(Qs(e));default:return it(e)}}function no(e,t){if(!lu(e))return it([]);if(T(e))return it([]);var a=y(t,e);return T(a)?it([]):dt(U((function(e){return ro(e)}),a)).then(jv)}function so(e,t){return lu(e)?T(e)?it([]):it(y(t,e)):it([])}function oo(e){var t=e.response.execute;if(!g(t))return it(null);var a=t.pageLoad;if(!g(a))return it(null);var r=a.analytics,n=a.options,s=a.metrics,o=T(r)?{}:{analytics:r};return dt([no(n,es),so(s,rs)]).then((function(e){return ao(o,e)}))}function io(e){var t=e.name,a=e.analytics,r=e.options,n=e.metrics,s={name:t,analytics:a};return dt([no(r,es),so(n,as)]).then((function(e){return ao(s,e)}))}function co(e){var t=e.response.execute;if(!g(t))return it([]);var a=t.mboxes;return!lu(a)||T(a)?it([]):dt(U(io,y(Rv,a))).then(jv)}function lo(e,t,a){return e.index===t&&e.name===a}function uo(e,t,a){var r=e.prefetch,n=(void 0===r?{}:r).mboxes,s=void 0===n?[]:n;return T(s)?null:P(y((function(e){return lo(e,t,a)}),s))}function mo(e,t){var a=t.index,r=t.name,n=t.state,s=t.analytics,o=t.options,i=t.metrics,c=uo(e,a,r),l={name:r,state:n,analytics:s};return m(c)||to(l,c),dt([no(o,ts),so(i,as)]).then((function(e){return ao(l,e)}))}function po(e){var t=e.request,a=e.response.prefetch;if(!g(a))return it([]);var r=a.mboxes;return!lu(r)||T(r)?it([]):dt(U((function(e){return mo(t,e)}),y(Lv,r))).then(jv)}function fo(e){var t=e.prefetch,a=(void 0===t?{}:t).views,r=void 0===a?[]:a;return T(r)?null:r[0]}function go(e,t){var a=t.name,r=t.state,n=t.analytics,s=t.options,o=t.metrics,i=fo(e),c={name:a.toLowerCase(),state:r,analytics:n};return m(i)||to(c,i),dt([no(s,ts),so(o,rs)]).then((function(e){return ao(c,e)}))}function ho(e){var t=e.request,a=e.response.prefetch;if(!g(a))return it([]);var r=a.views;return!lu(r)||T(r)?it([]):dt(U((function(e){return go(t,e)}),y(Tv,r))).then(jv)}function vo(e){var t=e.response.prefetch;return g(t)?so(t.metrics,rs):it([])}function _o(e){var t=e.response,a=t.remoteMboxes,r=t.remoteViews,n=t.decisioningMethod,s={};return g(a)&&(s.remoteMboxes=a),g(r)&&(s.remoteViews=r),x(n)&&(s.decisioningMethod=n),it(s)}function bo(e){return m(e)||D(e.id)?it(null):it({id:e.id})}function yo(e){var t=e.response.notifications;return lu(t)?dt(U(bo,t)).then(jv):it([])}function Po(e){var t=e[0],a=e[1],r=e[2],n=e[3],s=e[4],o=e[5],i=e[6],c={},l={};g(t)&&(l.pageLoad=t),T(a)||(l.mboxes=a);var d={};return T(r)||(d.mboxes=r),T(n)||(d.views=n),T(s)||(d.metrics=s),T(l)||(c.execute=l),T(d)||(c.prefetch=d),T(o)||(c.meta=o),T(i)||(c.notifications=i),c}function ko(e){var t=C([cs,ss,os])(e);return dt([oo(t),co(t),po(t),ho(t),vo(t),_o(t),yo(t)]).then(Po)}function Co(e){return!T(Xs(e))}function jo(e){var t=Ys(e),a={};return T(t)||(a.responseTokens=t),a}function wo(e){var t=e[Ig],a=e[Vg],r={};return T(t)||(r.sandboxId=t),T(a)||(r.sandboxName=a),r}function xo(e){var t=jo(e),a=eo(e);return T(a)||(t.analyticsDetails=a),$e(dp,e),At(t,Co(e)),it(e)}function Io(e,t){var a=jo(t);a.mbox=e;var r=eo(t);return T(r)||(a.analyticsDetails=r),$e(dp,t),At(a,Co(t)),it(t)}function Vo(e){return We(lp,e),Dt({error:e}),ct(e)}function Oo(e,t){return We(lp,t),Dt({mbox:e,error:t}),ct(t)}function Eo(e,t){var a=e[rf],r=t.mbox,n={},s={},o={};r===a?s.pageLoad={}:s.mboxes=[{index:0,name:r}],n.execute=s;var i=Jn(r,n);T(i)||(o.analytics=i);var c=wo(e);return T(c)||(o.platform=c),T(o)||(n.experienceCloud=o),n}function So(e){var t=be(),a=e.mbox,r=e.timeout,n=g(e.params)?e.params:{},s=function(e){return Io(a,e)},o=function(e){return Oo(a,e)},i=Eo(t,e);return Tt({mbox:a}),$n(i,n).then((function(e){return Kn(e,r)})).then(ko).then(s).catch(o)}function Ro(e,t){var a=e[rf],r=t.consumerId,n=void 0===r?a:r,s=t.request,o=t.page,i=void 0===o||o,c=Jn(n,s);s.impressionId=s.impressionId||Yn(i);var l=s.experienceCloud||{};T(c)||(l.analytics=c);var d=wo(e);return T(d)||(l.platform=d),T(l)||(s.experienceCloud=l),s}function Lo(e){var t=be(),a=e.timeout,r=function(e){return xo(e)},n=function(e){return Vo(e)},s=Ro(t,e);return Tt({}),$n(s,{}).then((function(e){return Kn(e,a)})).then(ko).then(r).catch(n)}function To(e,t){return zt(t).addClass(e)}function Ao(e,t){return zt(t).css(e)}function Do(e,t){return zt(t).attr(e)}function Mo(e,t,a){return zt(a).attr(e,t)}function No(e,t){return zt(t).removeAttr(e)}function qo(e,t,a){var r=Do(e,a);ju(r)&&(No(e,a),Mo(t,r,a))}function Fo(e,t){return ju(Do(e,t))}function Uo(e){return new Error("Could not find: "+e)}function Bo(e,t,a){return ot((function(r,n){var s=at((function(){var t=a(e);T(t)||(s.disconnect(),r(t))}));z((function(){s.disconnect(),n(Uo(e))}),t),s.observe(Og,{childList:!0,subtree:!0})}))}function Go(){return Og[e_]===t_}function Ho(e,t,a){return ot((function(r,n){function s(){var t=a(e);T(t)?Eg.requestAnimationFrame(s):r(t)}s(),z((function(){n(Uo(e))}),t)}))}function Jo(e,t,a){return ot((function(r,n){function s(){var t=a(e);T(t)?z(s,a_):r(t)}s(),z((function(){n(Uo(e))}),t)}))}function zo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:be()[mf],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zt,r=a(e);return T(r)?tt()?Bo(e,t,a):Go()?Ho(e,t,a):Jo(e,t,a):it(r)}function Wo(e){return Do(Tm,e)}function $o(e){return Fo(Tm,e)}function Qo(e){return j((function(e){return qo(qm,Tm,e)}),L(ea(Wm,e))),e}function Ko(e){return j((function(e){return qo(Tm,qm,e)}),L(ea(Wm,e))),e}function Yo(e){return $e(Cp,e),Do(qm,Mo(qm,e,Qt("<"+Wm+"/>")))}function Xo(e){var t=y($o,L(ea(Wm,e)));return T(t)||j(Yo,U(Wo,t)),e}function Zo(e){return C([Qo,Xo,Ko])(e)}function ei(e){var t=Do(qm,e);return ju(t)?t:null}function ti(e){return y(ju,U(ei,L(ea(Nm,e))))}function ai(e){return G((function(e,t){return e.then((function(){return $e(Vp,t),et({remoteScript:t}),cu.default(t)}))}),it(),e)}function ri(e){return e}function ni(e,t){return We(cp,t),et({action:e,error:t}),e}function si(e,t){var a,r=zt(t[rm]),n=Zo($t(t[Qu])),s=ti(n);try{a=it(e(r,n))}catch(e){return ct(ni(t,e))}return T(s)?a.then((function(){return ri(t)})).catch((function(e){return ni(t,e)})):a.then((function(){return ai(s)})).then((function(){return ri(t)})).catch((function(e){return ni(t,e)}))}function oi(e){var t=$t(e);return F("",G((function(e,t){return e.push(ja($t(t))),e}),[],L(ea(r_,t))))}function ii(e){var t=nu.default({},e),a=t[Qu];if(D(a))return t;var r=zt(t[rm]);return Zt(Gm,r)?(t[$u]=km,t[Qu]=oi(a),t):t}function ci(e){return e.indexOf("px")===e.length-2?e:e+"px"}function li(e,t){return Ca(ja(t),e)}function di(e){return $e(mp,e),si(li,e)}function ui(e){var t=zt(e[rm]),a=e[Qu];return $e(mp,e),et({action:e}),wa(a,t),it(e)}function mi(e,t){return Pa(ja(t),e)}function pi(e){return $e(mp,e),si(mi,e)}function fi(e,t){return ka(ja(t),e)}function gi(e){return $e(mp,e),si(fi,e)}function hi(e,t){var a=Xt(e);return _a(ya(ja(t),e)),a}function vi(e){return $e(mp,e),si(hi,e)}function _i(e,t){return Kt(ya(ja(t),e))}function bi(e){return $e(mp,e),si(_i,e)}function yi(e,t){return Yt(ba(ja(t),e))}function Pi(e){return $e(mp,e),si(yi,e)}function ki(e,t){return Xt(ya(ja(t),e))}function Ci(e){return $e(mp,e),si(ki,e)}function ji(e){var t=e[Qu],a=zt(e[rm]);return $e(mp,e),et({action:e}),No(qm,a),Mo(qm,Yo(t),a),it(e)}function wi(e){var t=e[Qu],a=zt(e[rm]);return $e(mp,e),et({action:e}),j((function(e,t){return Mo(t,e,a)}),t),it(e)}function xi(e,t,a){j((function(e){j((function(t,r){return e.style.setProperty(r,t,a)}),t)}),L(e))}function Ii(e){var t=zt(e[rm]),a=e[Qu],r=a[am];return $e(mp,e),et({action:e}),D(r)?Ao(a,t):xi(t,a,r),it(e)}function Vi(e){var t=zt(e[rm]),a=e[Qu];return a[Yu]=ci(a[Yu]),a[Ku]=ci(a[Ku]),$e(mp,e),et({action:e}),Ao(a,t),it(e)}function Oi(e){var t=zt(e[rm]),a=e[Qu];return a[Xu]=ci(a[Xu]),a[Zu]=ci(a[Zu]),$e(mp,e),et({action:e}),Ao(a,t),it(e)}function Ei(e){var t=zt(e[rm]);return $e(mp,e),et({action:e}),_a(t),it(e)}function Si(e){var t=zt(e[rm]),a=e[Qu],r=Number(a[em]),n=Number(a[tm]);if(isNaN(r)&&isNaN(n))return $e(kp,e),ct(e);var s=L(ta(t)),o=s[r],i=s[n];return Wt(o)&&Wt(i)?($e(mp,e),et({action:e}),r<n?ba(o,i):ya(o,i),it(e)):($e(Pp,e),ct(e))}function Ri(e){var t=ii(e);switch(t[$u]){case sm:return di(t);case im:return ui(t);case km:return pi(t);case jm:return gi(t);case xm:return vi(t);case ym:return bi(t);case Pm:return Pi(t);case hm:return Ci(t);case lm:return wi(t);case dm:return ji(t);case um:return Ii(t);case pm:return Vi(t);case fm:return Oi(t);case gm:return Ei(t);case mm:return Si(t);default:return it(t)}}function Li(e){return e[$u]===_m||e[$u]===bm}function Ti(e){var t=e[rm];return ju(t)||Bt(t)}function Ai(e){var t=e.key;if(!D(t)&&Ti(e)){var a=e[rm];Mo(n_,t,a)}}function Di(e){var t=e[nm];D(t)||Ma(t)}function Mi(e){if(Ti(e)){var t=e[rm];Li(e)?To(Kp,t):(To(Qp,t),Di(e))}else Di(e)}function Ni(e){j(Mi,e)}function qi(e){var t=e.key;if(D(t))return!0;if(e[$u]===hm)return e[Gf];var a=e[rm],r=Do(n_,a);return r!==t||r===t&&!e[Gf]}function Fi(e){return qi(e)?Ri(e).then((function(){return $e(up,e),et({action:e}),Ai(e),Mi(e),e})).catch((function(t){We(cp,t),et({action:e,error:t}),Mi(e);var a=nu.default({},e);return a[Op]=!0,a})):(Mi(e),e)}function Ui(e){var t=y((function(e){return!0===e[Op]}),e);return T(t)?it():(Ni(t),ct(e))}function Bi(e){return zo(e[rm]).then((function(){return e})).catch((function(){var t=nu.default({},e);return t[Op]=!0,t}))}function Gi(e){return Bi(e).then(Fi)}function Hi(e){return dt(U(Gi,e)).then(Ui)}function Ji(e,t,a){return zt(a).on(e,t)}function zi(e,t,a){return zt(a).off(e,t)}function Wi(e){return zo(e[rm]).then((function(){return et({metric:e}),nu.default({found:!0},e)})).catch((function(){return We(s_,e),et({metric:e,message:s_}),e}))}function $i(e){var t=e.name,a=cr(Jf)||{};a[t]=e,ir(Jf,a)}function Qi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.page,r=void 0===a||a,n=(cr(Jf)||{})[e];if(m(n))return n;var s=t.impressionId;return m(s)?n:nu.default({page:r,impressionId:s},n)}function Ki(e){j($i,e)}function Yi(e,t,a){return e[o_][i_](t,a)}function Xi(e,t,a){var r={};r[Yf]=[Xf];var n={};n[Hv]=Gv,n[Jv]=t,n[Wv]=a,n[$v]=!0,n[Kv]=!1,n[zv]=r;try{e(n)}catch(e){return!1}return!0}function Zi(e){return o_ in e&&i_ in e[o_]}function ec(e,t){return Zi(Eg)?Yi(Eg,e,t):Xi(Cs,e,t)}function tc(e){var t=Jn(e,{}),a={context:{beacon:!0}};if(!T(t)){var r={};r.analytics=t,a.experienceCloud=r}return a}function ac(e,t,a){var r=Qn(tc(e),t);return r.notifications=a,r}function rc(e,t,a){return $n(tc(e),t).then((function(e){return e.notifications=a,e}))}function nc(e,t,a){var r={id:ue(),type:t,timestamp:B(),parameters:e.parameters,profileParameters:e.profileParameters,order:e.order,product:e.product};return T(a)||(r.tokens=a),r}function sc(e,t,a){var r=e.name,n=e.state,s=nc(e,t,a);return s.mbox={name:r,state:n},s}function oc(e,t,a){var r=e.name,n=e.state,s=nc(e,t,a);return s.view={name:r,state:n},s}function ic(e){return new Promise((function(t,a){var r=vn(be());if(ec(r,JSON.stringify(e)))return $e(c_,r,e),void t();We(l_,r,e),a()}))}function cc(e,t,a){var r=Rr(be()[rf]),n=nc(Fn({},r),t,[a]),s=ac(ue(),r,[n]);$e(p_,e,n),et({source:e,event:t,request:s}),ic(s)}function lc(e,t,a){var r=Rr(e),n=nc(Fn({},r),t,[a]);n.mbox={name:e};var s=ac(ue(),r,[n]);$e(f_,e,n),et({mbox:e,event:t,request:s}),ic(s)}function dc(e){var t=be()[rf],a=[],r=Kf;if(j((function(e){var t=e.mbox,n=e.data;if(!m(n)){var s=n.eventTokens,o=void 0===s?[]:s;T(o)||a.push(sc(t,r,o))}}),e),!T(a)){var n=ac(t,{},a);$e(m_,a),et({source:h_,event:v_,request:n}),ic(n)}}function uc(e,t,a){var r=Rr(be()[rf]),n=nc(Fn({},r),t,[a]);n.view={name:e};var s=ac(ue(),r,[n]);$e(g_,e,n),et({view:e,event:t,request:s}),ic(s)}function mc(e){var t=e.viewName,a=e.impressionId,r=Rr(be()[rf]),n=nc(Fn({},r),Kf,[]);n.view={name:t},$e(d_,t),rc(t,r,[n]).then((function(e){e.impressionId=a,et({view:t,event:__,request:e}),ic(e)}))}function pc(e){if(!m(e)){var t=e.view,a=e.data,r=(void 0===a?{}:a).eventTokens,n=void 0===r?[]:r,s=t.name,o=t.impressionId,i=Qi(s);if(!m(i)){var c=ac(s,{},[oc(i,Kf,n)]);c.impressionId=o,$e(u_,s,n),et({view:s,event:v_,request:c}),ic(c)}}}function fc(e,t){e===Bm&&To(Kp,t)}function gc(e,t){return!m(b_[e])&&!m(b_[e][t])}function hc(e,t,a){if(m(b_[e])){var r=b(b_);T(r)||j((function(e){j((function(r){var n=b_[e][r];zi(t,n,a)}),b(b_[e])),delete b_[e]}),r)}}function vc(e,t,a){b_[e]=b_[e]||{},b_[e][t]=a}function _c(e,t,a,r){var n=a.type,s=a.selector,o=a.eventToken,i=I(n+":"+s+":"+o),c=function(){return r(e,n,o)};fc(n,s),t?gc(e,i)||(hc(e,n,s),vc(e,i,c),Ji(n,c,s)):Ji(n,c,s)}function bc(e,t,a,r){return Wi(a).then((function(a){a.found&&_c(e,t,a,r)}))}function yc(e,t,a,r){return dt(U((function(a){return bc(e,t,a,r)}),a)).then(C_).catch(j_)}function Pc(e){return yc(e.name,!1,k_(e),lc)}function kc(e){return yc(e.name,!0,k_(e),uc)}function Cc(e){return yc(y_,!1,k_(e),cc)}function jc(e){return yc(P_,!1,k_(e),cc)}function wc(e){var t=U(x_,e);Aa(wv(t))}function xc(e){var t=U(x_,e);Da(jv(t))}function Ic(e){var t=y(kv,xv(e));return k(U(w_,t))}function Vc(e){return g(e)&&e.type!==cm}function Oc(e,t,a){return U((function(e){return nu.default({key:t,page:a},e)}),y(Vc,e))}function Ec(e,t,a){var r=e.eventToken,n=e.responseTokens;return Hi(Oc(e.content,t,a)).then((function(){return I_({eventToken:r,responseTokens:n})})).catch((function(e){return V_(e,{eventToken:r,responseTokens:n})}))}function Sc(e){return g(e)&&e.type!==Am}function Rc(e,t){return U(e,y(Sc,xv(t)))}function Lc(e,t,a){var r=s({status:Lp},e,t),n=U(Dv,y(Pv,a)),o={};return T(n)||(r.status=Op,o.errors=n),T(o)||(r.data=o),r}function Tc(e,t,a){var r=s({status:Lp},e,t),n=U(Dv,y(Pv,a)),o=U(Dv,y(O_,a)),i=jv(U(Vv,o)),c=jv(U(Ov,o)),l={};return T(n)||(r.status=Op,l.errors=n),T(i)||(l.eventTokens=i),T(c)||(l.responseTokens=c),T(l)||(r.data=l),r}function Ac(e,t,a){return dt(Rc((function(e){return Ec(e,!0)}),e)).then(t).then((function(t){return a(e),t}))}function Dc(e,t,a,r){var n=t.name;return dt(Rc((function(e){return Ec(e,n,a)}),t)).then((function(a){return Tc(e,t,a)})).then((function(e){return r(t),e}))}function Mc(e){return Ac(e,(function(t){return Lc(Dp,e,t)}),Pc)}function Nc(e){return Dc(Dp,e,!0,Pc)}function qc(e){wc(Ic(e))}function Fc(e){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])){var t=e.execute,a=(void 0===t?{}:t).pageLoad,r=void 0===a?{}:a;T(r)||qc(r)}}function Uc(e){var t=e.prefetch,a=(void 0===t?{}:t).views,r=void 0===a?[]:a;T(r)||xc(k(U(Ic,r)))}function Bc(e){wc(Ic(e)),Na()}function Gc(e){return Ac(e,(function(t){return Lc(Wp,e,t)}),Cc)}function Hc(e){return dt(U(Mc,e))}function Jc(e){return dt(U(Nc,e))}function zc(e){return dt([jc(e)]).then(Lc)}function Wc(e){var t=e.page;return Dc(Hf,e,t,kc)}function $c(){}function Qc(){return new S_}function Kc(e,t,a){e.emit(t,a)}function Yc(e,t,a){e.on(t,a)}function Xc(e,t){Kc(R_,e,t)}function Zc(e,t){Yc(R_,e,t)}function el(e){return{type:vm,content:e.url}}function tl(e){var t={};return t.type=sm,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function al(e){var t={};return t.type=im,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function rl(e){var t={};return t.type=km,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function nl(e){var t={};return t.type=jm,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function sl(e){var t={};return t.type=xm,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function ol(e){var t={};return t.type=ym,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function il(e){var t={};return t.type=Pm,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function cl(e){var t={};return t.type=hm,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function ll(e){var t={};if(t.selector=e.selector,t.cssSelector=e.cssSelector,e.attribute===qm)return t.type=dm,t.content=e.value,t;t.type=lm;var a={};return a[e.attribute]=e.value,t.content=a,t}function dl(e){var t=e.style,a=void 0===t?{}:t,r={};return r.selector=e.selector,r.cssSelector=e.cssSelector,m(a.left)||m(a.top)?m(a.width)||m(a.height)?(r.type=um,r.content=a,r):(r.type=pm,r.content=a,r):(r.type=fm,r.content=a,r)}function ul(e){var t={};return t.type=gm,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function ml(e){var t={};t.from=e.from,t.to=e.to;var a={};return a.type=mm,a.selector=e.selector,a.cssSelector=e.cssSelector,a.content=t,a}function pl(e){return ju(e.selector)&&ju(e.cssSelector)}function fl(e){var t={};if(T(e))return t;var a=[],r=[],n=[];j((function(e){switch(e.action){case om:pl(e)?n.push(tl(e)):a.push({type:Dm,content:e.content});break;case cm:T(e.content)||j((function(e){return a.push({type:Am,content:e})}),e.content);break;case im:n.push(al(e));break;case Cm:n.push(rl(e));break;case wm:n.push(nl(e));break;case Im:n.push(sl(e));break;case ym:n.push(ol(e));break;case Pm:n.push(il(e));break;case hm:n.push(cl(e));break;case lm:n.push(ll(e));break;case um:n.push(dl(e));break;case gm:n.push(ul(e));break;case mm:n.push(ml(e));break;case vm:a.push(el(e));break;case _m:r.push({type:Bm,selector:e.selector,eventToken:e.clickTrackId})}}),e);var s={};if(!T(n)&&a.push({type:Up,content:n}),!T(a)&&(s.options=a),!T(r)&&(s.metrics=r),T(s))return t;var o={};return o.pageLoad=s,t.execute=o,t}function gl(e,t){var a={};if(T(t))return a;var r=[],n=[];j((function(e){switch(e.action){case om:r.push({type:Dm,content:e.content});break;case cm:T(e.content)||j((function(e){return r.push({type:Am,content:e})}),e.content);break;case vm:r.push(el(e));break;case bm:n.push({type:Bm,eventToken:e.clickTrackId})}}),t);var s={name:e};if(!T(r)&&(s.options=r),!T(n)&&(s.metrics=n),T(s))return a;var o={},i=[s];return o.mboxes=i,a.execute=o,a}function hl(e,t,a){return a?fl(t):gl(e,t)}function vl(e){var t=e.status,a=e.data,r={status:t,pageLoad:!0};return m(a)||(r.data=a),r}function _l(e){var t=e.status,a=e.mbox,r=e.data,n={status:t,mbox:a.name};return m(r)||(n.data=r),n}function bl(e){var t=e.status,a=e.view,r=e.data,n={status:t,view:a.name};return m(r)||(n.data=r),n}function yl(e){var t=e.status,a=e.data,r={status:t,prefetchMetrics:!0};return m(a)||(r.data=a),r}function Pl(e){if(m(e))return[null];var t=U(vl,[e]);return M_(t)&&We(L_,e),t}function kl(e){if(m(e))return[null];var t=U(_l,e);return M_(t)&&We(T_,e),t}function Cl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dc;if(m(e))return[null];var a=U(_l,e);return M_(a)&&We(T_,e),t(e),a}function jl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pc;if(m(e))return[null];var a=U(bl,[e]);return M_(a)&&We(A_,e),e.view.page?(t(e),a):a}function wl(e){if(m(e))return[null];var t=U(yl,[e]);return M_(t)&&We(D_,e),t}function xl(e){var t=k([Pl(e[0]),kl(e[1]),Cl(e[2]),wl(e[3])]),a=y(_v,t),r=y(Pv,a);return T(r)?it(a):ct(r)}function Il(e){return ct(e)}function Vl(e,t){if(!T(t)){var a=t.options;T(a)||j((function(t){if(t.type===Dm){var a=sm,r=t.content;t.type=Up,t.content=[{type:a,selector:e,content:r}]}}),a)}}function Ol(e,t){var a=t.metrics;if(!T(a)){var r=t.name;j((function(t){t.name=r,t.selector=t.selector||e}),a)}}function El(e,t){var a=nu.default({},t),r=a.execute,n=void 0===r?{}:r,s=a.prefetch,o=void 0===s?{}:s,i=n.pageLoad,c=void 0===i?{}:i,l=n.mboxes,d=void 0===l?[]:l,u=o.mboxes,m=void 0===u?[]:u;return Vl(e,c),j((function(t){return Vl(e,t)}),d),j((function(t){return Ol(e,t)}),d),j((function(t){return Vl(e,t)}),m),j((function(t){return Ol(e,t)}),m),a}function Sl(e){var t=e.prefetch,a=(void 0===t?{}:t).views,r=void 0===a?[]:a;T(r)||Ki(r)}function Rl(e){var t=[],a=e.execute,r=void 0===a?{}:a,n=r.pageLoad,s=void 0===n?{}:n,o=r.mboxes,i=void 0===o?[]:o;T(s)?t.push(it(null)):t.push(Gc(s)),T(i)?t.push(it(null)):t.push(Hc(i));var c=e.prefetch,l=void 0===c?{}:c,d=l.mboxes,u=void 0===d?[]:d,m=l.metrics,p=void 0===m?[]:m;return T(u)?t.push(it(null)):t.push(Jc(u)),lu(p)&&!T(p)?t.push(zc(l)):t.push(it(null)),Ta(),dt(t).then(xl).catch(Il)}function Ll(e,t){z((function(){return e.location.replace(t)}))}function Tl(e){return ju(e)||Bt(e)?e:Gm}function Al(e){To(Qp,e)}function Dl(e){var t=e.mbox,a=e.selector,r=e.offer,n=be(),s=t===n[rf];if(T(r))return $e(xp),Al(a),Ta(),void Ft({mbox:t});var o=El(a,hl(t,r,s)),i=Xs(o);if(!T(i)){var c=i.url;return $e(Ip,i),Ut({url:c}),void Ll(Eg,c)}Mt({mbox:t}),Fc(o),Rl(o).then((function(e){T(e)||Nt({mbox:t,execution:e})})).catch((function(e){return qt({error:e})}))}function Ml(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.prefetch,a=void 0===t?{}:t,r=e.execute,n=void 0===r?{}:r,s=n.pageLoad,o=void 0===s?{}:s,i=n.mboxes,c=void 0===i?[]:i,l=a.pageLoad,d=void 0===l?{}:l,u=a.views,m=void 0===u?[]:u,p=a.mboxes,f=void 0===p?[]:p;return T(o)&&T(c)&&T(d)&&T(m)&&T(f)}function Nl(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.selector,r=e.response;if(Ml(r))return $e(xp),Al(a),Ta(),Ft({}),Xc(bg),it();var n=El(a,r),s=Xs(n);if(!T(s)){var o=s.url;return $e(Ip,s),Ut({url:o}),Xc(yg),Ll(Eg,o),it()}return Mt({}),Sl(n),Xc(_g),Fc(n,t),Rl(n).then((function(e){T(e)||Nt({execution:e})})).catch((function(e){return qt({error:e})}))}function ql(e){var t=e[gg];if(T(t))return!1;var a=t.request,r=t.response;return!T(a)&&!T(r)}function Fl(e){return e[gg]}function Ul(e){window.__target_telemetry.addServerStateEntry(e)}function Bl(e){We(N_,eg,e),Xc(bg),et({source:N_,error:e}),Ta()}function Gl(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={selector:Gm,response:e};$e(N_,Hp,e),et({source:N_,response:e}),Nl(a,t).catch(Bl)}function Hl(e,t){var a=nu.default({},t),r=a.execute,n=a.prefetch,s=e[Nf],o=e[Mf];return r&&(a.execute.mboxes=void 0),r&&!s&&(a.execute.pageLoad=void 0),n&&(a.prefetch.mboxes=void 0),n&&!o&&(a.prefetch.views=void 0),a}function Jl(e){var t=Fl(e),a=t.request,r=t.response,n=!0;$e(N_,ng),et({source:N_,serverState:t});var s=Hl(e,r);Fc(s),Uc(s),Ul(a),ko({request:a,response:s}).then((function(e){return Gl(e,n)})).catch(Bl)}function zl(){if(!Ue())return We(N_,Qm),void et({source:N_,error:Qm});var e=be();if(ql(e))Jl(e);else{var t=e[Nf],a=e[Mf];if(!t&&!a)return $e(N_,rg),void et({source:N_,error:rg});La();var r={};if(t){var n={pageLoad:{}};r.execute=n}if(a){var s={views:[{}]};r.prefetch=s}var o=e[af];$e(N_,Jp,r),et({source:N_,request:r});var i={request:r,timeout:o};ht()&&!vt()?bt().then((function(){Lo(i).then(Gl).catch(Bl)})).catch(Bl):Lo(i).then(Gl).catch(Bl)}}function Wl(){var e={};return e[Rp]=!0,e}function $l(e){var t={};return t[Rp]=!1,t[Op]=e,t}function Ql(e){return D(e)?$l(rp):e.length>Lm?$l(np):Wl()}function Kl(e){if(!g(e))return $l(Ym);var t=Ql(e[Dp]);return t[Rp]?h(e[Lp])?h(e[Op])?Wl():$l(op):$l(sp):t}function Yl(e){if(!g(e))return $l(Ym);var t=e.request;if(!g(t))return $l(Xm);var a=t.execute,r=t.prefetch;return g(a)||g(r)?Wl():$l(ep)}function Xl(e){if(!g(e))return $l(Ym);var t=e.request;if(!g(t))return $l(Xm);var a=t.execute,r=t.prefetch,n=t.notifications;return g(a)||g(r)?$l(tp):lu(n)?Wl():$l(ap)}function Zl(e){if(!g(e))return $l(Ym);var t=Ql(e[Dp]);if(!t[Rp])return t;var a=e[Mp];return lu(a)?Wl():$l(ip)}function ed(e){return g(e)?g(e.response)?Wl():$l(Zm):$l(Ym)}function td(e){if(!g(e))return $l(Ym);var t=Ql(e[Dp]);return t[Rp]?Wl():t}function ad(e){return{action:vm,url:e.content}}function rd(e){var t={};return t.action=om,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function nd(e){var t={};return t.action=im,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function sd(e){var t={};return t.action=Cm,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function od(e){var t={};return t.action=wm,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function id(e){var t={};return t.action=Im,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function cd(e){var t={};return t.action=ym,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function ld(e){var t={};return t.action=Pm,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function dd(e){var t={};return t.action=hm,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function ud(e){var t=b(e.content)[0],a={};return a.action=lm,a.attribute=t,a.value=e.content[t],a.selector=e.selector,a.cssSelector=e.cssSelector,a}function md(e){var t={};return t.action=lm,t.attribute=qm,t.value=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function pd(e){var t={};return t.action=um,t.style=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function fd(e){var t={};return t.action=um,t.style=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function gd(e){var t={};return t.action=um,t.style=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function hd(e){var t={};return t.action=gm,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function vd(e){var t={};return t.action=mm,t.from=e.content.from,t.to=e.content.to,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function _d(e){var t=[];return j((function(e){switch(e.type){case sm:t.push(rd(e));break;case im:t.push(nd(e));break;case km:t.push(sd(e));break;case jm:t.push(od(e));break;case xm:t.push(id(e));break;case ym:t.push(cd(e));break;case Pm:t.push(ld(e));break;case hm:t.push(dd(e));break;case lm:t.push(ud(e));break;case dm:t.push(md(e));break;case um:t.push(pd(e));break;case pm:t.push(fd(e));break;case fm:t.push(gd(e));break;case gm:t.push(hd(e));break;case mm:t.push(vd(e));break;case vm:t.push(ad(e))}}),e),t}function bd(e){if(T(e))return[];var t=[];return j((function(e){e.type===Bm&&(Av(e)?t.push({action:_m,selector:e.selector,clickTrackId:e.eventToken}):t.push({action:bm,clickTrackId:e.eventToken}))}),e),t}function yd(e){if(T(e))return[];var t=[],a=[],r=[],n=e.options,s=void 0===n?[]:n,o=e.metrics,i=void 0===o?[]:o;j((function(e){switch(e.type){case Dm:t.push(e.content);break;case Am:a.push(e.content);break;case vm:r.push(ad(e));break;case Up:r.push.apply(r,_d(e.content))}}),s),T(t)||r.push({action:om,content:t.join("")}),T(a)||r.push({action:cm,content:a});var c=bd(i);return T(c)||r.push.apply(r,c),r}function Pd(e){var t=e.execute,a=void 0===t?{}:t,r=a.pageLoad,n=void 0===r?{}:r,s=a.mboxes,o=void 0===s?[]:s,i=[];return i.push.apply(i,yd(n)),i.push.apply(i,k(U(yd,o))),i}function kd(e,t){var a=Pd(t);e[Lp](a)}function Cd(e,t){var a=t[qp]||Sp;e[Op](a,t)}function jd(e){var t=Kl(e),a=t[Op];if(!t[Rp])return We(q_,a),void et({source:q_,options:e,error:a});if(!Ue())return z(e[Op](Ep,Qm)),We(q_,Qm),void et({source:q_,options:e,error:Qm});var r=function(t){return kd(e,t)},n=function(t){return Cd(e,t)};$e(q_,e),et({source:q_,options:e}),ht()&&!vt()?bt().then((function(){So(e).then(r).catch(n)})):So(e).then(r).catch(n)}function wd(e){var t=Yl(e),a=t[Op];return t[Rp]?Ue()?($e(F_,e),et({source:F_,options:e}),!ht()||vt()?Lo(e):bt().then((function(){return Lo(e)}))):(We(F_,Qm),et({source:F_,options:e,error:Qm}),ct(new Error(Qm))):(We(F_,a),et({source:F_,options:e,error:a}),ct(t))}function xd(e){var t=Tl(e.selector),a=I(t);Gu.timeStart(a);var r=Zl(e),n=r[Op]
;if(!r[Rp])return We(U_,e,n),et({source:U_,options:e,error:n}),void Al(t);if(!Ue())return We(U_,Qm),et({source:U_,options:e,error:Qm}),void Al(t);e.selector=t,$e(U_,e),et({source:U_,options:e}),Dl(e);var s=Gu.timeEnd(a);Gu.clearTiming(a),window.__target_telemetry.addRenderEntry(a,s)}function Id(e){var t=Tl(e.selector),a=I(t);Gu.timeStart(a);var r=ed(e),n=r[Op];return r[Rp]?Ue()?(e.selector=t,$e(B_,e),et({source:B_,options:e}),Nl(e).then((function(){var e=Gu.timeEnd(a);Gu.clearTiming(a),window.__target_telemetry.addRenderEntry(a,e)}))):(We(B_,Qm),et({source:B_,options:e,error:Qm}),Al(t),ct(new Error(Qm))):(We(B_,e,n),et({source:B_,options:e,error:n}),Al(t),ct(r))}function Vd(e){var t=be()[rf],a=e.consumerId,r=void 0===a?t:a,n=e.request,s=Xl(e),o=s[Op];if(!s[Rp])return We(G_,o),void et({source:G_,options:e,error:o});if(!Ue())return We(G_,Qm),void et({source:G_,options:e,error:Qm});$e(G_,e),et({source:G_,options:e});var i=ac(r,{},n.notifications);!ht()||vt()?ic(i):We(G_,pg)}function Od(e,t){var a=t[Dp],r=nu.default({},t),n=g(t.params)?t.params:{};return r[Fp]=nu.default({},Rr(a),n),r[af]=gn(e,t[af]),r[Lp]=h(t[Lp])?t[Lp]:qu,r[Op]=h(t[Op])?t[Op]:qu,r}function Ed(e){var t=e[$u],a=e[rm];return ju(t)&&(ju(a)||Bt(a))}function Sd(e){var t=e.mbox,a=e.type,r=void 0===a?Kf:a,n=g(e.params)?e.params:{},s=nu.default({},Rr(t),n),o=nc(Fn({},s),r,[]);o.mbox={name:t},ic(ac(t,s,[o])).then((function(){$e(jp,e),e[Lp]()})).catch((function(){We(wp,e),e[Op](Sp,wp)}))}function Rd(e){if(ht()&&!vt())return We(wp,pg),void e[Op](Op,pg);Sd(e)}function Ld(e){return Rd(e),!e.preventDefault}function Td(e){var t=e[rm],a=e[$u],r=L(zt(t)),n=function(){return Ld(e)};j((function(e){return Ji(a,n,e)}),r)}function Ad(e){var t=td(e),a=t[Op];if(!t[Rp])return We(H_,a),void et({source:H_,options:e,error:a});var r=Od(be(),e);if(!Ue())return We(H_,Qm),z(r[Op](Ep,Qm)),void et({source:H_,options:e,error:Qm});$e(H_,r),et({source:H_,options:r}),Ed(r)?Td(r):Rd(r)}function Dd(e){return Bc(e),Wc(e).then(jl).then((function(e){T(e)||Nt({execution:e})})).catch((function(e){We(Zf,e),qt({error:e})}))}function Md(){for(;z_.length>0;){var e=z_.pop(),t=e.viewName,a=e.page,r=Qi(t,e);m(r)?a&&mc(e):Dd(r)}}function Nd(){Q_=$_,Md()}function qd(){Zc(_g,Nd),Zc(bg,Nd),Zc(yg,Nd)}function Fd(e,t){var a={};return a.viewName=e,a.impressionId=ue(),a.page=!0,T(t)||(a.page=!!t.page),a}function Ud(e){z_.push(e),Q_!==W_&&Md()}function Bd(e,t){if(be()[Mf]){if(!x(e)||D(e))return We(J_,tg,e),void et({source:J_,view:e,error:tg});var a=e.toLowerCase(),r=Fd(a,t);$e(J_,a,r),Ge()?ra(r):(et({source:J_,view:a,options:r}),Ud(r))}else We(J_,ag)}function Gd(){We(Y_,arguments)}function Hd(){We(X_,arguments)}function Jd(){We(Z_,arguments)}function zd(){We(eb,arguments)}function Wd(){try{var e=window.localStorage,t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(e){return!1}}function $d(){Object.keys(localStorage).filter(ab).forEach((function(e){return localStorage.removeItem(e)}))}function Qd(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(e){$d()}}function Kd(){function e(e){return sb+":"+e}function t(e){var t=localStorage.getItem(e),a=parseInt(t,nb);return Number.isNaN(a)&&(a=rb),a}function a(e,t){localStorage.setItem(e,t)}function r(){var e=t(ib)+1;return a(ib,e),e}function n(t,a){Qd(e(t),a)}function s(t){var a=e(t),r=localStorage.getItem(a);return localStorage.removeItem(a),r}function o(){for(var e=[],r=t(ob)||rb,n=t(ib)||rb,o=n;o>r;o-=1){var i=s(o);i&&e.push(JSON.parse(i))}return a(ob,n),e}function i(e){n(r(),e)}function c(){return o()}function l(){var a=e(t(ib));return!!localStorage.getItem(a)}return{addEntry:i,getAndClearEntries:c,hasEntries:l}}function Yd(e){e.adobe=e.adobe||{},e.adobe.target={VERSION:"",event:{},getOffer:qu,getOffers:Fu,applyOffer:qu,applyOffers:Fu,sendNotifications:qu,trackEvent:qu,triggerView:qu,registerExtension:qu,init:qu},e.mboxCreate=qu,e.mboxDefine=qu,e.mboxUpdate=qu}function Xd(e,t,a){if(e.adobe&&e.adobe.target&&void 0!==e.adobe.target.getOffer)We(Km);else{_e(a);var r=be(),n=r[sf];if(e.adobe=e.adobe||{},e.adobe.target=e.adobe.target||{},e.adobe.target.VERSION=n,e.adobe.target.event={LIBRARY_LOADED:Xg,REQUEST_START:Zg,REQUEST_SUCCEEDED:eh,REQUEST_FAILED:th,CONTENT_RENDERING_START:ah,CONTENT_RENDERING_SUCCEEDED:rh,CONTENT_RENDERING_FAILED:nh,CONTENT_RENDERING_NO_OFFERS:sh,CONTENT_RENDERING_REDIRECT:oh},!r[Yp])return Yd(e),void We(Qm);e.__target_telemetry=re(r[Cg]&&Wd(),r[kg],Kd()),Xe(),sa(),pa(e),ha(e),e.adobe.target.getOffer=jd,e.adobe.target.getOffers=wd,e.adobe.target.applyOffer=xd,e.adobe.target.applyOffers=Id,e.adobe.target.sendNotifications=Vd,e.adobe.target.trackEvent=Ad,e.adobe.target.triggerView=Bd,e.adobe.target.registerExtension=Gd,e.mboxCreate=Hd,e.mboxDefine=Jd,e.mboxUpdate=zd,Lt()}}var Zd=a("@adobe/reactor-object-assign"),eu=a("@adobe/reactor-cookie"),tu=a("@adobe/reactor-query-string"),au=a("@adobe/reactor-promise"),ru=a("@adobe/reactor-load-script"),nu=r(Zd),su=r(eu),ou=r(tu),iu=r(au),cu=r(ru),lu=Array.isArray,du=Object.prototype,uu=du.toString,mu="[object Function]",pu=function(e,t){return t.forEach(e)},fu=function(e,t){pu((function(a){return e(t[a],a)}),b(t))},gu=function(e,t){return t.filter(e)},hu=function(e,t){var a={};return fu((function(t,r){e(t,r)&&(a[r]=t)}),t),a},vu="[object String]",_u=9007199254740991,bu=function(e,t){return t.map(e)},yu=Object.prototype,Pu=yu.hasOwnProperty,ku=String.prototype,Cu=ku.trim,ju=function(e){return!D(e)},wu="[object Number]",xu="[object Object]",Iu=Function.prototype,Vu=Object.prototype,Ou=Iu.toString,Eu=Vu.hasOwnProperty,Su=Ou.call(Object),Ru=function(e,t){var a={};return fu((function(t,r){a[r]=e(t,r)}),t),a},Lu=function(e,t,a){return a.reduce(e,t)},Tu=function(e,t,a){var r=t;return fu((function(t,a){r=e(r,t,a)}),a),r},Au=Array.prototype,Du=Au.reverse,Mu={ON_DEVICE:"on-device",SERVER_SIDE:"server-side",HYBRID:"hybrid"},Nu={EDGE:"edge",LOCAL:"local"},qu=function(){},Fu=function(e){return Promise.resolve(e)},Uu="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Bu=ne((function(e){(function(){var t,a,r,n,s,o;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-s)/1e6},a=process.hrtime,n=(t=function(){var e;return 1e9*(e=a())[0]+e[1]})(),o=1e9*process.uptime(),s=n-o):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(Uu)})),Gu=se(),Hu=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){for(var a={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=a.parser[t.strictMode?"strict":"loose"].exec(e),n={},s=14;s--;)n[a.key[s]]=r[s]||"";return n[a.q.name]={},n[a.key[12]].replace(a.q.parser,(function(e,t,r){t&&(n[a.q.name][t]=r)})),n}},Ju=new Uint8Array(256),zu=oe(),Wu=ce(),$u="type",Qu="content",Ku="height",Yu="width",Xu="left",Zu="top",em="from",tm="to",am="priority",rm="selector",nm="cssSelector",sm="setHtml",om="setContent",im="setText",cm="setJson",lm="setAttribute",dm="setImageSource",um="setStyle",mm="rearrange",pm="resize",fm="move",gm="remove",hm="customCode",vm="redirect",_m="trackClick",bm="signalClick",ym="insertBefore",Pm="insertAfter",km="appendHtml",Cm="appendContent",jm="prependHtml",wm="prependContent",xm="replaceHtml",Im="replaceContent",Vm="mboxDebug",Om="mboxDisable",Em="mboxEdit",Sm="at_check",Rm="true",Lm=250,Tm="data-at-src",Am="json",Dm="html",Mm="dynamic",Nm="script",qm="src",Fm="id",Um="class",Bm="click",Gm="head",Hm="script",Jm="style",zm="link",Wm="img",$m="div",Qm='Adobe Target content delivery is disabled. Ensure that you can save cookies to your current domain, there is no "mboxDisable" cookie and there is no "mboxDisable" parameter in query string.',Km="Adobe Target has already been initialized.",Ym="options argument is required",Xm="request option is required",Zm="response option is required",ep="execute or prefetch is required",tp="execute or prefetch is not allowed",ap="notifications are required",rp="mbox option is required",np="mbox option is too long",sp="success option is required",op="error option is required",ip="offer option is required",cp="Unexpected error",lp="request failed",dp="request succeeded",up="Action rendered successfully",mp="Rendering action",pp="Action has no content",fp="Action has no attributes",gp="Action has no CSS properties",hp="Action has no height or width",vp="Action has no left, top or position",_p="Action has no from or to",bp="Action has no url",yp="Action has no image url",Pp="Rearrange elements are missing",kp='Rearrange has incorrect "from" and "to" indexes',Cp="Loading image",jp="Track event request succeeded",wp="Track event request failed",xp="No actions to be rendered",Ip="Redirect action",Vp="Script load",Op="error",Ep="warning",Sp="unknown",Rp="valid",Lp="success",Tp="render",Ap="metric",Dp="mbox",Mp="offer",Np="name",qp="status",Fp="params",Up="actions",Bp="responseTokens",Gp="data",Hp="response",Jp="request",zp="provider",Wp="pageLoad",$p="at-flicker-control",Qp="at-element-marker",Kp="at-element-click-tracking",Yp="enabled",Xp="clientCode",Zp="imsOrgId",ef="serverDomain",tf="crossDomain",af="timeout",rf="globalMboxName",nf="globalMboxAutoCreate",sf="version",of="defaultContentHiddenStyle",cf="bodyHiddenStyle",lf="bodyHidingEnabled",df="deviceIdLifetime",uf="sessionIdLifetime",mf="selectorsPollingTimeout",pf="visitorApiTimeout",ff="overrideMboxEdgeServer",gf="overrideMboxEdgeServerTimeout",hf="optoutEnabled",vf="secureOnly",_f="supplementalDataIdParamTimeout",bf="authoringScriptUrl",yf="scheme",Pf="cookieDomain",kf="mboxParams",Cf="globalMboxParams",jf="mboxSession",wf="PC",xf="mboxEdgeCluster",If="session",Vf="Traces",Of="settings",Ef="client"+Vf,Sf="server"+Vf,Rf="___target_traces",Lf="targetGlobalSettings",Tf="dataProvider",Af=Tf+"s",Df="endpoint",Mf="viewsEnabled",Nf="pageLoadEnabled",qf="authState",Ff="authenticatedState",Uf="integrationCode",Bf="primary",Gf="page",Hf="view",Jf="views",zf="options",Wf="metrics",$f="eventToken",Qf="viewName",Kf="display",Yf="Content-Type",Xf="text/plain",Zf="View rendering failed",eg="View delivery error",tg="View name should be a non-empty string",ag="Views are not enabled",rg="Page load disabled",ng="Using server state",sg="adobe",og="optIn",ig="isApproved",cg="fetchPermissions",lg="Categories",dg="TARGET",ug="ANALYTICS",mg="optinEnabled",pg="Adobe Target is not opted in",fg="analyticsLogging",gg="serverState",hg="cspScriptNonce",vg="cspStyleNonce",_g="cache-updated-event",bg="no-offers-event",yg="redirect-offer-event",Pg="None",kg="decisioningMethod",Cg="telemetryEnabled",jg="web",wg="clientHints",xg="allowHighEntropyClientHints",Ig="aepSandboxId",Vg="aepSandboxName",Og=document,Eg=window,Sg="file:",Rg=/^(?!0)(?!.*\.$)((1?\d?\d|25[0-5]|2[0-4]\d)(\.|$)){4}$/,Lg=/^(com|edu|gov|net|mil|org|nom|co|name|info|biz)$/i,Tg={},Ag=[Yp,Xp,Zp,ef,tf,Pf,af,kf,Cf,of,"defaultContentVisibleStyle",df,cf,lf,mf,pf,ff,gf,hf,mg,vf,_f,bf,"urlSizeLimit",Df,Nf,Mf,fg,gg,kg,"pollingInterval","artifactLocation","artifactFormat","artifactPayload","environment","cdnEnvironment",Cg,"cdnBasePath",hg,vg,rf,xg,Ig,Vg],Dg=ou.default.parse,Mg=ou.default.stringify,Ng=Og.createElement("a"),qg={},Fg=su.default.get,Ug=su.default.set,Bg=su.default.remove,Gg="mbox",Hg="AT:",Jg="1",zg=function(e){var t=function(){function t(e){return null==e?String(e):Y[X.call(e)]||"object"}function a(e){return"function"==t(e)}function r(e){return null!=e&&e==e.window}function s(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function o(e){return"object"==t(e)}function i(e){return o(e)&&!r(e)&&Object.getPrototypeOf(e)==Object.prototype}function c(e){var t=!!e&&"length"in e&&e.length,a=I.type(e);return"function"!=a&&!r(e)&&("array"==a||0===t||"number"==typeof t&&t>0&&t-1 in e)}function l(e){return L.call(e,(function(e){return null!=e}))}function d(e){return e.length>0?I.fn.concat.apply([],e):e}function u(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function m(e){return e in M?M[e]:M[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function p(e,t){return"number"!=typeof t||N[u(e)]?t:t+"px"}function f(e){var t,a;return D[e]||(t=A.createElement(e),A.body.appendChild(t),a=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==a&&(a="block"),D[e]=a),D[e]}function g(e){return"children"in e?T.call(e.children):I.map(e.childNodes,(function(e){if(1==e.nodeType)return e}))}function h(e,t){var a,r=e?e.length:0;for(a=0;a<r;a++)this[a]=e[a];this.length=r,this.selector=t||""}function v(e,t,a){for(x in t)a&&(i(t[x])||ae(t[x]))?(i(t[x])&&!i(e[x])&&(e[x]={}),ae(t[x])&&!ae(e[x])&&(e[x]=[]),v(e[x],t[x],a)):t[x]!==w&&(e[x]=t[x])}function _(e,t){return null==t?I(e):I(e).filter(t)}function b(e,t,r,n){return a(t)?t.call(e,r,n):t}function y(e,t,a){null==a?e.removeAttribute(t):e.setAttribute(t,a)}function P(e,t){var a=e.className||"",r=a&&a.baseVal!==w;if(t===w)return r?a.baseVal:a;r?a.baseVal=t:e.className=t}function k(e){try{return e?"true"==e||"false"!=e&&("null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?I.parseJSON(e):e):e}catch(t){return e}}function C(e,t){t(e);for(var a=0,r=e.childNodes.length;a<r;a++)C(e.childNodes[a],t)}function j(e,t,a){var r=e.getElementsByTagName("script")[0];if(r){var n=r.parentNode;if(n){var s=e.createElement("script");s.innerHTML=t,ju(a)&&s.setAttribute("nonce",a),n.appendChild(s),n.removeChild(s)}}}var w,x,I,V,O,E,S=[],R=S.concat,L=S.filter,T=S.slice,A=e.document,D={},M={},N={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},q=/^\s*<(\w+|!)[^>]*>/,F=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,U=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,B=/^(?:body|html)$/i,G=/([A-Z])/g,H=["val","css","html","text","data","width","height","offset"],J=["after","prepend","before","append"],z=A.createElement("table"),W=A.createElement("tr"),$={tr:A.createElement("tbody"),tbody:z,thead:z,tfoot:z,td:W,th:W,"*":A.createElement("div")},Q=/complete|loaded|interactive/,K=/^[\w-]*$/,Y={},X=Y.toString,Z={},ee=A.createElement("div"),te={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},ae=Array.isArray||function(e){return e instanceof Array};return Z.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var a=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(a)return a.call(e,t);var r,n=e.parentNode,s=!n;return s&&(n=ee).appendChild(e),r=~Z.qsa(n,t).indexOf(e),s&&ee.removeChild(e),r},O=function(e){return e.replace(/-+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))},E=function(e){return L.call(e,(function(t,a){return e.indexOf(t)==a}))},Z.fragment=function(e,t,a){var r,n,s;return F.test(e)&&(r=I(A.createElement(RegExp.$1))),r||(e.replace&&(e=e.replace(U,"<$1></$2>")),t===w&&(t=q.test(e)&&RegExp.$1),t in $||(t="*"),(s=$[t]).innerHTML=""+e,r=I.each(T.call(s.childNodes),(function(){s.removeChild(this)}))),i(a)&&(n=I(r),I.each(a,(function(e,t){H.indexOf(e)>-1?n[e](t):n.attr(e,t)}))),r},Z.Z=function(e,t){return new h(e,t)},Z.isZ=function(e){return e instanceof Z.Z},Z.init=function(e,t){var r;if(!e)return Z.Z();if("string"==typeof e)if("<"==(e=e.trim())[0]&&q.test(e))r=Z.fragment(e,RegExp.$1,t),e=null;else{if(t!==w)return I(t).find(e);r=Z.qsa(A,e)}else{if(a(e))return I(A).ready(e);if(Z.isZ(e))return e;if(ae(e))r=l(e);else if(o(e))r=[e],e=null;else if(q.test(e))r=Z.fragment(e.trim(),RegExp.$1,t),e=null;else{if(t!==w)return I(t).find(e);r=Z.qsa(A,e)}}return Z.Z(r,e)},(I=function(e,t){return Z.init(e,t)}).extend=function(e){var t,a=T.call(arguments,1);return"boolean"==typeof e&&(t=e,e=a.shift()),a.forEach((function(a){v(e,a,t)})),e},Z.qsa=function(e,t){var a,r="#"==t[0],n=!r&&"."==t[0],s=r||n?t.slice(1):t,o=K.test(s);return e.getElementById&&o&&r?(a=e.getElementById(s))?[a]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:T.call(o&&!r&&e.getElementsByClassName?n?e.getElementsByClassName(s):e.getElementsByTagName(t):e.querySelectorAll(t))},I.contains=A.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},I.type=t,I.isFunction=a,I.isWindow=r,I.isArray=ae,I.isPlainObject=i,I.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},I.isNumeric=function(e){var t=Number(e),a=n(e);return null!=e&&"boolean"!=a&&("string"!=a||e.length)&&!isNaN(t)&&isFinite(t)||!1},I.inArray=function(e,t,a){return S.indexOf.call(t,e,a)},I.camelCase=O,I.trim=function(e){return null==e?"":String.prototype.trim.call(e)},I.uuid=0,I.support={},I.expr={},I.noop=function(){},I.map=function(e,t){var a,r,n,s=[];if(c(e))for(r=0;r<e.length;r++)null!=(a=t(e[r],r))&&s.push(a);else for(n in e)null!=(a=t(e[n],n))&&s.push(a);return d(s)},I.each=function(e,t){var a,r;if(c(e)){for(a=0;a<e.length;a++)if(!1===t.call(e[a],a,e[a]))return e}else for(r in e)if(!1===t.call(e[r],r,e[r]))return e;return e},I.grep=function(e,t){return L.call(e,t)},e.JSON&&(I.parseJSON=JSON.parse),I.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(e,t){Y["[object "+t+"]"]=t.toLowerCase()})),I.fn={constructor:Z.Z,length:0,forEach:S.forEach,reduce:S.reduce,push:S.push,sort:S.sort,splice:S.splice,indexOf:S.indexOf,concat:function(){var e,t,a=[];for(e=0;e<arguments.length;e++)t=arguments[e],a[e]=Z.isZ(t)?t.toArray():t;return R.apply(Z.isZ(this)?this.toArray():this,a)},map:function(e){return I(I.map(this,(function(t,a){return e.call(t,a,t)})))},slice:function(){return I(T.apply(this,arguments))},ready:function(e){return Q.test(A.readyState)&&A.body?e(I):A.addEventListener("DOMContentLoaded",(function(){e(I)}),!1),this},get:function(e){return e===w?T.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each((function(){null!=this.parentNode&&this.parentNode.removeChild(this)}))},each:function(e){for(var t,a=this.length,r=0;r<a&&(t=this[r],!1!==e.call(t,r,t));)r++;return this},filter:function(e){return a(e)?this.not(this.not(e)):I(L.call(this,(function(t){return Z.matches(t,e)})))},add:function(e,t){return I(E(this.concat(I(e,t))))},is:function(e){return this.length>0&&Z.matches(this[0],e)},not:function(e){var t=[];if(a(e)&&e.call!==w)this.each((function(a){e.call(this,a)||t.push(this)}));else{var r="string"==typeof e?this.filter(e):c(e)&&a(e.item)?T.call(e):I(e);this.forEach((function(e){r.indexOf(e)<0&&t.push(e)}))}return I(t)},has:function(e){return this.filter((function(){return o(e)?I.contains(this,e):I(this).find(e).size()}))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!o(e)?e:I(e)},last:function(){var e=this[this.length-1];return e&&!o(e)?e:I(e)},find:function(e){var t,a=this;return t=e?"object"==n(e)?I(e).filter((function(){var e=this;return S.some.call(a,(function(t){return I.contains(t,e)}))})):1==this.length?I(Z.qsa(this[0],e)):this.map((function(){return Z.qsa(this,e)})):I(),t},closest:function(e,t){var a=[],r="object"==n(e)&&I(e);return this.each((function(n,o){for(;o&&!(r?r.indexOf(o)>=0:Z.matches(o,e));)o=o!==t&&!s(o)&&o.parentNode;o&&a.indexOf(o)<0&&a.push(o)})),I(a)},parents:function(e){for(var t=[],a=this;a.length>0;)a=I.map(a,(function(e){if((e=e.parentNode)&&!s(e)&&t.indexOf(e)<0)return t.push(e),e}));return _(t,e)},parent:function(e){return _(E(this.pluck("parentNode")),e)},children:function(e){return _(this.map((function(){return g(this)})),e)},contents:function(){return this.map((function(){return this.contentDocument||T.call(this.childNodes)}))},siblings:function(e){return _(this.map((function(e,t){return L.call(g(t.parentNode),(function(e){return e!==t}))})),e)},empty:function(){return this.each((function(){this.innerHTML=""}))},pluck:function(e){return I.map(this,(function(t){return t[e]}))},show:function(){return this.each((function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=f(this.nodeName))}))},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var t=a(e);if(this[0]&&!t)var r=I(e).get(0),n=r.parentNode||this.length>1;return this.each((function(a){I(this).wrapAll(t?e.call(this,a):n?r.cloneNode(!0):r)}))},wrapAll:function(e){if(this[0]){var t;for(I(this[0]).before(e=I(e));(t=e.children()).length;)e=t.first();I(e).append(this)}return this},wrapInner:function(e){var t=a(e);return this.each((function(a){var r=I(this),n=r.contents(),s=t?e.call(this,a):e;n.length?n.wrapAll(s):r.append(s)}))},unwrap:function(){return this.parent().each((function(){I(this).replaceWith(I(this).children())})),this},clone:function(){return this.map((function(){return this.cloneNode(!0)}))},hide:function(){return this.css("display","none")},toggle:function(e){return this.each((function(){var t=I(this);(e===w?"none"==t.css("display"):e)?t.show():t.hide()}))},prev:function(e){return I(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return I(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each((function(t){var a=this.innerHTML;I(this).empty().append(b(this,e,t,a))})):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each((function(t){var a=b(this,e,t,this.textContent);this.textContent=null==a?"":""+a})):0 in this?this.pluck("textContent").join(""):null},attr:function(e,t){var a;return"string"!=typeof e||1 in arguments?this.each((function(a){if(1===this.nodeType)if(o(e))for(x in e)y(this,x,e[x]);else y(this,e,b(this,t,a,this.getAttribute(e)))})):0 in this&&1==this[0].nodeType&&null!=(a=this[0].getAttribute(e))?a:w},removeAttr:function(e){return this.each((function(){1===this.nodeType&&e.split(" ").forEach((function(e){y(this,e)}),this)}))},prop:function(e,t){return e=te[e]||e,1 in arguments?this.each((function(a){this[e]=b(this,t,a,this[e])})):this[0]&&this[0][e]},removeProp:function(e){return e=te[e]||e,this.each((function(){delete this[e]}))},data:function(e,t){var a="data-"+e.replace(G,"-$1").toLowerCase(),r=1 in arguments?this.attr(a,t):this.attr(a);return null!==r?k(r):w},val:function(e){return 0 in arguments?(null==e&&(e=""),this.each((function(t){this.value=b(this,e,t,this.value)}))):this[0]&&(this[0].multiple?I(this[0]).find("option").filter((function(){return this.selected})).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each((function(e){var a=I(this),r=b(this,t,e,a.offset()),n=a.offsetParent().offset(),s={top:r.top-n.top,left:r.left-n.left};"static"==a.css("position")&&(s.position="relative"),a.css(s)}));if(!this.length)return null;if(A.documentElement!==this[0]&&!I.contains(A.documentElement,this[0]))return{top:0,left:0};var a=this[0].getBoundingClientRect();return{left:a.left+e.pageXOffset,top:a.top+e.pageYOffset,width:Math.round(a.width),height:Math.round(a.height)}},css:function(e,a){if(arguments.length<2){var r=this[0];if("string"==typeof e){if(!r)return;return r.style[O(e)]||getComputedStyle(r,"").getPropertyValue(e)}if(ae(e)){if(!r)return;var n={},s=getComputedStyle(r,"");return I.each(e,(function(e,t){n[t]=r.style[O(t)]||s.getPropertyValue(t)})),n}}var o="";if("string"==t(e))a||0===a?o=u(e)+":"+p(e,a):this.each((function(){this.style.removeProperty(u(e))}));else for(x in e)e[x]||0===e[x]?o+=u(x)+":"+p(x,e[x])+";":this.each((function(){this.style.removeProperty(u(x))}));return this.each((function(){this.style.cssText+=";"+o}))},index:function(e){return e?this.indexOf(I(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return!!e&&S.some.call(this,(function(e){return this.test(P(e))}),m(e))},addClass:function(e){return e?this.each((function(t){if("className"in this){V=[];var a=P(this);b(this,e,t,a).split(/\s+/g).forEach((function(e){I(this).hasClass(e)||V.push(e)}),this),V.length&&P(this,a+(a?" ":"")+V.join(" "))}})):this},removeClass:function(e){return this.each((function(t){if("className"in this){if(e===w)return P(this,"");V=P(this),b(this,e,t,V).split(/\s+/g).forEach((function(e){V=V.replace(m(e)," ")})),P(this,V.trim())}}))},toggleClass:function(e,t){return e?this.each((function(a){var r=I(this);b(this,e,a,P(this)).split(/\s+/g).forEach((function(e){(t===w?!r.hasClass(e):t)?r.addClass(e):r.removeClass(e)}))})):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===w?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===w?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),a=this.offset(),r=B.test(t[0].nodeName)?{top:0,left:0}:t.offset();return a.top-=parseFloat(I(e).css("margin-top"))||0,a.left-=parseFloat(I(e).css("margin-left"))||0,r.top+=parseFloat(I(t[0]).css("border-top-width"))||0,r.left+=parseFloat(I(t[0]).css("border-left-width"))||0,{top:a.top-r.top,left:a.left-r.left}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent||A.body;e&&!B.test(e.nodeName)&&"static"==I(e).css("position");)e=e.offsetParent;return e}))}},I.fn.detach=I.fn.remove,["width","height"].forEach((function(e){var t=e.replace(/./,(function(e){return e[0].toUpperCase()}));I.fn[e]=function(a){var n,o=this[0];return a===w?r(o)?o["inner"+t]:s(o)?o.documentElement["scroll"+t]:(n=this.offset())&&n[e]:this.each((function(t){(o=I(this)).css(e,b(this,a,t,o[e]()))}))}})),J.forEach((function(e,a){var r=a%2;I.fn[e]=function(){var e,n,s=I.map(arguments,(function(a){var r=[];return"array"==(e=t(a))?(a.forEach((function(e){return e.nodeType!==w?r.push(e):I.zepto.isZ(e)?r=r.concat(e.get()):void(r=r.concat(Z.fragment(e)))})),r):"object"==e||null==a?a:Z.fragment(a)})),o=this.length>1;return s.length<1?this:this.each((function(e,t){n=r?t:t.parentNode,t=0==a?t.nextSibling:1==a?t.firstChild:2==a?t:null;var i=I.contains(A.documentElement,n),c=/^(text|application)\/(javascript|ecmascript)$/,l=be(),d=l[hg],u=l[vg];s.forEach((function(e){if(o)e=e.cloneNode(!0);else if(!n)return I(e).remove();ju(d)&&"SCRIPT"===e.tagName&&e.setAttribute("nonce",d),ju(u)&&"STYLE"===e.tagName&&e.setAttribute("nonce",u),n.insertBefore(e,t),i&&C(e,(function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&!c.test(e.type.toLowerCase())||e.src||j(A,e.innerHTML,e.nonce)}))}))}))},I.fn[r?e+"To":"insert"+(a?"Before":"After")]=function(t){return I(t)[e](this),this}})),Z.Z.prototype=h.prototype=I.fn,Z.uniq=E,Z.deserializeValue=k,I.zepto=Z,I}();return function(t){function a(e){return e._zid||(e._zid=p++)}function r(e,t,r,o){if((t=n(t)).ns)var i=s(t.ns);return(v[a(e)]||[]).filter((function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||i.test(e.ns))&&(!r||a(e.fn)===a(r))&&(!o||e.sel==o)}))}function n(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function s(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function o(e,t){return e.del&&!b&&e.e in y||!!t}function i(e){return P[e]||b&&y[e]||e}function c(e,r,s,c,l,u,p){var f=a(e),g=v[f]||(v[f]=[]);r.split(/\s/).forEach((function(a){if("ready"==a)return t(document).ready(s);var r=n(a);r.fn=s,r.sel=l,r.e in P&&(s=function(e){var a=e.relatedTarget;if(!a||a!==this&&!t.contains(this,a))return r.fn.apply(this,arguments)}),r.del=u;var f=u||s;r.proxy=function(t){if(!(t=d(t)).isImmediatePropagationStopped()){t.data=c;var a=f.apply(e,t._args==m?[t]:[t].concat(t._args));return!1===a&&(t.preventDefault(),t.stopPropagation()),a}},r.i=g.length,g.push(r),"addEventListener"in e&&e.addEventListener(i(r.e),r.proxy,o(r,p))}))}function l(e,t,n,s,c){var l=a(e);(t||"").split(/\s/).forEach((function(t){r(e,t,n,s).forEach((function(t){delete v[l][t.i],"removeEventListener"in e&&e.removeEventListener(i(t.e),t.proxy,o(t,c))}))}))}function d(e,a){if(a||!e.isDefaultPrevented){a||(a=e),t.each(w,(function(t,r){var n=a[t];e[t]=function(){return this[r]=k,n&&n.apply(a,arguments)},e[r]=C}));try{e.timeStamp||(e.timeStamp=(new Date).getTime())}catch(e){}(a.defaultPrevented!==m?a.defaultPrevented:"returnValue"in a?!1===a.returnValue:a.getPreventDefault&&a.getPreventDefault())&&(e.isDefaultPrevented=k)}return e}function u(e){var t,a={originalEvent:e};for(t in e)j.test(t)||e[t]===m||(a[t]=e[t]);return d(a,e)}var m,p=1,f=Array.prototype.slice,g=t.isFunction,h=function(e){return"string"==typeof e},v={},_={},b="onfocusin"in e,y={focus:"focusin",blur:"focusout"},P={mouseenter:"mouseover",mouseleave:"mouseout"};_.click=_.mousedown=_.mouseup=_.mousemove="MouseEvents",t.event={add:c,remove:l},t.proxy=function(e,r){var n=2 in arguments&&f.call(arguments,2);if(g(e)){var s=function(){return e.apply(r,n?n.concat(f.call(arguments)):arguments)};return s._zid=a(e),s}if(h(r))return n?(n.unshift(e[r],e),t.proxy.apply(null,n)):t.proxy(e[r],e);throw new TypeError("expected function")},t.fn.bind=function(e,t,a){return this.on(e,t,a)},t.fn.unbind=function(e,t){return this.off(e,t)},t.fn.one=function(e,t,a,r){return this.on(e,t,a,r,1)};var k=function(){return!0},C=function(){return!1},j=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,w={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(e,t,a){return this.on(t,e,a)},t.fn.undelegate=function(e,t,a){return this.off(t,e,a)},t.fn.live=function(e,a){return t(document.body).delegate(this.selector,e,a),this},t.fn.die=function(e,a){return t(document.body).undelegate(this.selector,e,a),this},t.fn.on=function(e,a,r,n,s){var o,i,d=this;return e&&!h(e)?(t.each(e,(function(e,t){d.on(e,a,r,t,s)})),d):(h(a)||g(n)||!1===n||(n=r,r=a,a=m),n!==m&&!1!==r||(n=r,r=m),!1===n&&(n=C),d.each((function(d,m){s&&(o=function(e){return l(m,e.type,n),n.apply(this,arguments)}),a&&(i=function(e){var r,s=t(e.target).closest(a,m).get(0);if(s&&s!==m)return r=t.extend(u(e),{currentTarget:s,liveFired:m}),(o||n).apply(s,[r].concat(f.call(arguments,1)))}),c(m,e,n,r,a,i||o)})))},t.fn.off=function(e,a,r){var n=this;return e&&!h(e)?(t.each(e,(function(e,t){n.off(e,a,t)})),n):(h(a)||g(r)||!1===r||(r=a,a=m),!1===r&&(r=C),n.each((function(){l(this,e,r,a)})))},t.fn.trigger=function(e,a){return(e=h(e)||t.isPlainObject(e)?t.Event(e):d(e))._args=a,this.each((function(){e.type in y&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,a)}))},t.fn.triggerHandler=function(e,a){var n,s;return this.each((function(o,i){(n=u(h(e)?t.Event(e):e))._args=a,n.target=i,t.each(r(i,e.type||e),(function(e,t){if(s=t.proxy(n),n.isImmediatePropagationStopped())return!1}))})),s},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach((function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}})),t.Event=function(e,t){h(e)||(e=(t=e).type);var a=document.createEvent(_[e]||"Events"),r=!0;if(t)for(var n in t)"bubbles"==n?r=!!t[n]:a[n]=t[n];return a.initEvent(e,r,!0),d(a)}}(t),function(){try{getComputedStyle(void 0)}catch(a){var t=getComputedStyle;e.getComputedStyle=function(e,a){try{return t(e,a)}catch(e){return null}}}}(),function(e){var t=e.zepto,a=t.qsa,r=/^\s*>/,n=":shadow",s="Zepto"+ +new Date,o=function(t,n){var o,i,c=n;try{c?r.test(c)&&(i=e(t).addClass(s),c="."+s+" "+c):c="*",o=a(t,c)}catch(e){throw e}finally{i&&i.removeClass(s)}return o};t.qsa=function(e,t){var a=t.split(n);if(a.length<2)return o(e,t);for(var r=e,s=0;s<a.length;s++){var i=a[s].trim();if(""!==i){if(0===i.indexOf(">")){var c=":host ";(r instanceof Element||r instanceof HTMLDocument)&&(c=":scope "),i=c+i}var l=o(r,i)
;if(0===l.length||!l[0]||!l[0].shadowRoot)return l;r=l[0].shadowRoot}else r=r.shadowRoot}}}(t),t}(window),Wg=Eg.MutationObserver||Eg.WebkitMutationObserver,$g="Expected an array of promises";iu.default._setImmediateFn&&st();var Qg=ue(),Kg=/.*\.(\d+)_\d+/;Ot(Eg,Og);var Yg,Xg="at-library-loaded",Zg="at-request-start",eh="at-request-succeeded",th="at-request-failed",ah="at-content-rendering-start",rh="at-content-rendering-succeeded",nh="at-content-rendering-failed",sh="at-content-rendering-no-offers",oh="at-content-rendering-redirect",ih=":eq(",ch=")",lh=ih.length,dh=/((\.|#)(-)?\d{1})/g,uh="Unable to load target-vec.js",mh="Loading target-vec.js",ph="_AT",fh="clickHandlerForExperienceEditor",gh="currentView",hh="at_qa_mode",vh="at_preview_token",_h="at_preview_index",bh="at_preview_listed_activities_only",yh="at_preview_evaluate_as_true_audience_ids",Ph="at_preview_evaluate_as_false_audience_ids",kh="_",Ch=function(e){return!m(e)},jh="at_preview_mode",wh="at_preview",xh="at-",Ih="at-body-style",Vh="#"+Ih,Oh=xh+"views",Eh="Disabled due to optout",Sh="MCAAMB",Rh="MCAAMLH",Lh="MCMID",Th="MCOPTOUT",Ah="getSupplementalDataID",Dh="getCustomerIDs",Mh=!0,Nh="NS",qh="DS",Fh="trackingServer",Uh=Fh+"Secure",Bh="Visitor",Gh="getInstance",Hh="isAllowed",Jh="Visitor API requests timed out",zh="Visitor API requests error",Wh={},$h="Data provider",Qh="timed out",Kh=2e3,Yh="authorization",Xh="mboxDebugTools",Zh=["architecture","bitness","model","platformVersion","fullVersionList"],ev=Lr(),tv="profile.",av="mbox3rdPartyId",rv="at_property",nv="orderId",sv="orderTotal",ov="productPurchasedId",iv="productId",cv="categoryId",lv="POST",dv="Network request failed",uv="Request timed out",mv="Malformed response JSON",pv="mboxedge",fv=".tt.omtrdc.net",gv=function(e){return!T(e)},hv=function(e){return function(t){return t[e]}},vv=function(e){return function(t){return!e(t)}},_v=vv(m),bv=vv(D),yv=function(e){return function(t){return y(e,t)}},Pv=function(e){return e.status===Op},kv=function(e){return e.type===Up},Cv=function(e){return e.type===vm},jv=yv(_v),wv=yv(bv),xv=hv(zf),Iv=hv(Qu),Vv=hv($f),Ov=hv(Bp),Ev=function(e){return ju(e.name)},Sv=function(e){return!m(e.index)},Rv=function(e){return g(e)&&Ev(e)},Lv=function(e){return g(e)&&Ev(e)&&Sv(e)},Tv=function(e){return g(e)&&Ev(e)},Av=function(e){return ju(e.selector)},Dv=hv(Gp),Mv=C([Dv,_v]),Nv="adobe_mc_sdid",qv="Network request failed",Fv="Request timed out",Uv="URL is required",Bv="GET",Gv="POST",Hv="method",Jv="url",zv="headers",Wv="data",$v="credentials",Qv="timeout",Kv="async",Yv=/CLKTRK#(\S+)/,Xv=/CLKTRK#(\S+)\s/,Zv=function(e){return!m(e)},e_="visibilityState",t_="visible",a_=100,r_=Hm+","+zm+","+Jm,n_="at-action-key",s_="metric element not found",o_="navigator",i_="sendBeacon",c_="Beacon data sent",l_="Beacon data sent failed",d_="View triggered notification",u_="View rendered notification",m_="Mboxes rendered notification",p_="Event handler notification",f_="Mbox event handler notification",g_="View event handler notification",h_="prefetchMboxes",v_="rendered",__="triggered",b_={},y_="pageLoadMetrics",P_="prefetchMetrics",k_=hv(Wf),C_=function(){return Xn(Ap)},j_=function(e){return Zn(Ap,e)},w_=hv(Qu),x_=hv(nm),I_=function(e){return Xn(Tp,e)},V_=function(e,t){var a=lu(e)?{errors:e}:{errors:[e]};return Zn(Tp,nu.default(a,t))},O_=function(e){return vv(Pv)(e)&&Mv(e)},E_={exports:{}};$c.prototype={on:function(e,t,a){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:a}),this},once:function(e,t,a){function r(){n.off(e,r),t.apply(a,arguments)}var n=this;return r._=t,this.on(e,r,a)},emit:function(e){for(var t=[].slice.call(arguments,1),a=((this.e||(this.e={}))[e]||[]).slice(),r=0,n=a.length;r<n;r++)a[r].fn.apply(a[r].ctx,t);return this},off:function(e,t){var a=this.e||(this.e={}),r=a[e],n=[];if(r&&t)for(var s=0,o=r.length;s<o;s++)r[s].fn!==t&&r[s].fn._!==t&&n.push(r[s]);return n.length?a[e]=n:delete a[e],this}},E_.exports=$c,E_.exports.TinyEmitter=$c;var S_=E_.exports,R_=Qc(),L_="Page load rendering failed",T_="Mboxes rendering failed",A_="View rendering failed",D_="Prefetch rendering failed",M_=function(e){return!T(y(Pv,e))},N_="[page-init]",q_="[getOffer()]",F_="[getOffers()]",U_="[applyOffer()]",B_="[applyOffers()]",G_="[sendNotifications()]",H_="[trackEvent()]",J_="[triggerView()]",z_=[],W_=0,$_=1,Q_=W_;qd();var K_="function has been deprecated. Please use getOffer() and applyOffer() functions instead.",Y_="adobe.target.registerExtension() function has been deprecated. Please review the documentation for alternatives.",X_="mboxCreate() "+K_,Z_="mboxDefine() "+K_,eb="mboxUpdate() "+K_,tb=/^tgt:.+/i,ab=function(e){return tb.test(e)},rb=-1,nb=10,sb="tgt:tlm",ob=sb+":lower",ib=sb+":upper",cb={init:Xd,initConfig:_e,initDelivery:zl};e.exports=cb}},"adobe-target-v2/lib/modules/page-load.js":{script:function(e,t,a){"use strict";var r=a("../librarySettings"),n=a("@adobe/reactor-window"),s=a("./object-override"),o=a("./params-store"),i=o.getParams,c=o.getPageLoadParams,l=a("../targetSettings").targetSettings;e.exports=function(e){return l.mboxParams=i(),l.globalMboxParams=c(),s(l,e,["bodyHidingEnabled","bodyHiddenStyle"]),s(l,n.targetGlobalSettings||{},["enabled","bodyHidingEnabled","bodyHiddenStyle"]),s(l,r.TARGET_DEFAULT_SETTINGS||{},["version"]),l}}},"adobe-target-v2/lib/messages.js":{script:function(e){"use strict";e.exports={ALREADY_INITIALIZED:"AT: Adobe Target has already been initialized.",DELIVERY_DISABLED:"AT: Adobe Target content delivery is disabled. Update your DOCTYPE to support Standards mode.",NO_REQUEST:"AT: Target library is either not loaded or disabled, no request will be executed"}}},"adobe-target-v2/lib/librarySettings.js":{script:function(e){"use strict";var t={version:"2.11.4"};e.exports={TARGET_DEFAULT_SETTINGS:t}}},"adobe-target-v2/lib/targetSettings.js":{script:function(e,t,a,r){"use strict";var n=r.getExtensionSettings(),s=n.targetSettings||{};e.exports={extensionSettings:n,targetSettings:s}}},"adobe-target-v2/lib/modules/load-target.js":{script:function(e,t,a,r){"use strict";function n(e){var t=e.compatMode,a=e.documentMode;return t&&"CSS1Compat"===t&&(!a||a>=9)}function s(e){var t=function(){},a=function(){return d.resolve()};e.adobe=e.adobe||{},e.adobe.target={VERSION:"",event:{},getOffer:t,getOffers:a,applyOffer:t,applyOffers:a,sendNotifications:t,trackEvent:t,triggerView:t,registerExtension:t,init:t},e.mboxCreate=t,e.mboxDefine=t,e.mboxUpdate=t}function o(){return c.adobe&&c.adobe.target&&void 0!==c.adobe.target.getOffer}function i(){return o()?(r.logger.warn(u.ALREADY_INITIALIZED),null):(g.mboxParams=p(),g.globalMboxParams=f(),h(g,c.targetGlobalSettings||{},b),h(g,v||{},["version"]),n(l)||(g.enabled=!1,r.logger.warn(u.DELIVERY_DISABLED)),g.timeout=_(g.timeout),g)}var c=a("@adobe/reactor-window"),l=a("@adobe/reactor-document"),d=a("@adobe/reactor-promise"),u=a("../messages"),m=a("./params-store"),p=m.getParams,f=m.getPageLoadParams,g=a("../targetSettings").targetSettings,h=a("./object-override"),v=a("../librarySettings").TARGET_DEFAULT_SETTINGS,_=a("./validation").validTimeout,b=["enabled","clientCode","imsOrgId","serverDomain","cookieDomain","timeout","defaultContentHiddenStyle","defaultContentVisibleStyle","bodyHiddenStyle","bodyHidingEnabled","selectorsPollingTimeout","visitorApiTimeout","overrideMboxEdgeServer","overrideMboxEdgeServerTimeout","optoutEnabled","optinEnabled","secureOnly","supplementalDataIdParamTimeout","authoringScriptUrl","urlSizeLimit","endpoint","pageLoadEnabled","viewsEnabled","analyticsLogging","serverState","globalMboxName","decisioningMethod"];e.exports={initLibrarySettings:i,overridePublicApi:s}}},"adobe-target-v2/lib/modules/optin.js":{script:function(e,t,a){"use strict";function r(e){return"undefined"===(void 0===e?"undefined":d(e))||null===e}function n(e){var t=void 0===e?"undefined":d(e);return null!==e&&("object"===t||"function"===t)}function s(e){return n(e[g])&&n(e[m])}function o(e,t){return!!t&&!r(e)&&!r(e[f])&&s(e[f])}function i(e,t){return e[m](t)}function c(){var e=u[f];return i(e,e[h][v])}function l(){var e=_[p];return o(u,e)}var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=a("@adobe/reactor-window").adobe,m="isApproved",p="optinEnabled",f="optIn",g="fetchPermissions",h="Categories",v="TARGET",_=a("../targetSettings").targetSettings;e.exports={shouldUseOptIn:l,isTargetApproved:c}}},"adobe-target-v2/lib/analyticsIntegration.js":{script:function(e,t,a,r){"use strict";function n(e,t){return new i((function(a){e?t.then((function(t){t&&(e.abort=!0),a()})):a()}))}function s(e){if(e){var t=new i((function(e){var t=setTimeout((function(){e(!1)}),u.targetSettings.timeout),a=function a(r){e(!1),clearTimeout(t),d(o,r,a)};l(o,p,(function a(r){r.detail&&!0===r.detail.redirect?e(!0):e(!1),clearTimeout(t),d(o,r,a)})),l(o,f,a)}));e((function(e){return n(e,t)}))}}var o=a("@adobe/reactor-document"),i=a("@adobe/reactor-promise"),c=a("./modules/event-util"),l=c.addEventListener,d=c.removeEventListener,u=a("./targetSettings").extensionSettings,m=r.getSharedModule("adobe-analytics","augment-tracker"),p="at-request-succeeded",f="at-request-failed";e.exports=function(){s(m)}}},"adobe-target-v2/lib/modules/validation.js":{script:function(e){"use strict";function t(e){var t=Number(e);return Number.isNaN(t)?a:Math.min(r,Math.max(n,t))}var a=3e3,r=99999,n=0;e.exports={validTimeout:t}}},"adobe-target-v2/lib/modules/event-util.js":{script:function(e){"use strict";function t(e,t,a){e.addEventListener(t,a)}function a(e,t,a){e.removeEventListener(t,a)}e.exports={addEventListener:t,removeEventListener:a}}}}},"mapping-table":{displayName:"Mapping Table",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP29c1cfa85ec74c28b3ef1369f262762b/",modules:{"mapping-table/src/lib/dataElements/mappingTable.js":{name:"mapping-table",displayName:"Mapping Table",script:function(e,t,a,r){"use strict";e.exports=function(e){if(null!=e){var t=e.dataElement;n();try{for(var a=0;a<e.size;a++){var s=e[a].method,o=e[a].output,i=e[a].input;if("exact match"===s){if(t===i)return o}else if("exact match i"===s){if("boolean"==typeof t)continue;if(t.toLowerCase()===i.toLowerCase())return o}else if("starts with"===s){if("boolean"==typeof t)continue;if(t.startsWith(i))return o}else if("contains"===s){if("boolean"==typeof t)continue;if(t.indexOf(i)>-1)return o}else if("regex"===s){if("boolean"==typeof t)continue;if(new RegExp(i).test(t))return o}else if("regex matching"===s){if("boolean"==typeof t)continue;var c=t.match(new RegExp(i));if(null!==c){for(var l=c.length-1;l>=1;l--)o=o.split("$"+l).join(c[l]);return o}}else if("is true"===s){if(!0===t)return o}else if("is false"===s&&!1===t)return o}}catch(e){r.logger.error("Error during evaluation: "+e.message)}if(!0===e.defaultValueEmpty)return;return t}};var n=function(){String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e})}}}}},"bing-ads-extension":{displayName:"Bing Ads UET Tag",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP05eac6e292f1486a812623da300a51b4/",settings:{qname:"uetq",tagid:"5140893",navTimingApi:!0,storeConvTrackCookies:!0},modules:{"bing-ads-extension/src/lib/actions/baseTag.js":{name:"basetag",displayName:"Base Tag",script:function(e,t,a,r){"use strict";e.exports=function(){a("../helpers/getBatJsBase")().then((function(){r.logger.log("Base code loaded and a page load event is sent.")}))}}},"bing-ads-extension/src/lib/actions/customEventNew.js":{name:"customeventnew",displayName:"Custom Event",script:function(e,t,a,r){"use strict";var n=function(e,t,a,r){e.push("event",t,a),r.log("New custom event "+t+" is sent.")};e.exports=function(e){var t=a("@adobe/reactor-window"),s=a("../helpers/getBatJsBase"),o=r.getExtensionSettings().qname||"uetq",i={};for(var c in e)e.hasOwnProperty(c)&&"event_action"!==c&&(i[c]=e[c]);t[o]&&t[o]!==[]?n(t[o],e.event_action,i,r.logger):s().then((function(){n(t[o],e.event_action,i,r.logger)}))}}},"bing-ads-extension/src/lib/helpers/getBatJsBase.js":{script:function(e,t,a,r){"use strict";e.exports=function(){var e=a("@adobe/reactor-window"),t=a("@adobe/reactor-load-script"),n=r.getExtensionSettings(),s=n.qname||"uetq";return e[s]=e[s]||[],t("//bat.bing.com/bat.js").then((function(){var t={ti:n.tagid,navTimingApi:n.navTimingApi,storeConvTrackCookies:n.storeConvTrackCookies,tm:"al001"};t.q=e[s],e[s]=new UET(t),e[s].push("pageLoad"),r.logger.log("BingAds Base Code successfully loaded.")})).catch((function(){r.logger.error("BingAds Base Code could not be loaded.")}))}}}}},"adobe-mcid":{displayName:"Experience Cloud ID Service",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPf0412a5c65e5429ab0e5ed8ba2256510/",settings:{orgId:"664516D751E565010A490D4C@AdobeOrg",variables:[{name:"disableIdSyncs",value:"true"},{name:"idSyncDisableSyncs",value:"true"}]},modules:{"adobe-mcid/src/lib/actions/setCustomerIds.js":{name:"set-customer-ids",displayName:"Set Customer IDs",script:function(e,t,a,r){"use strict";var n=a("../sharedModules/mcidInstance"),s=r.logger,o=function(e){return"string"==typeof e&&e.length>0},i=function(e){var t={},a=[];return e.forEach((function(e){var r=e.integrationCode,n=e.value;o(r)&&o(n)?(t[r]={id:n},e.hasOwnProperty("authState")&&(t[e.integrationCode].authState=e.authState),e.hasOwnProperty("hashType")&&(t[e.integrationCode].hashType=e.hashType)):a.push(e)})),a.length&&s.warn("Rejected these customer ids: "+JSON.stringify(a)),t};e.exports=function(e){if(n){var t=i(e.customerIds);n.setCustomerIDs(t),s.info("Set Customer IDs: "+JSON.stringify(t))}else s.warn("MCID instance cannot be found. Cannot set Customer IDs.")}}},"adobe-mcid/src/lib/sharedModules/mcidInstance.js":{script:function(e,t,a,r){"use strict";var n=a("@adobe/reactor-document"),s=a("../codeLibrary/VisitorAPI"),o=a("../../view/utils/timeUnits"),i=function(e){return e.reduce((function(e,t){var a=/^(true|false)$/i.test(t.value)?JSON.parse(t.value):t.value;return e[t.name]=a,e}),{})},c=function(e){var t=r.getExtensionSettings();if("string"!=typeof t.orgId)throw new TypeError("Org ID is not a string.");var a=i(t.variables||[]),n=t.doesOptInApply;n&&("boolean"==typeof n?a.doesOptInApply=n:t.optInCallback&&(a.doesOptInApply=t.optInCallback));var s=t.isOptInStorageEnabled;s&&(a.isOptInStorageEnabled=s);var c=t.optInCookieDomain;c&&(a.optInCookieDomain=c);var l=t.optInStorageExpiry;if(l){var d=t.timeUnit;if(d&&o[d]){var u=l*o[d];a.optInStorageExpiry=u}}else!0===s&&(a.optInStorageExpiry=33696e3);var m=t.previousPermissions;m&&(a.previousPermissions=m);var p=t.preOptInApprovals;if(p)a.preOptInApprovals=p;else{var f=t.preOptInApprovalInput;f&&(a.preOptInApprovals=f)}var g=t.isIabContext;g&&(a.isIabContext=g);var h=e.getInstance(t.orgId,a);return r.logger.info('Created instance using orgId: "'+t.orgId+'"'),r.logger.info("Set variables: "+JSON.stringify(a)),h.getMarketingCloudVisitorID((function(e){r.logger.info("Obtained Marketing Cloud Visitor Id: "+e)}),!0),h},l=function(e){return(r.getExtensionSettings().pathExclusions||[]).some((function(t){return t.valueIsRegex?new RegExp(t.value,"i").test(e):t.value===e}))},d=null;_satellite.getVisitorId=function(){return d},l(n.location.pathname)?r.logger.warn("MCID library not loaded. One of the path exclusions matches the current path."):d=c(s),e.exports=d},name:"mcid-instance",shared:!0},"adobe-mcid/src/lib/codeLibrary/VisitorAPI.js":{script:function(e){e.exports=(function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function a(){return{callbacks:{},add:function(e,t){this.callbacks[e]=this.callbacks[e]||[];var a=this.callbacks[e].push(t)-1,r=this;return function(){r.callbacks[e].splice(a,1)}},execute:function(e,t){if(this.callbacks[e]){t=(t=void 0===t?[]:t)instanceof Array?t:[t];try{for(;this.callbacks[e].length;){var a=this.callbacks[e].shift();"function"==typeof a?a.apply(null,t):a instanceof Array&&a[1].apply(a[0],t)}delete this.callbacks[e]}catch(e){}}},executeAll:function(e,t){(t||e&&!E.isObjectEmpty(e))&&Object.keys(this.callbacks).forEach((function(t){var a=void 0!==e[t]?e[t]:"";this.execute(t,a)}),this)},hasCallbacks:function(){return Boolean(Object.keys(this.callbacks).length)}}}function r(e,t,a){var r=null==e?void 0:e[t];return void 0===r?a:r}function n(e){for(var t=/^\d+$/,a=0,r=e.length;a<r;a++)if(!t.test(e[a]))return!1;return!0}function s(e,t){for(;e.length<t.length;)e.push("0");for(;t.length<e.length;)t.push("0")}function o(e,t){for(var a=0;a<e.length;a++){var r=parseInt(e[a],10),n=parseInt(t[a],10);if(r>n)return 1;if(n>r)return-1}return 0}function i(e,t){if(e===t)return 0;var a=e.toString().split("."),r=t.toString().split(".");return n(a.concat(r))?(s(a,r),o(a,r)):NaN}function c(e){return e===Object(e)&&0===Object.keys(e).length}function l(e){return"function"==typeof e||e instanceof Array&&e.length}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};this.log=de("log",e,t),this.warn=de("warn",e,t),this.error=de("error",e,t)}function u(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).cookieName,t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).cookies;if(!e||!t)return{get:we,set:we,remove:we};var a={remove:function(){t.remove(e)},get:function(){var a=t.get(e),r={};try{r=JSON.parse(a)}catch(a){r={}}return r},set:function(r,n){n=n||{};var s=a.get(),o=Object.assign(s,r);t.set(e,JSON.stringify(o),{domain:n.optInCookieDomain||"",cookieLifetime:n.optInStorageExpiry||3419e4,expires:!0})}};return a}function m(e){this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}function p(){function e(e,t){var a=ge(e);return a.length?a.every((function(e){return!!t[e]})):he(t)}function t(){x(j),w(te.COMPLETE),h(g.status,g.permissions),i&&f.set(g.permissions,{optInCookieDomain:c,optInStorageExpiry:l}),v.execute(Se)}function a(e){return function(a,r){if(!ve(a))throw new Error("[OptIn] Invalid category(-ies). Please use the `OptIn.Categories` enum.");return w(te.CHANGED),Object.assign(j,_e(ge(a),e)),r||t(),g}}var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.doesOptInApply,s=r.previousPermissions,o=r.preOptInApprovals,i=r.isOptInStorageEnabled,c=r.optInCookieDomain,l=r.optInStorageExpiry,d=r.isIabContext,m=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).cookies,p=xe(s);Ie(p,"Invalid `previousPermissions`!"),Ie(o,"Invalid `preOptInApprovals`!");var f=u({cookieName:"adobeujs-optin"},{cookies:m}),g=this,h=ee(g),v=ie(),_=Pe(p),b=Pe(o),y=i?f.get():{},P={},k=function(e,t){return ke(e)||t&&ke(t)?te.COMPLETE:te.PENDING}(_,y),C=function(e,t,a){var r=_e(oe,!n);return n?Object.assign({},r,e,t,a):r}(b,_,y),j=be(C),w=function(e){return k=e},x=function(e){return C=e};g.deny=a(!1),g.approve=a(!0),g.denyAll=g.deny.bind(g,oe),g.approveAll=g.approve.bind(g,oe),g.isApproved=function(t){return e(t,g.permissions)},g.isPreApproved=function(t){return e(t,b)},g.fetchPermissions=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?g.on(te.COMPLETE,e):we;return!n||n&&g.isComplete||o?e(g.permissions):t||v.add(Se,(function(){return e(g.permissions)})),a},g.complete=function(){g.status===te.CHANGED&&t()},g.registerPlugin=function(e){if(!e||!e.name||"function"!=typeof e.onRegister)throw new Error(Re);P[e.name]||(P[e.name]=e,e.onRegister.call(e,g))},g.execute=Ee(P),g.memoizeContent=function(e){je(e)&&f.set(e,{optInCookieDomain:c,optInStorageExpiry:l})},g.getMemoizedContent=function(e){var t=f.get();if(t)return t[e]},Object.defineProperties(g,{permissions:{get:function(){return C}},status:{get:function(){return k}},Categories:{get:function(){return ae}},doesOptInApply:{get:function(){return!!n}},isPending:{get:function(){return g.status===te.PENDING}},isComplete:{get:function(){return g.status===te.COMPLETE}},__plugins:{get:function(){return Object.keys(P)}},isIabContext:{get:function(){return d}}})}function f(e,t){function a(){n=null,e.call(e,new m("The call took longer than you wanted!"))}function r(){n&&(clearTimeout(n),e.apply(e,arguments))}if(void 0===t)return e;var n=setTimeout(a,t);return r}function g(){if(window.__tcfapi)return window.__tcfapi;var e=window;if(e!==window.top){for(var t;!t;){e=e.parent;try{e.frames.__tcfapiLocator&&(t=e)}catch(e){}if(e===window.top)break}if(t){var a={};return window.__tcfapi=function(e,r,n,s){var o=Math.random()+"",i={__tcfapiCall:{command:e,parameter:s,version:r,callId:o}};a[o]=n,t.postMessage(i,"*")},window.addEventListener("message",(function(e){var t=e.data;if("string"==typeof t)try{t=JSON.parse(e.data)}catch(e){}if(t.__tcfapiReturn){var r=t.__tcfapiReturn;"function"==typeof a[r.callId]&&(a[r.callId](r.returnValue,r.success),delete a[r.callId])}}),!1),window.__tcfapi}pe.error("__tcfapi not found")}else pe.error("__tcfapi not found")}function h(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=!0===e.vendor.consents[t],n=a.every((function(t){return!0===e.purpose.consents[t]}));return r&&n}function v(){var e=this;e.name="iabPlugin",e.version="0.0.2";var t,a=ie(),r={transparencyAndConsentData:null},n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r[e]=t};e.fetchConsentData=function(e){var t=f(e.callback,e.timeout);s({callback:t})},e.isApproved=function(e){var t=e.callback,a=e.category,n=e.timeout;if(r.transparencyAndConsentData)return t(null,h(r.transparencyAndConsentData,re[a],ne[a]));var o=f((function(e,r){t(e,h(r,re[a],ne[a]))}),n);s({category:a,callback:o})},e.onRegister=function(a){t=a;var r=Object.keys(re),n=function(e,t){!e&&t&&(r.forEach((function(e){var r=h(t,re[e],ne[e]);a[r?"approve":"deny"](e,!0)})),a.complete())};e.fetchConsentData({callback:n})};var s=function(e){var s=e.callback;if(r.transparencyAndConsentData)return s(null,r.transparencyAndConsentData);a.add("FETCH_CONSENT_DATA",s),o((function(e,s){if(s){var o=be(e),i=t.getMemoizedContent("iabConsentHash"),c=me(o.tcString).toString(32);o.consentString=e.tcString,o.hasConsentChangedSinceLastCmpPull=i!==c,n("transparencyAndConsentData",o),t.memoizeContent({iabConsentHash:c})}a.execute("FETCH_CONSENT_DATA",[null,r.transparencyAndConsentData])}))},o=function(e){var t=Oe(re),a=g();"function"==typeof a&&a("getTCData",2,e,t)}}var _="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};Object.assign=Object.assign||function(e){for(var t,a,r=1;r<arguments.length;++r)for(t in a=arguments[r])Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t]);return e};var b,y,P={MESSAGES:{HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},STATE_KEYS_MAP:{MCMID:"MCMID",MCAID:"MCAID",MCAAMB:"MCAAMB",MCAAMLH:"MCAAMLH",MCOPTOUT:"MCOPTOUT",CUSTOMERIDS:"CUSTOMERIDS"},ASYNC_API_MAP:{MCMID:"getMarketingCloudVisitorID",MCAID:"getAnalyticsVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",ALLFIELDS:"getVisitorValues"},SYNC_API_MAP:{CUSTOMERIDS:"getCustomerIDs"},ALL_APIS:{MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",MCAID:"getAnalyticsVisitorID",CUSTOMERIDS:"getCustomerIDs",ALLFIELDS:"getVisitorValues"},FIELDGROUP_TO_FIELD:{MC:"MCMID",A:"MCAID",AAM:"MCAAMB"},FIELDS:{MCMID:"MCMID",MCOPTOUT:"MCOPTOUT",MCAID:"MCAID",MCAAMLH:"MCAAMLH",MCAAMB:"MCAAMB"},AUTH_STATE:{UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},OPT_OUT:{GLOBAL:"global"},SAME_SITE_VALUES:{LAX:"Lax",STRICT:"Strict",NONE:"None"}},k=P.STATE_KEYS_MAP,C=function(e){function t(){}function a(t,a){var r=this;return function(){var n=e(0,t),s={};return s[t]=n,r.setStateAndPublish(s),a(n),n}}this.getMarketingCloudVisitorID=function(e){e=e||t;var r=this.findField(k.MCMID,e),n=a.call(this,k.MCMID,e);return void 0!==r?r:n()},this.getVisitorValues=function(e){this.getMarketingCloudVisitorID((function(t){e({MCMID:t})}))}},j=P.MESSAGES,w=P.ASYNC_API_MAP,x=P.SYNC_API_MAP,I=function(){function e(){}function t(e,t){var a=this;return function(){return a.callbackRegistry.add(e,t),a.messageParent(j.GETSTATE),""}}function a(a){this[w[a]]=function(r){r=r||e;var n=this.findField(a,r),s=t.call(this,a,r);return void 0!==n?n:s()}}function r(t){this[x[t]]=function(){return this.findField(t,e)||{}}}Object.keys(w).forEach(a,this),Object.keys(x).forEach(r,this)},V=P.ASYNC_API_MAP,O=function(){Object.keys(V).forEach((function(e){this[V[e]]=function(t){this.callbackRegistry.add(e,t)}}),this)},E=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(t,a){a.isObjectEmpty=function(e){return e===Object(e)&&0===Object.keys(e).length},a.isValueEmpty=function(e){return""===e||a.isObjectEmpty(e)};var r=function(){var e=navigator.appName,t=navigator.userAgent;return"Microsoft Internet Explorer"===e||t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0&&t.indexOf("Windows NT 6")>=0};a.getIeVersion=function(){return document.documentMode?document.documentMode:r()?7:null},a.encodeAndBuildRequest=function(e,t){return e.map(encodeURIComponent).join(t)},a.isObject=function(t){return null!==t&&"object"===e(t)&&!1===Array.isArray(t)},a.defineGlobalNamespace=function(){return window.adobe=a.isObject(window.adobe)?window.adobe:{},window.adobe},a.pluck=function(e,t){return t.reduce((function(t,a){return e[a]&&(t[a]=e[a]),t}),Object.create(null))},a.parseOptOut=function(e,t,a){t||(t=a,e.d_optout&&e.d_optout instanceof Array&&(t=e.d_optout.join(",")));var r=parseInt(e.d_ottl,10);return isNaN(r)&&(r=7200),{optOut:t,d_ottl:r}},a.normalizeBoolean=function(e){var t=e;return"true"===e?t=!0:"false"===e&&(t=!1),t}})),S=(E.isObjectEmpty,E.isValueEmpty,E.getIeVersion,E.encodeAndBuildRequest,E.isObject,E.defineGlobalNamespace,E.pluck,E.parseOptOut,E.normalizeBoolean,a),R=P.MESSAGES,L={0:"prefix",1:"orgID",2:"state"},T=function(e,t){this.parse=function(e){try{var t={};return e.data.split("|").forEach((function(e,a){void 0!==e&&(t[L[a]]=2!==a?e:JSON.parse(e))})),t}catch(e){}},this.isInvalid=function(a){var r=this.parse(a);if(!r||Object.keys(r).length<2)return!0;var n=e!==r.orgID,s=!t||a.origin!==t,o=-1===Object.keys(R).indexOf(r.prefix);return n||s||o},this.send=function(a,r,n){var s=r+"|"+e;n&&n===Object(n)&&(s+="|"+JSON.stringify(n));try{a.postMessage(s,t)}catch(e){}}},A=P.MESSAGES,D=function(e,t,a,r){function n(e){Object.assign(p,e)}function s(e){Object.assign(p.state,e),Object.assign(p.state.ALLFIELDS,e),p.callbackRegistry.executeAll(p.state)}function o(e){if(!h.isInvalid(e)){g=!1;var t=h.parse(e);p.setStateAndPublish(t.state)}}function i(e){!g&&f&&(g=!0,h.send(r,e))}function c(){n(new C(a._generateID)),p.getMarketingCloudVisitorID(),p.callbackRegistry.executeAll(p.state,!0),_.removeEventListener("message",l)}function l(e){if(!h.isInvalid(e)){var t=h.parse(e);g=!1,_.clearTimeout(p._handshakeTimeout),_.removeEventListener("message",l),n(new I(p)),_.addEventListener("message",o),p.setStateAndPublish(t.state),p.callbackRegistry.hasCallbacks()&&i(A.GETSTATE)}}function d(){f&&postMessage?(_.addEventListener("message",l),i(A.HANDSHAKE),p._handshakeTimeout=setTimeout(c,250)):c()}function u(){_.s_c_in||(_.s_c_il=[],_.s_c_in=0),p._c="Visitor",p._il=_.s_c_il,p._in=_.s_c_in,p._il[p._in]=p,_.s_c_in++}function m(){function e(e){0!==e.indexOf("_")&&"function"==typeof a[e]&&(p[e]=function(){})}Object.keys(a).forEach(e),p.getSupplementalDataID=a.getSupplementalDataID,p.isAllowed=function(){return!0}}var p=this,f=t.whitelistParentDomain;p.state={ALLFIELDS:{}},p.version=a.version,p.marketingCloudOrgID=e,p.cookieDomain=a.cookieDomain||"",p._instanceType="child";var g=!1,h=new T(e,f);p.callbackRegistry=S(),p.init=function(){u(),m(),n(new O(p)),d()},p.findField=function(e,t){if(void 0!==p.state[e])return t(p.state[e]),p.state[e]},p.messageParent=i,p.setStateAndPublish=s},M=P.MESSAGES,N=P.ALL_APIS,q=P.ASYNC_API_MAP,F=P.FIELDGROUP_TO_FIELD,U=function(e,t){function a(){var t={};return Object.keys(N).forEach((function(a){var r=N[a],n=e[r]();E.isValueEmpty(n)||(t[a]=n)})),t}function r(){var t=[];return e._loading&&Object.keys(e._loading).forEach((function(a){if(e._loading[a]){var r=F[a];t.push(r)}})),t.length?t:null}function n(t){return function a(){var n=r();if(n){var s=q[n[0]];e[s](a,!0)}else t()}}function s(e,r){var n=a();t.send(e,r,n)}function o(e){c(e),s(e,M.HANDSHAKE)}function i(e){n((function(){s(e,M.PARENTSTATE)}))()}function c(a){function r(r){n.call(e,r),t.send(a,M.PARENTSTATE,{CUSTOMERIDS:e.getCustomerIDs()})}var n=e.setCustomerIDs;e.setCustomerIDs=r}return function(e){t.isInvalid(e)||(t.parse(e).prefix===M.HANDSHAKE?o:i)(e.source)}},B=function(e,t){function a(e){return function(a){r[e]=a,++n===s&&t(r)}}var r={},n=0,s=Object.keys(e).length;Object.keys(e).forEach((function(t){var r=e[t];if(r.fn){var n=r.args||[];n.unshift(a(t)),r.fn.apply(r.context||null,n)}}))},G={get:function(e){e=encodeURIComponent(e);var t=(";"+document.cookie).split(" ").join(";"),a=t.indexOf(";"+e+"="),r=a<0?a:t.indexOf(";",a+1);return a<0?"":decodeURIComponent(t.substring(a+2+e.length,r<0?t.length:r))},set:function(e,t,a){var n=r(a,"cookieLifetime"),s=r(a,"expires"),o=r(a,"domain"),i=r(a,"secure"),c=r(a,"sameSite"),l=i?"Secure":"",d=c?"SameSite="+c+";":"";if(s&&"SESSION"!==n&&"NONE"!==n){var u=""!==t?parseInt(n||0,10):-60;if(u)(s=new Date).setTime(s.getTime()+1e3*u);else if(1===s){var m=(s=new Date).getYear();s.setYear(m+2+(m<1900?1900:0))}}else s=0;return e&&"NONE"!==n?(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(s?" expires="+s.toGMTString()+";":"")+(o?" domain="+o+";":"")+d+l,this.get(e)===t):0},remove:function(e,t){var a=r(t,"domain");a=a?" domain="+a+";":"";var n=r(t,"secure"),s=r(t,"sameSite"),o=n?"Secure":"",i=s?"SameSite="+s+";":"";document.cookie=encodeURIComponent(e)+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"+a+i+o}},H=function(e,t){!e&&_.location&&(e=_.location.hostname);var a,r=e.split("."),n=t||{};for(a=r.length-2;a>=0;a--)if(n.domain=r.slice(a).join("."),G.set("test","cookie",n))return G.remove("test",n),n.domain;return""},J={compare:i,isLessThan:function(e,t){return i(e,t)<0},areVersionsDifferent:function(e,t){return 0!==i(e,t)},isGreaterThan:function(e,t){return i(e,t)>0},isEqual:function(e,t){return 0===i(e,t)}},z=!!_.postMessage,W={postMessage:function(e,t,a){var r=1;t&&(z?a.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(a.location=t.replace(/#.*$/,"")+"#"+ +new Date+r+++"&"+e))},receiveMessage:function(e,t){var a;try{z&&(e&&(a=function(a){if("string"==typeof t&&a.origin!==t||"[object Function]"===Object.prototype.toString.call(t)&&!1===t(a.origin))return!1;e(a)}),_.addEventListener?_[e?"addEventListener":"removeEventListener"]("message",a):_[e?"attachEvent":"detachEvent"]("onmessage",a))}catch(e){}}},$=function(e){var t,a,r="0123456789",n="",s="",o=8,i=10,c=10;if(1==e){for(r+="ABCDEF",t=0;16>t;t++)a=Math.floor(Math.random()*o),n+=r.substring(a,a+1),a=Math.floor(Math.random()*o),s+=r.substring(a,a+1),o=16;return n+"-"+s}for(t=0;19>t;t++)a=Math.floor(Math.random()*i),n+=r.substring(a,a+1),0===t&&9==a?i=3:((1==t||2==t)&&10!=i&&2>a||2<t)&&(i=10),a=Math.floor(Math.random()*c),s+=r.substring(a,a+1),0===t&&9==a?c=3:((1==t||2==t)&&10!=c&&2>a||2<t)&&(c=10);return n+s},Q=function(e){return{corsMetadata:function(){var e="none",t=!0;return"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?e="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(t=!1),Object.prototype.toString.call(_.HTMLElement).indexOf("Constructor")>0&&(t=!1)),{corsType:e,corsCookiesEnabled:t}}(),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new _[this.corsMetadata.corsType]},fireCORS:function(t,a){function r(e){var a;try{if((a=JSON.parse(e))!==Object(a))return void n.handleCORSError(t,null,"Response is not JSON")}catch(e){return void n.handleCORSError(t,e,"Error parsing response as JSON")}try{for(var r=t.callback,s=_,o=0;o<r.length;o++)s=s[r[o]];s(a)}catch(e){n.handleCORSError(t,e,"Error forming callback function")}}var n=this;a&&(t.loadErrorHandler=a);try{var s=this.getCORSInstance();s.open("get",t.corsUrl+"&ts="+(new Date).getTime(),!0),
"XMLHttpRequest"===this.corsMetadata.corsType&&(s.withCredentials=!0,s.timeout=e.loadTimeout,s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.onreadystatechange=function(){4===this.readyState&&200===this.status&&r(this.responseText)}),s.onerror=function(e){n.handleCORSError(t,e,"onerror")},s.ontimeout=function(e){n.handleCORSError(t,e,"ontimeout")},s.send(),e._log.requests.push(t.corsUrl)}catch(e){this.handleCORSError(t,e,"try-catch")}},handleCORSError:function(t,a,r){e.CORSErrors.push({corsData:t,error:a,description:r}),t.loadErrorHandler&&("ontimeout"===r?t.loadErrorHandler(!0):t.loadErrorHandler(!1))}}},K={POST_MESSAGE_ENABLED:!!_.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:864e5,ADOBE_MC:"adobe_mc",ADOBE_MC_SDID:"adobe_mc_sdid",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\-]+$/,ADOBE_MC_TTL_IN_MIN:5,VERSION_REGEX:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/,FIRST_PARTY_SERVER_COOKIE:"s_ecid"},Y=function(e,t){var a=_.document;return{THROTTLE_START:3e4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,getIframeHost:function(e){if("string"==typeof e){var t=e.split("/");return t[0]+"//"+t[2]}},subdomain:null,url:null,getUrl:function(){var t,r="http://fast.",n="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(a.location.origin);return this.subdomain||(this.subdomain="nosubdomainreturned"),e.loadSSL&&(r=e.idSyncSSLUseAkamai?"https://fast.":"https://"),t=r+this.subdomain+".demdex.net/dest5.html"+n,this.iframeHost=this.getIframeHost(t),this.id="destination_publishing_iframe_"+this.subdomain+"_"+e.idSyncContainerID,t},checkDPIframeSrc:function(){var t="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(a.location.href);"string"==typeof e.dpIframeSrc&&e.dpIframeSrc.length&&(this.id="destination_publishing_iframe_"+(e._subdomain||this.subdomain||(new Date).getTime())+"_"+e.idSyncContainerID,this.iframeHost=this.getIframeHost(e.dpIframeSrc),this.url=e.dpIframeSrc+t)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,iframeLoadedCallbacks:[],regionChanged:!1,timesRegionChanged:0,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:K.POST_MESSAGE_ENABLED?null:100,onPageDestinationsFired:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,readyToAttachIframePreliminary:function(){return!(e.idSyncDisableSyncs||e.disableIdSyncs||e.idSyncDisable3rdPartySyncing||e.disableThirdPartyCookies||e.disableThirdPartyCalls)},readyToAttachIframe:function(){return this.readyToAttachIframePreliminary()&&(this.doAttachIframe||e._doAttachIframe)&&(this.subdomain&&"nosubdomainreturned"!==this.subdomain||e._subdomain)&&this.url&&!this.startedAttachingIframe},attachIframe:function(){function e(){(n=a.createElement("iframe")).sandbox="allow-scripts allow-same-origin",n.title="Adobe ID Syncing iFrame",n.id=r.id,n.name=r.id+"_name",n.style.cssText="display: none; width: 0; height: 0;",n.src=r.url,r.newIframeCreated=!0,t(),a.body.appendChild(n)}function t(e){n.addEventListener("load",(function(){n.className="aamIframeLoaded",r.iframeHasLoaded=!0,r.fireIframeLoadedCallbacks(e),r.requestToProcess()}))}this.startedAttachingIframe=!0;var r=this,n=a.getElementById(this.id);n?"IFRAME"!==n.nodeName?(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==n.className?(this.originalIframeHasLoadedAlready=!1,t("The destination publishing iframe already exists from a different library, but hadn't loaded yet.")):(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=n,this.fireIframeLoadedCallbacks("The destination publishing iframe already exists from a different library, and had loaded alresady."),this.requestToProcess())):e(),this.iframe=n},fireIframeLoadedCallbacks:function(e){this.iframeLoadedCallbacks.forEach((function(t){"function"==typeof t&&t({message:e||"The destination publishing iframe was attached and loaded successfully."})})),this.iframeLoadedCallbacks=[]},requestToProcess:function(t){function a(){n.jsonForComparison.push(t),n.jsonWaiting.push(t),n.processSyncOnPage(t)}var r,n=this;if(t===Object(t)&&t.ibs)if(r=JSON.stringify(t.ibs||[]),this.jsonForComparison.length){var s,o,i,c=!1;for(s=0,o=this.jsonForComparison.length;s<o;s++)if(i=this.jsonForComparison[s],r===JSON.stringify(i.ibs||[])){c=!0;break}c?this.jsonDuplicates.push(t):a()}else a();if((this.receivedThirdPartyCookiesNotification||!K.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var l=this.jsonWaiting.shift();this.process(l),this.requestToProcess()}e.idSyncDisableSyncs||e.disableIdSyncs||!this.iframeHasLoaded||!this.messages.length||this.sendingMessages||(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout((function(){n.messageSendingInterval=K.POST_MESSAGE_ENABLED?null:150}),this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},getRegionAndCheckIfChanged:function(t,a){var r=e._getField("MCAAMLH"),n=t.d_region||t.dcs_region;return r?n&&(e._setFieldExpire("MCAAMLH",a),e._setField("MCAAMLH",n),parseInt(r,10)!==n&&(this.regionChanged=!0,this.timesRegionChanged++,e._setField("MCSYNCSOP",""),e._setField("MCSYNCS",""),r=n)):(r=n)&&(e._setFieldExpire("MCAAMLH",a),e._setField("MCAAMLH",r)),r||(r=""),r},processSyncOnPage:function(e){var t,a,r,n;if((t=e.ibs)&&t instanceof Array&&(a=t.length))for(r=0;r<a;r++)(n=t[r]).syncOnPage&&this.checkFirstPartyCookie(n,"","syncOnPage")},process:function(e){var t,a,r,n,s,o=encodeURIComponent,i=!1;if((t=e.ibs)&&t instanceof Array&&(a=t.length))for(i=!0,r=0;r<a;r++)n=t[r],s=[o("ibs"),o(n.id||""),o(n.tag||""),E.encodeAndBuildRequest(n.url||[],","),o(n.ttl||""),"","",n.fireURLSync?"true":"false"],n.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(s.join("|")):n.fireURLSync&&this.checkFirstPartyCookie(n,s.join("|")));i&&this.jsonProcessed.push(e)},checkFirstPartyCookie:function(t,a,r){var n="syncOnPage"===r,s=n?"MCSYNCSOP":"MCSYNCS";e._readVisitor();var o,i,c=e._getField(s),l=!1,d=!1,u=Math.ceil((new Date).getTime()/K.MILLIS_PER_DAY);c?(o=c.split("*"),l=(i=this.pruneSyncData(o,t.id,u)).dataPresent,d=i.dataValid,l&&d||this.fireSync(n,t,a,o,s,u)):(o=[],this.fireSync(n,t,a,o,s,u))},pruneSyncData:function(e,t,a){var r,n,s,o=!1,i=!1;for(n=0;n<e.length;n++)r=e[n],s=parseInt(r.split("-")[1],10),r.match("^"+t+"-")?(o=!0,a<s?i=!0:(e.splice(n,1),n--)):a>=s&&(e.splice(n,1),n--);return{dataPresent:o,dataValid:i}},manageSyncsSize:function(e){if(e.join("*").length>this.MAX_SYNCS_LENGTH)for(e.sort((function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)}));e.join("*").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(t,a,r,n,s,o){var i=this;if(t){if("img"===a.tag){var c,l,d,u,m=a.url,p=e.loadSSL?"https:":"http:";for(c=0,l=m.length;c<l;c++){d=m[c],u=/^\/\//.test(d);var f=new Image;f.addEventListener("load",function(t,a,r,n){return function(){i.onPagePixels[t]=null,e._readVisitor();var o,c,l,d,u=e._getField(s),m=[];if(u)for(c=0,l=(o=u.split("*")).length;c<l;c++)(d=o[c]).match("^"+a.id+"-")||m.push(d);i.setSyncTrackingData(m,a,r,n)}}(this.onPagePixels.length,a,s,o)),f.src=(u?p:"")+d,this.onPagePixels.push(f)}}}else this.addMessage(r),this.setSyncTrackingData(n,a,s,o)},addMessage:function(t){var a=encodeURIComponent(e._enableErrorReporting?"---destpub-debug---":"---destpub---");this.messages.push((K.POST_MESSAGE_ENABLED?"":a)+t)},setSyncTrackingData:function(t,a,r,n){t.push(a.id+"-"+(n+Math.ceil(a.ttl/60/24))),this.manageSyncsSize(t),e._setField(r,t.join("*"))},sendMessages:function(){var e,t=this,a="",r=encodeURIComponent;this.regionChanged&&(a=r("---destpub-clear-dextp---"),this.regionChanged=!1),this.messages.length?K.POST_MESSAGE_ENABLED?(e=a+r("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(a+e),setTimeout((function(){t.sendMessages()}),this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(e){W.postMessage(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t,a=/^---destpub-to-parent---/;"string"==typeof e&&a.test(e)&&("canSetThirdPartyCookies"===(t=e.replace(a,"").split("|"))[0]&&(this.canSetThirdPartyCookies="true"===t[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(r){(null==this.url||r.subdomain&&"nosubdomainreturned"===this.subdomain)&&("string"==typeof e._subdomain&&e._subdomain.length?this.subdomain=e._subdomain:this.subdomain=r.subdomain||"",this.url=this.getUrl()),r.ibs instanceof Array&&r.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(e.idSyncAttachIframeOnWindowLoad?(t.windowLoaded||"complete"===a.readyState||"loaded"===a.readyState)&&this.attachIframe():this.attachIframeASAP()),"function"==typeof e.idSyncIDCallResult?e.idSyncIDCallResult(r):this.requestToProcess(r),"function"==typeof e.idSyncAfterIDCallResult&&e.idSyncAfterIDCallResult(r)},canMakeSyncIDCall:function(t,a){return e._forceSyncIDCall||!t||a-t>K.DAYS_BETWEEN_SYNC_ID_CALLS},attachIframeASAP:function(){function e(){t.startedAttachingIframe||(a.body?t.attachIframe():setTimeout(e,30))}var t=this;e()}}},X={audienceManagerServer:{},audienceManagerServerSecure:{},cookieDomain:{},cookieLifetime:{},cookieName:{},doesOptInApply:{type:"boolean"},disableThirdPartyCalls:{type:"boolean"},discardTrackingServerECID:{type:"boolean"},idSyncAfterIDCallResult:{},idSyncAttachIframeOnWindowLoad:{type:"boolean"},idSyncContainerID:{},idSyncDisable3rdPartySyncing:{type:"boolean"},disableThirdPartyCookies:{type:"boolean"},idSyncDisableSyncs:{type:"boolean"},disableIdSyncs:{type:"boolean"},idSyncIDCallResult:{},idSyncSSLUseAkamai:{type:"boolean"},isCoopSafe:{type:"boolean"},isIabContext:{type:"boolean"},isOptInStorageEnabled:{type:"boolean"},loadSSL:{type:"boolean"},loadTimeout:{},marketingCloudServer:{},marketingCloudServerSecure:{},optInCookieDomain:{},optInStorageExpiry:{},overwriteCrossDomainMCIDAndAID:{type:"boolean"},preOptInApprovals:{},previousPermissions:{},resetBeforeVersion:{},sdidParamExpiry:{},serverState:{},sessionCookieName:{},secureCookie:{type:"boolean"},sameSiteCookie:{},takeTimeoutMetrics:{},trackingServer:{},trackingServerSecure:{},useLocalStorage:{type:"boolean"},whitelistIframeDomains:{},whitelistParentDomain:{}},Z={getConfigNames:function(){return Object.keys(X)},getConfigs:function(){return X},normalizeConfig:function(e,t){return X[e]&&"boolean"===X[e].type?"function"!=typeof t?t:t():t}},ee=function(e){var t={};return e.on=function(e,a,r){if(!a||"function"!=typeof a)throw new Error("[ON] Callback should be a function.");t.hasOwnProperty(e)||(t[e]=[]);var n=t[e].push({callback:a,context:r})-1;return function(){t[e].splice(n,1),t[e].length||delete t[e]}},e.off=function(e,a){t.hasOwnProperty(e)&&(t[e]=t[e].filter((function(e){if(e.callback!==a)return e})))},e.publish=function(e){if(t.hasOwnProperty(e)){var a=[].slice.call(arguments,1);t[e].slice(0).forEach((function(e){e.callback.apply(e.context,a)}))}},e.publish},te={PENDING:"pending",CHANGED:"changed",COMPLETE:"complete"},ae={AAM:"aam",ADCLOUD:"adcloud",ANALYTICS:"aa",CAMPAIGN:"campaign",ECID:"ecid",LIVEFYRE:"livefyre",TARGET:"target",MEDIA_ANALYTICS:"mediaaa"},re=(t(b={},ae.AAM,565),t(b,ae.ECID,565),b),ne=(t(y={},ae.AAM,[1,10]),t(y,ae.ECID,[1,10]),y),se=["videoaa","iabConsentHash"],oe=function(e){return Object.keys(e).map((function(t){return e[t]}))}(ae),ie=function(){var e={};return e.callbacks=Object.create(null),e.add=function(t,a){if(!l(a))throw new Error("[callbackRegistryFactory] Make sure callback is a function or an array of functions.");e.callbacks[t]=e.callbacks[t]||[];var r=e.callbacks[t].push(a)-1;return function(){e.callbacks[t].splice(r,1)}},e.execute=function(t,a){if(e.callbacks[t]){a=(a=void 0===a?[]:a)instanceof Array?a:[a];try{for(;e.callbacks[t].length;){var r=e.callbacks[t].shift();"function"==typeof r?r.apply(null,a):r instanceof Array&&r[1].apply(r[0],a)}delete e.callbacks[t]}catch(e){}}},e.executeAll=function(t,a){(a||t&&!c(t))&&Object.keys(e.callbacks).forEach((function(a){var r=void 0!==t[a]?t[a]:"";e.execute(a,r)}),e)},e.hasCallbacks=function(){return Boolean(Object.keys(e.callbacks).length)},e},ce=function(){},le=function(e){var t=window.console;return!!t&&"function"==typeof t[e]},de=function(e,t,a){return a()?function(){if(le(e)){for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];console[e].apply(console,[t].concat(r))}}:ce},ue=d,me=function(){for(var e=[],t=0;t<256;t++){for(var a=t,r=0;r<8;r++)a=1&a?3988292384^a>>>1:a>>>1;e.push(a)}return function(t,a){t=unescape(encodeURIComponent(t)),a||(a=0),a^=-1;for(var r=0;r<t.length;r++){var n=255&(a^t.charCodeAt(r));a=a>>>8^e[n]}return(a^=-1)>>>0}}(),pe=new ue("[ADOBE OPT-IN]"),fe=function(t,a){return e(t)===a},ge=function(e,t){return e instanceof Array?e:fe(e,"string")?[e]:t||[]},he=function(e){var t=Object.keys(e);return!!t.length&&t.every((function(t){return!0===e[t]}))},ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(!e||ye(e))&&ge(e).every((function(e){return oe.indexOf(e)>-1||t&&se.indexOf(e)>-1}))},_e=function(e,t){return e.reduce((function(e,a){return e[a]=t,e}),{})},be=function(e){return JSON.parse(JSON.stringify(e))},ye=function(e){return"[object Array]"===Object.prototype.toString.call(e)&&!e.length},Pe=function(e){if(je(e))return e;try{return JSON.parse(e)}catch(e){return{}}},ke=function(e){return void 0===e||(je(e)?ve(Object.keys(e),!0):Ce(e))},Ce=function(e){try{var t=JSON.parse(e);return!!e&&fe(e,"string")&&ve(Object.keys(t),!0)}catch(e){return!1}},je=function(e){return null!==e&&fe(e,"object")&&!1===Array.isArray(e)},we=function(){},xe=function(e){return fe(e,"function")?e():e},Ie=function(e,t){ke(e)||pe.error("".concat(t))},Ve=function(e){return Object.keys(e).map((function(t){return e[t]}))},Oe=function(e){return Ve(e).filter((function(e,t,a){return a.indexOf(e)===t}))},Ee=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.command,r=t.params,n=void 0===r?{}:r,s=t.callback,o=void 0===s?we:s;if(!a||-1===a.indexOf("."))throw new Error("[OptIn.execute] Please provide a valid command.");try{var i=a.split("."),c=e[i[0]],l=i[1];if(!c||"function"!=typeof c[l])throw new Error("Make sure the plugin and API name exist.");var d=Object.assign(n,{callback:o});c[l].call(c,d)}catch(e){pe.error("[execute] Something went wrong: "+e.message)}}};m.prototype=Object.create(Error.prototype),m.prototype.constructor=m;var Se="fetchPermissions",Re="[OptIn#registerPlugin] Plugin is invalid.";p.Categories=ae,p.TimeoutError=m;var Le=Object.freeze({OptIn:p,IabPlugin:v}),Te=function(e,t){e.publishDestinations=function(a){var r=arguments[1],n=arguments[2];try{n="function"==typeof n?n:a.callback}catch(e){n=function(){}}var s=t;if(s.readyToAttachIframePreliminary()){if("string"==typeof a){if(!a.length)return void n({error:"subdomain is not a populated string."});if(!(r instanceof Array&&r.length))return void n({error:"messages is not a populated array."});var o=!1;if(r.forEach((function(e){"string"==typeof e&&e.length&&(s.addMessage(e),o=!0)})),!o)return void n({error:"None of the messages are populated strings."})}else{if(!E.isObject(a))return void n({error:"Invalid parameters passed."});var i=a;if("string"!=typeof(a=i.subdomain)||!a.length)return void n({error:"config.subdomain is not a populated string."});var c=i.urlDestinations;if(!(c instanceof Array&&c.length))return void n({error:"config.urlDestinations is not a populated array."});var l=[];c.forEach((function(e){E.isObject(e)&&(e.hideReferrer?e.message&&s.addMessage(e.message):l.push(e))})),function e(){l.length&&setTimeout((function(){var t=new Image,a=l.shift();t.src=a.url,s.onPageDestinationsFired.push(a),e()}),100)}()}s.iframe?(n({message:"The destination publishing iframe is already attached and loaded."}),s.requestToProcess()):!e.subdomain&&e._getField("MCMID")?(s.subdomain=a,s.doAttachIframe=!0,s.url=s.getUrl(),s.readyToAttachIframe()?(s.iframeLoadedCallbacks.push((function(e){n({message:"Attempted to attach and load the destination publishing iframe through this API call. Result: "+(e.message||"no result")})})),s.attachIframe()):n({error:"Encountered a problem in attempting to attach and load the destination publishing iframe through this API call."})):s.iframeLoadedCallbacks.push((function(e){n({message:"Attempted to attach and load the destination publishing iframe through normal Visitor API processing. Result: "+(e.message||"no result")})}))}else n({error:"The destination publishing iframe is disabled in the Visitor library."})}},Ae=function e(t){function a(e,t){return e>>>t|e<<32-t}for(var r,n,s=Math.pow,o=s(2,32),i="",c=[],l=8*t.length,d=e.h=e.h||[],u=e.k=e.k||[],m=u.length,p={},f=2;m<64;f++)if(!p[f]){for(r=0;r<313;r+=f)p[r]=f;d[m]=s(f,.5)*o|0,u[m++]=s(f,1/3)*o|0}for(t+="\x80";t.length%64-56;)t+="\0";for(r=0;r<t.length;r++){if((n=t.charCodeAt(r))>>8)return;c[r>>2]|=n<<(3-r)%4*8}for(c[c.length]=l/o|0,c[c.length]=l,n=0;n<c.length;){var g=c.slice(n,n+=16),h=d;for(d=d.slice(0,8),r=0;r<64;r++){var v=g[r-15],_=g[r-2],b=d[0],y=d[4],P=d[7]+(a(y,6)^a(y,11)^a(y,25))+(y&d[5]^~y&d[6])+u[r]+(g[r]=r<16?g[r]:g[r-16]+(a(v,7)^a(v,18)^v>>>3)+g[r-7]+(a(_,17)^a(_,19)^_>>>10)|0);(d=[P+((a(b,2)^a(b,13)^a(b,22))+(b&d[1]^b&d[2]^d[1]&d[2]))|0].concat(d))[4]=d[4]+P|0}for(r=0;r<8;r++)d[r]=d[r]+h[r]|0}for(r=0;r<8;r++)for(n=3;n+1;n--){var k=d[r]>>8*n&255;i+=(k<16?0:"")+k.toString(16)}return i},De=function(e,t){return"SHA-256"!==t&&"SHA256"!==t&&"sha256"!==t&&"sha-256"!==t||(e=Ae(e)),e},Me=function(e){return String(e).trim().toLowerCase()},Ne=Le.OptIn;E.defineGlobalNamespace(),window.adobe.OptInCategories=Ne.Categories;var qe=function(t,a,r){function n(){b._customerIDsHashChanged=!1}function s(e){var t=e;return function(e){var a=e||x.location.href;try{var r=b._extractParamFromUri(a,t);if(r)return te.parsePipeDelimetedKeyValues(r)}catch(e){}}}function o(e){function t(e,t,a){e&&e.match(K.VALID_VISITOR_ID_REGEX)&&(a===R&&(w=!0),t(e))}t(e[R],b.setMarketingCloudVisitorID,R),b._setFieldExpire(N,-1),t(e[D],b.setAnalyticsVisitorID)}function i(e){e=e||{},b._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",b._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},b._supplementalDataIDLast=e.supplementalDataIDLast||"",b._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function c(e){function t(e,t,a){return(a=a?a+="|":a)+(e+"=")+encodeURIComponent(t)}function a(e,a){var r=a[0],n=a[1];return null!=n&&n!==q&&(e=t(r,n,e)),e}return function(e){return(e=e?e+="|":e)+"TS="+te.getTimestampInSeconds()}(e.reduce(a,""))}function l(e){var t=e.minutesToLive,a="";return(b.idSyncDisableSyncs||b.disableIdSyncs)&&(a=a||"Error: id syncs have been disabled"),"string"==typeof e.dpid&&e.dpid.length||(a=a||"Error: config.dpid is empty"),"string"==typeof e.url&&e.url.length||(a=a||"Error: config.url is empty"),void 0===t?t=20160:(t=parseInt(t,10),(isNaN(t)||t<=0)&&(a=a||"Error: config.minutesToLive needs to be a positive number")),{error:a,ttl:t}}function d(){return!(!b.configs.doesOptInApply||y.optIn.isComplete&&u())}function u(){return b.configs.doesOptInApply&&b.configs.isIabContext?y.optIn.isApproved(y.optIn.Categories.ECID)&&j:y.optIn.isApproved(y.optIn.Categories.ECID)}function m(){[["getMarketingCloudVisitorID"],["setCustomerIDs",void 0],["syncIdentity",void 0],["getAnalyticsVisitorID"],["getAudienceManagerLocationHint"],["getLocationHint"],["getAudienceManagerBlob"]].forEach((function(e){var t=e[0],a=2===e.length?e[1]:"",r=b[t];b[t]=function(e){return u()&&b.isAllowed()?r.apply(b,arguments):("function"==typeof e&&b._callCallback(e,[a]),a)}}))}function p(){var e=b._getAudienceManagerURLData(),t=e.url;return b._loadData(S,t,null,e)}function f(e,t){if(j=!0,e)throw new Error("[IAB plugin] : "+e);t&&t.gdprApplies&&(k=t.consentString,C=t.hasConsentChangedSinceLastCmpPull?1:0),p(),v()}function g(e,t){if(j=!0,e)throw new Error("[IAB plugin] : "+e);t.gdprApplies&&(k=t.consentString,C=t.hasConsentChangedSinceLastCmpPull?1:0),b.init(),v()}function h(){y.optIn.isComplete&&(y.optIn.isApproved(y.optIn.Categories.ECID)?b.configs.isIabContext?y.optIn.execute({command:"iabPlugin.fetchConsentData",callback:g}):(b.init(),v()):b.configs.isIabContext?y.optIn.execute({command:"iabPlugin.fetchConsentData",callback:f}):(m(),v()))}function v(){y.optIn.off("complete",h)}if(!r||r.split("").reverse().join("")!==t)throw new Error("Please use `Visitor.getInstance` to instantiate Visitor.");var b=this,y=window.adobe,k="",C=0,j=!1,w=!1;b.version="5.2.0";var x=_,I=x.Visitor;I.version=b.version,I.AuthState=P.AUTH_STATE,I.OptOut=P.OPT_OUT,x.s_c_in||(x.s_c_il=[],x.s_c_in=0),b._c="Visitor",b._il=x.s_c_il,b._in=x.s_c_in,b._il[b._in]=b,x.s_c_in++,b._instanceType="regular",b._log={requests:[]},b.marketingCloudOrgID=t,b.cookieName="AMCV_"+t,b.sessionCookieName="AMCVS_"+t;var V={};a&&a.secureCookie&&a.sameSiteCookie&&(V={sameSite:a.sameSiteCookie,secure:a.secureCookie}),b.cookieDomain=b.useLocalStorage?"":H(null,V),b.loadSSL=!0,b.loadTimeout=3e4,b.CORSErrors=[],b.marketingCloudServer=b.audienceManagerServer="dpm.demdex.net",b.sdidParamExpiry=30;var O=null,S="MC",R="MCMID",L="MCIDTS",A="A",D="MCAID",M="AAM",N="MCAAMB",q="NONE",F=function(e){return!Object.prototype[e]},z=Q(b);b.FIELDS=P.FIELDS,b.cookieRead=function(e){return b.useLocalStorage?e===b.sessionCookieName?sessionStorage.getItem(e):localStorage.getItem(e):G.get(e)},b.cookieWrite=function(e,t,a){var r=""+t;if(b.useLocalStorage)return e===b.sessionCookieName?sessionStorage.setItem(e,r):localStorage.setItem(e,r);var n=b.cookieLifetime?(""+b.cookieLifetime).toUpperCase():"",s={expires:a,domain:b.cookieDomain,cookieLifetime:n};return b.configs&&b.configs.secureCookie&&"https:"===location.protocol&&(s.secure=!0),b.configs&&b.configs.sameSiteCookie&&"https:"===location.protocol&&(s.sameSite=P.SAME_SITE_VALUES[b.configs.sameSiteCookie.toUpperCase()]||"Lax"),G.set(e,r,s)},b.removeCookie=function(e){if(b.useLocalStorage)return e===b.sessionCookieName?sessionStorage.removeItem(e):localStorage.removeItem(e);var t={domain:b.cookieDomain};return b.configs&&b.configs.secureCookie&&"https:"===location.protocol&&(t.secure=!0),b.configs&&b.configs.sameSiteCookie&&"https:"===location.protocol&&(t.sameSite=P.SAME_SITE_VALUES[b.configs.sameSiteCookie.toUpperCase()]||"Lax"),G.remove(e,t)},b.resetState=function(e){e?b._mergeServerState(e):i()},b._isAllowedDone=!1,b._isAllowedFlag=!1,b.isAllowed=function(){return b._isAllowedDone||(b._isAllowedDone=!0,(b.cookieRead(b.cookieName)||b.cookieWrite(b.cookieName,"T",1))&&(b._isAllowedFlag=!0)),"T"===b.cookieRead(b.cookieName)&&b.removeCookie(b.cookieName),b._isAllowedFlag},b.setMarketingCloudVisitorID=function(e){b._setMarketingCloudFields(e)},b._use1stPartyMarketingCloudServer=!1,b.getMarketingCloudVisitorID=function(e,t){b.marketingCloudServer&&b.marketingCloudServer.indexOf(".demdex.net")<0&&(b._use1stPartyMarketingCloudServer=!0);var a=b._getAudienceManagerURLData("_setMarketingCloudFields"),r=a.url;return b._getRemoteField(R,r,e,t,a)};var X=function(e,t){var a={};b.getMarketingCloudVisitorID((function(){t.forEach((function(e){a[e]=b._getField(e,!0)})),-1!==t.indexOf("MCOPTOUT")?b.isOptedOut((function(t){a.MCOPTOUT=t,e(a)}),null,!0):e(a)}),!0)};b.getVisitorValues=function(e,t){var a={MCMID:{fn:b.getMarketingCloudVisitorID,args:[!0],context:b},MCOPTOUT:{fn:b.isOptedOut,args:[void 0,!0],context:b},MCAID:{fn:b.getAnalyticsVisitorID,args:[!0],context:b},MCAAMLH:{fn:b.getAudienceManagerLocationHint,args:[!0],context:b},MCAAMB:{fn:b.getAudienceManagerBlob,args:[!0],context:b}},r=t&&t.length?E.pluck(a,t):a;t&&-1===t.indexOf("MCAID")?X(e,t):B(r,e)},b._currentCustomerIDs={},b._customerIDsHashChanged=!1,b._newCustomerIDsHash="",b.setCustomerIDs=function(t,a){if(!b.isOptedOut()&&t){if(!E.isObject(t)||E.isObjectEmpty(t))return!1;var r,s,o,i;for(r in b._readVisitor(),t)if(F(r)&&(b._currentCustomerIDs.dataSources=b._currentCustomerIDs.dataSources||{},a=(s=t[r]).hasOwnProperty("hashType")?s.hashType:a,s))if("object"===e(s)){var c={};if(s.id){if(a){if(!(i=De(Me(s.id),a)))return;s.id=i,c.hashType=a}c.id=s.id}null!=s.authState&&(c.authState=s.authState),b._currentCustomerIDs.dataSources[r]=c}else if(a){if(!(i=De(Me(s),a)))return;b._currentCustomerIDs.dataSources[r]={id:i,hashType:a}}else b._currentCustomerIDs.dataSources[r]={id:s};var l=b.getCustomerIDs(!0),d=b._getField("MCCIDH"),u="";for(o in d||(d=0),l){var m=l[o];if(!E.isObjectEmpty(m))for(r in m)F(r)&&(u+=(u?"|":"")+r+"|"+((s=m[r]).id?s.id:"")+(s.authState?s.authState:""))}b._newCustomerIDsHash=String(b._hash(u)),b._newCustomerIDsHash!==d&&(b._customerIDsHashChanged=!0,b._mapCustomerIDs(n))}},b.syncIdentity=function(t,a){if(!b.isOptedOut()&&t){if(!E.isObject(t)||E.isObjectEmpty(t))return!1;var r,s,o,i,c;for(r in b._readVisitor(),t)if(F(r)&&(b._currentCustomerIDs.nameSpaces=b._currentCustomerIDs.nameSpaces||{},a=(s=t[r]).hasOwnProperty("hashType")?s.hashType:a,s&&"object"===e(s))){var l={};if(s.id){if(a){if(!(o=De(Me(s.id),a)))return;s.id=o,l.hashType=a}l.id=s.id}null!=s.authState&&(l.authState=s.authState),s.dataSource&&(b._currentCustomerIDs.dataSources=b._currentCustomerIDs.dataSources||{},i=s.dataSource,b._currentCustomerIDs.dataSources[i]=l),b._currentCustomerIDs.nameSpaces[r]=l}var d=b.getCustomerIDs(!0),u=b._getField("MCCIDH"),m="";for(c in u||(u="0"),d){var p=d[c];if(!E.isObjectEmpty(p))for(r in p)F(r)&&(m+=(m?"|":"")+r+"|"+((s=p[r]).id?s.id:"")+(s.authState?s.authState:""))}b._newCustomerIDsHash=String(b._hash(m)),b._newCustomerIDsHash!==u&&(b._customerIDsHashChanged=!0,b._mapCustomerIDs(n))}},b.getCustomerIDs=function(e){b._readVisitor();var t,a,r={dataSources:{},nameSpaces:{}},n=b._currentCustomerIDs.dataSources;for(t in n)F(t)&&(a=n[t]).id&&(r.dataSources[t]||(r.dataSources[t]={}),r.dataSources[t].id=a.id,null!=a.authState?r.dataSources[t].authState=a.authState:r.dataSources[t].authState=I.AuthState.UNKNOWN,a.hashType&&(r.dataSources[t].hashType=a.hashType));var s=b._currentCustomerIDs.nameSpaces;for(t in s)F(t)&&(a=s[t]).id&&(r.nameSpaces[t]||(r.nameSpaces[t]={}),r.nameSpaces[t].id=a.id,null!=a.authState?r.nameSpaces[t].authState=a.authState:r.nameSpaces[t].authState=I.AuthState.UNKNOWN,a.hashType&&(r.nameSpaces[t].hashType=a.hashType));return e?r:r.dataSources},b.setAnalyticsVisitorID=function(e){b._setAnalyticsFields(e)},b.getAnalyticsVisitorID=function(e,t,a){if(!te.isTrackingServerPopulated()&&!a)return b._callCallback(e,[""]),"";var r="";if(a||(r=b.getMarketingCloudVisitorID((function(){b.getAnalyticsVisitorID(e,!0)}))),r||a){var n=a?b.marketingCloudServer:b.trackingServer,s="";b.loadSSL&&(a?b.marketingCloudServerSecure&&(n=b.marketingCloudServerSecure):b.trackingServerSecure&&(n=b.trackingServerSecure));var o={};if(n){var i="http"+(b.loadSSL?"s":"")+"://"+n+"/id",c="d_visid_ver="+b.version+"&mcorgid="+encodeURIComponent(b.marketingCloudOrgID)+(r?"&mid="+encodeURIComponent(r):"")+(b.idSyncDisable3rdPartySyncing||b.disableThirdPartyCookies?"&d_coppa=true":""),l=["s_c_il",b._in,"_set"+(a?"MarketingCloud":"Analytics")+"Fields"];s=i+"?"+c+"&callback=s_c_il%5B"+b._in+"%5D._set"+(a?"MarketingCloud":"Analytics")+"Fields",o.corsUrl=i+"?"+c,o.callback=l}return o.url=s,b._getRemoteField(a?R:D,s,e,t,o)}return""},b.getAudienceManagerLocationHint=function(e,t){if(b.getMarketingCloudVisitorID((function(){b.getAudienceManagerLocationHint(e,!0)}))){var a=b._getField(D);if(!a&&te.isTrackingServerPopulated()&&(a=b.getAnalyticsVisitorID((function(){b.getAudienceManagerLocationHint(e,!0)}))),a||!te.isTrackingServerPopulated()){var r=b._getAudienceManagerURLData(),n=r.url;return b._getRemoteField("MCAAMLH",n,e,t,r)}}return""},b.getLocationHint=b.getAudienceManagerLocationHint,b.getAudienceManagerBlob=function(e,t){if(b.getMarketingCloudVisitorID((function(){b.getAudienceManagerBlob(e,!0)}))){var a=b._getField(D);if(!a&&te.isTrackingServerPopulated()&&(a=b.getAnalyticsVisitorID((function(){b.getAudienceManagerBlob(e,!0)}))),a||!te.isTrackingServerPopulated()){var r=b._getAudienceManagerURLData(),n=r.url;return b._customerIDsHashChanged&&b._setFieldExpire(N,-1),b._getRemoteField(N,n,e,t,r)}}return""},b._supplementalDataIDCurrent="",b._supplementalDataIDCurrentConsumed={},b._supplementalDataIDLast="",b._supplementalDataIDLastConsumed={},b.getSupplementalDataID=function(e,t){b._supplementalDataIDCurrent||t||(b._supplementalDataIDCurrent=b._generateID(1));var a=b._supplementalDataIDCurrent;return b._supplementalDataIDLast&&!b._supplementalDataIDLastConsumed[e]?(a=b._supplementalDataIDLast,b._supplementalDataIDLastConsumed[e]=!0):a&&(b._supplementalDataIDCurrentConsumed[e]&&(b._supplementalDataIDLast=b._supplementalDataIDCurrent,b._supplementalDataIDLastConsumed=b._supplementalDataIDCurrentConsumed,b._supplementalDataIDCurrent=a=t?"":b._generateID(1),b._supplementalDataIDCurrentConsumed={}),a&&(b._supplementalDataIDCurrentConsumed[e]=!0)),a};var Z=!1;b._liberatedOptOut=null,b.getOptOut=function(e,t){var a=b._getAudienceManagerURLData("_setMarketingCloudFields"),r=a.url;if(u())return b._getRemoteField("MCOPTOUT",r,e,t,a);if(b._registerCallback("liberatedOptOut",e),null!==b._liberatedOptOut)return b._callAllCallbacks("liberatedOptOut",[b._liberatedOptOut]),Z=!1,b._liberatedOptOut;if(Z)return null;Z=!0;var n="liberatedGetOptOut";return a.corsUrl=a.corsUrl.replace(/\.demdex\.net\/id\?/,".demdex.net/optOutStatus?"),a.callback=[n],_[n]=function(e){if(e===Object(e)){var t,a,r=E.parseOptOut(e,t,q);t=r.optOut,a=1e3*r.d_ottl,b._liberatedOptOut=t,setTimeout((function(){b._liberatedOptOut=null}),a)}b._callAllCallbacks("liberatedOptOut",[t]),Z=!1},z.fireCORS(a),null},b.isOptedOut=function(e,t,a){t||(t=I.OptOut.GLOBAL);var r=b.getOptOut((function(a){var r=a===I.OptOut.GLOBAL||a.indexOf(t)>=0;b._callCallback(e,[r])}),a);return r?r===I.OptOut.GLOBAL||r.indexOf(t)>=0:null};var ee={subscribed:!1,callbacks:[]};b.onReceiveEcid=function(e){if(u())return b.getMarketingCloudVisitorID(e,!0);ee.subscribed=!0,e&&"function"==typeof e&&ee.callbacks.push(e)},b._fields=null,b._fieldsExpired=null,b._hash=function(e){var t,a=0;if(e)for(t=0;t<e.length;t++)a=(a<<5)-a+e.charCodeAt(t),a&=a;return a},b._generateID=$,b._generateLocalMID=function(){var e=b._generateID(0);return ne.isClientSideMarketingCloudVisitorID=!0,e},b._callbackList=null,b._callCallback=function(e,t){try{"function"==typeof e?e.apply(x,t):e[1].apply(e[0],t)}catch(e){}},b._registerCallback=function(e,t){t&&(null==b._callbackList&&(b._callbackList={}),null==b._callbackList[e]&&(b._callbackList[e]=[]),b._callbackList[e].push(t))},b._callAllCallbacks=function(e,t){if(null!=b._callbackList){var a=b._callbackList[e];if(a)for(;a.length>0;)b._callCallback(a.shift(),t)}},b._addQuerystringParam=function(e,t,a,r){var n=encodeURIComponent(t)+"="+encodeURIComponent(a),s=te.parseHash(e),o=te.hashlessUrl(e);if(-1===o.indexOf("?"))return o+"?"+n+s;var i=o.split("?"),c=i[0]+"?",l=i[1];return c+te.addQueryParamAtLocation(l,n,r)+s},b._extractParamFromUri=function(e,t){var a=new RegExp("[\\?&#]"+t+"=([^&#]*)").exec(e);if(a&&a.length)return decodeURIComponent(a[1])},b._parseAdobeMcFromUrl=s(K.ADOBE_MC),b._parseAdobeMcSdidFromUrl=s(K.ADOBE_MC_SDID),b._attemptToPopulateSdidFromUrl=function(e){var a=b._parseAdobeMcSdidFromUrl(e),r=1e9;a&&a.TS&&(r=te.getTimestampInSeconds()-a.TS),a&&a.SDID&&a.MCORGID===t&&r<b.sdidParamExpiry&&(b._supplementalDataIDCurrent=a.SDID,b._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},b._attemptToPopulateIdsFromUrl=function(){var e=b._parseAdobeMcFromUrl();if(e&&e.TS){var a=te.getTimestampInSeconds()-e.TS;if(Math.floor(a/60)>K.ADOBE_MC_TTL_IN_MIN||e.MCORGID!==t)return;o(e)}},b._mergeServerState=function(e){if(e)try{if((e=function(e){return te.isObject(e)?e:JSON.parse(e)}(e))[b.marketingCloudOrgID]){var t=e[b.marketingCloudOrgID];!function(e){te.isObject(e)&&b.setCustomerIDs(e)}(t.customerIDs),i(t.sdid)}}catch(e){throw new Error("`serverState` has an invalid format.")}},b._timeout=null,b._loadData=function(e,t,a,r){t=b._addQuerystringParam(t,"d_fieldgroup",e,1),r.url=b._addQuerystringParam(r.url,"d_fieldgroup",e,1),r.corsUrl=b._addQuerystringParam(r.corsUrl,"d_fieldgroup",e,1),ne.fieldGroupObj[e]=!0,r===Object(r)&&r.corsUrl&&"XMLHttpRequest"===z.corsMetadata.corsType&&z.fireCORS(r,a,e)},b._clearTimeout=function(e){null!=b._timeout&&b._timeout[e]&&(clearTimeout(b._timeout[e]),b._timeout[e]=0)},b._settingsDigest=0,b._getSettingsDigest=function(){if(!b._settingsDigest){var e=b.version
;b.audienceManagerServer&&(e+="|"+b.audienceManagerServer),b.audienceManagerServerSecure&&(e+="|"+b.audienceManagerServerSecure),b._settingsDigest=b._hash(e)}return b._settingsDigest},b._readVisitorDone=!1,b._readVisitor=function(){if(!b._readVisitorDone){b._readVisitorDone=!0;var e,t,a,r,n,s,o=b._getSettingsDigest(),i=!1,c=b.cookieRead(b.cookieName),l=new Date;if(c||w||b.discardTrackingServerECID||(c=b.cookieRead(K.FIRST_PARTY_SERVER_COOKIE)),null==b._fields&&(b._fields={}),c&&"T"!==c)for((c=c.split("|"))[0].match(/^[\-0-9]+$/)&&(parseInt(c[0],10)!==o&&(i=!0),c.shift()),c.length%2==1&&c.pop(),e=0;e<c.length;e+=2)a=(t=c[e].split("-"))[0],r=c[e+1],t.length>1?(n=parseInt(t[1],10),s=t[1].indexOf("s")>0):(n=0,s=!1),i&&("MCCIDH"===a&&(r=""),n>0&&(n=l.getTime()/1e3-60)),a&&r&&(b._setField(a,r,1),n>0&&(b._fields["expire"+a]=n+(s?"s":""),(l.getTime()>=1e3*n||s&&!b.cookieRead(b.sessionCookieName))&&(b._fieldsExpired||(b._fieldsExpired={}),b._fieldsExpired[a]=!0)));!b._getField(D)&&te.isTrackingServerPopulated()&&(c=b.cookieRead("s_vi"))&&(c=c.split("|")).length>1&&c[0].indexOf("v1")>=0&&((e=(r=c[1]).indexOf("["))>=0&&(r=r.substring(0,e)),r&&r.match(K.VALID_VISITOR_ID_REGEX)&&b._setField(D,r))}},b._appendVersionTo=function(e){var t="vVersion|"+b.version,a=e?b._getCookieVersion(e):null;return a?J.areVersionsDifferent(a,b.version)&&(e=e.replace(K.VERSION_REGEX,t)):e+=(e?"|":"")+t,e},b._writeVisitor=function(){var e,t,a=b._getSettingsDigest();for(e in b._fields)F(e)&&b._fields[e]&&"expire"!==e.substring(0,6)&&(t=b._fields[e],a+=(a?"|":"")+e+(b._fields["expire"+e]?"-"+b._fields["expire"+e]:"")+"|"+t);a=b._appendVersionTo(a),b.cookieWrite(b.cookieName,a,1)},b._getField=function(e,t){return null==b._fields||!t&&b._fieldsExpired&&b._fieldsExpired[e]?null:b._fields[e]},b._setField=function(e,t,a){null==b._fields&&(b._fields={}),b._fields[e]=t,a||b._writeVisitor()},b._getFieldList=function(e,t){var a=b._getField(e,t);return a?a.split("*"):null},b._setFieldList=function(e,t,a){b._setField(e,t?t.join("*"):"",a)},b._getFieldMap=function(e,t){var a=b._getFieldList(e,t);if(a){var r,n={};for(r=0;r<a.length;r+=2)n[a[r]]=a[r+1];return n}return null},b._setFieldMap=function(e,t,a){var r,n=null;if(t)for(r in n=[],t)F(r)&&(n.push(r),n.push(t[r]));b._setFieldList(e,n,a)},b._setFieldExpire=function(e,t,a){var r=new Date;r.setTime(r.getTime()+1e3*t),null==b._fields&&(b._fields={}),b._fields["expire"+e]=Math.floor(r.getTime()/1e3)+(a?"s":""),t<0?(b._fieldsExpired||(b._fieldsExpired={}),b._fieldsExpired[e]=!0):b._fieldsExpired&&(b._fieldsExpired[e]=!1),a&&(b.cookieRead(b.sessionCookieName)||b.cookieWrite(b.sessionCookieName,"1"))},b._findVisitorID=function(t){return t&&("object"===e(t)&&(t=t.d_mid?t.d_mid:t.visitorID?t.visitorID:t.id?t.id:t.uuid?t.uuid:""+t),t&&"NOTARGET"===(t=t.toUpperCase())&&(t=q),t&&(t===q||t.match(K.VALID_VISITOR_ID_REGEX))||(t="")),t},b._setFields=function(t,a){if(b._clearTimeout(t),null!=b._loading&&(b._loading[t]=!1),ne.fieldGroupObj[t]&&ne.setState(t,!1),t===S){!0!==ne.isClientSideMarketingCloudVisitorID&&(ne.isClientSideMarketingCloudVisitorID=!1);var r=b._getField(R);if(!r||b.overwriteCrossDomainMCIDAndAID){if(!(r="object"===e(a)&&a.mid?a.mid:b._findVisitorID(a))){if(b._use1stPartyMarketingCloudServer&&!b.tried1stPartyMarketingCloudServer)return b.tried1stPartyMarketingCloudServer=!0,void b.getAnalyticsVisitorID(null,!1,!0);r=b._generateLocalMID()}b._setField(R,r)}r&&r!==q||(r=""),"object"===e(a)&&((a.d_region||a.dcs_region||a.d_blob||a.blob)&&b._setFields(M,a),b._use1stPartyMarketingCloudServer&&a.mid&&b._setFields(A,{id:a.id})),b._callAllCallbacks(R,[r])}if(t===M&&"object"===e(a)){var n=604800;null!=a.id_sync_ttl&&a.id_sync_ttl&&(n=parseInt(a.id_sync_ttl,10));var s=ae.getRegionAndCheckIfChanged(a,n);b._callAllCallbacks("MCAAMLH",[s]);var o=b._getField(N);(a.d_blob||a.blob)&&((o=a.d_blob)||(o=a.blob),b._setFieldExpire(N,n),b._setField(N,o)),o||(o=""),b._callAllCallbacks(N,[o]),!a.error_msg&&b._newCustomerIDsHash&&b._setField("MCCIDH",b._newCustomerIDsHash)}if(t===A){var i=b._getField(D);i&&!b.overwriteCrossDomainMCIDAndAID||((i=b._findVisitorID(a))?i!==q&&b._setFieldExpire(N,-1):i=q,b._setField(D,i)),i&&i!==q||(i=""),b._callAllCallbacks(D,[i])}if(b.idSyncDisableSyncs||b.disableIdSyncs)ae.idCallNotProcesssed=!0;else{ae.idCallNotProcesssed=!1;var c={};c.ibs=a.ibs,c.subdomain=a.subdomain,ae.processIDCallData(c)}if(a===Object(a)){var l,d;u()&&b.isAllowed()&&(l=b._getField("MCOPTOUT"));var m=E.parseOptOut(a,l,q);l=m.optOut,d=m.d_ottl,b._setFieldExpire("MCOPTOUT",d,!0),b._setField("MCOPTOUT",l),b._callAllCallbacks("MCOPTOUT",[l])}},b._loading=null,b._getRemoteField=function(e,t,a,r,n){var s,o="",i=te.isFirstPartyAnalyticsVisitorIDCall(e),c={MCAAMLH:!0,MCAAMB:!0};if(u()&&b.isAllowed())if(b._readVisitor(),!(!(o=b._getField(e,!0===c[e]))||b._fieldsExpired&&b._fieldsExpired[e])||b.disableThirdPartyCalls&&!i)o||(e===R?(b._registerCallback(e,a),o=b._generateLocalMID(),b.setMarketingCloudVisitorID(o)):e===D?(b._registerCallback(e,a),o="",b.setAnalyticsVisitorID(o)):(o="",r=!0));else if(e===R||"MCOPTOUT"===e?s=S:"MCAAMLH"===e||e===N?s=M:e===D&&(s=A),s)return!t||null!=b._loading&&b._loading[s]||(null==b._loading&&(b._loading={}),b._loading[s]=!0,s===M&&(C=0),b._loadData(s,t,(function(t){if(!b._getField(e)){t&&ne.setState(s,!0);var a="";e===R?a=b._generateLocalMID():s===M&&(a={error_msg:"timeout"}),b._setFields(s,a)}}),n)),b._registerCallback(e,a),o||(t||b._setFields(s,{id:q}),"");return e!==R&&e!==D||o!==q||(o="",r=!0),a&&r&&b._callCallback(a,[o]),e===R&&ee.subscribed&&(ee.callbacks&&ee.callbacks.length&&ee.callbacks.forEach((function(e){b._callCallback(e,[o])})),ee.subscribed=!1,ee.callbacks.length=0),o},b._setMarketingCloudFields=function(e){b._readVisitor(),b._setFields(S,e)},b._mapCustomerIDs=function(e){b.getAudienceManagerBlob(e,!0)},b._setAnalyticsFields=function(e){b._readVisitor(),b._setFields(A,e)},b._setAudienceManagerFields=function(e){b._readVisitor(),b._setFields(M,e)},b._getAudienceManagerURLData=function(e){var t=b.audienceManagerServer,a="",r=b._getField(R),n=b._getField(N,!0),s=b._getField(D),o=s&&s!==q?"&d_cid_ic=AVID%01"+encodeURIComponent(s):"";if(b.loadSSL&&b.audienceManagerServerSecure&&(t=b.audienceManagerServerSecure),t){var i,c,l,d=b.getCustomerIDs(!0);if(d)for(c in d){var u=d[c];if(!E.isObjectEmpty(u)){var m="nameSpaces"===c?"&d_cid_ns=":"&d_cid_ic=";for(i in u)F(i)&&(l=u[i],o+=m+encodeURIComponent(i)+"%01"+encodeURIComponent(l.id?l.id:"")+(l.authState?"%01"+l.authState:""))}}e||(e="_setAudienceManagerFields");var p="http"+(b.loadSSL?"s":"")+"://"+t+"/id",f="d_visid_ver="+b.version+(k&&-1!==p.indexOf("demdex.net")?"&gdpr=1&gdpr_consent="+k:"")+(C&&-1!==p.indexOf("demdex.net")?"&d_cf="+C:"")+"&d_rtbd=json&d_ver=2"+(!r&&b._use1stPartyMarketingCloudServer?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(b.marketingCloudOrgID)+"&d_nsid="+(b.idSyncContainerID||0)+(r?"&d_mid="+encodeURIComponent(r):"")+(b.idSyncDisable3rdPartySyncing||b.disableThirdPartyCookies?"&d_coppa=true":"")+(!0===O?"&d_coop_safe=1":!1===O?"&d_coop_unsafe=1":"")+(n?"&d_blob="+encodeURIComponent(n):"")+o,g=["s_c_il",b._in,e];return{url:a=p+"?"+f+"&d_cb=s_c_il%5B"+b._in+"%5D."+e,corsUrl:p+"?"+f,callback:g}}return{url:a}},b.appendVisitorIDsTo=function(e){try{var t=[[R,b._getField(R)],[D,b._getField(D)],["MCORGID",b.marketingCloudOrgID]];return b._addQuerystringParam(e,K.ADOBE_MC,c(t))}catch(t){return e}},b.appendSupplementalDataIDTo=function(e,t){if(!(t=t||b.getSupplementalDataID(te.generateRandomString(),!0)))return e;try{var a=c([["SDID",t],["MCORGID",b.marketingCloudOrgID]]);return b._addQuerystringParam(e,K.ADOBE_MC_SDID,a)}catch(t){return e}};var te={parseHash:function(e){var t=e.indexOf("#");return t>0?e.substr(t):""},hashlessUrl:function(e){var t=e.indexOf("#");return t>0?e.substr(0,t):e},addQueryParamAtLocation:function(e,t,a){var r=e.split("&");return a=null!=a?a:r.length,r.splice(a,0,t),r.join("&")},isFirstPartyAnalyticsVisitorIDCall:function(e,t,a){return e===D&&(t||(t=b.trackingServer),a||(a=b.trackingServerSecure),!("string"!=typeof(r=b.loadSSL?a:t)||!r.length)&&r.indexOf("2o7.net")<0&&r.indexOf("omtrdc.net")<0);var r},isObject:function(e){return Boolean(e&&e===Object(e))},removeCookie:function(e){G.remove(e,{domain:b.cookieDomain})},isTrackingServerPopulated:function(){return!!b.trackingServer||!!b.trackingServerSecure},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1e3)},parsePipeDelimetedKeyValues:function(e){return e.split("|").reduce((function(e,t){var a=t.split("=");return e[a[0]]=decodeURIComponent(a[1]),e}),{})},generateRandomString:function(e){e=e||5;for(var t="",a="abcdefghijklmnopqrstuvwxyz0123456789";e--;)t+=a[Math.floor(Math.random()*a.length)];return t},normalizeBoolean:function(e){return"true"===e||"false"!==e&&e},parseBoolean:function(e){return"true"===e||"false"!==e&&null},replaceMethodsWithFunction:function(e,t){for(var a in e)e.hasOwnProperty(a)&&"function"==typeof e[a]&&(e[a]=t);return e}};b._helpers=te;var ae=Y(b,I);b._destinationPublishing=ae,b.timeoutMetricsLog=[];var re,ne={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(e,t){switch(e){case S:!1===t?!0!==this.MCIDCallTimedOut&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=t;break;case A:!1===t?!0!==this.AnalyticsIDCallTimedOut&&(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=t;break;case M:!1===t?!0!==this.AAMIDCallTimedOut&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=t}}};b.isClientSideMarketingCloudVisitorID=function(){return ne.isClientSideMarketingCloudVisitorID},b.MCIDCallTimedOut=function(){return ne.MCIDCallTimedOut},b.AnalyticsIDCallTimedOut=function(){return ne.AnalyticsIDCallTimedOut},b.AAMIDCallTimedOut=function(){return ne.AAMIDCallTimedOut},b.idSyncGetOnPageSyncInfo=function(){return b._readVisitor(),b._getField("MCSYNCSOP")},b.idSyncByURL=function(e){if(!b.isOptedOut()){var t=l(e||{});if(t.error)return t.error;var a,r,n=e.url,s=encodeURIComponent,o=ae;return n=n.replace(/^https:/,"").replace(/^http:/,""),a=E.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),r=["ibs",s(e.dpid),"img",s(n),t.ttl,"",a],o.addMessage(r.join("|")),o.requestToProcess(),"Successfully queued"}},b.idSyncByDataSource=function(e){if(!b.isOptedOut())return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,b.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},Te(b,ae),b._getCookieVersion=function(e){e=e||b.cookieRead(b.cookieName);var t=K.VERSION_REGEX.exec(e);return t&&t.length>1?t[1]:null},b._resetAmcvCookie=function(e){var t=b._getCookieVersion();t&&!J.isLessThan(t,e)||b.removeCookie(b.cookieName)},b.setAsCoopSafe=function(){O=!0},b.setAsCoopUnsafe=function(){O=!1},function(){if(b.configs=Object.create(null),te.isObject(a))for(var e in a)F(e)&&(b[e]=a[e],b.configs[e]=a[e])}(),m(),b.init=function(){d()&&(y.optIn.fetchPermissions(h,!0),!y.optIn.isApproved(y.optIn.Categories.ECID))||re||(re=!0,function(){if(te.isObject(a)){b.idSyncContainerID=b.idSyncContainerID||0,O="boolean"==typeof b.isCoopSafe?b.isCoopSafe:te.parseBoolean(b.isCoopSafe),b.resetBeforeVersion&&b._resetAmcvCookie(b.resetBeforeVersion),b._attemptToPopulateIdsFromUrl(),b._attemptToPopulateSdidFromUrl(),b._readVisitor();var e=b._getField(L),t=Math.ceil((new Date).getTime()/K.MILLIS_PER_DAY);b.idSyncDisableSyncs||b.disableIdSyncs||!ae.canMakeSyncIDCall(e,t)||(b._setFieldExpire(N,-1),b._setField(L,t)),b.getMarketingCloudVisitorID(),b.getAudienceManagerLocationHint(),b.getAudienceManagerBlob(),b._mergeServerState(b.serverState)}else b._attemptToPopulateIdsFromUrl(),b._attemptToPopulateSdidFromUrl()}(),function(){if(!b.idSyncDisableSyncs&&!b.disableIdSyncs){ae.checkDPIframeSrc();var e=function(){var e=ae;e.readyToAttachIframe()&&e.attachIframe()};x.addEventListener("load",(function(){I.windowLoaded=!0,e()}));try{W.receiveMessage((function(e){ae.receiveMessage(e.data)}),ae.iframeHost)}catch(e){}}}(),b.whitelistIframeDomains&&K.POST_MESSAGE_ENABLED&&(b.whitelistIframeDomains=b.whitelistIframeDomains instanceof Array?b.whitelistIframeDomains:[b.whitelistIframeDomains],b.whitelistIframeDomains.forEach((function(e){var a=new T(t,e),r=U(b,a);W.receiveMessage(r,e)}))))}};qe.config=Z,_.Visitor=qe;var Fe=qe,Ue=function(e){if(E.isObject(e))return Object.keys(e).filter((function(t){return""!==e[t]&&Z.getConfigs()[t]})).reduce((function(t,a){var r=Z.normalizeConfig(a,e[a]),n=E.normalizeBoolean(r);return t[a]=n,t}),Object.create(null))},Be=Le.OptIn,Ge=Le.IabPlugin;Fe.getInstance=function(e,t){if(!e)throw new Error("Visitor requires Adobe Marketing Cloud Org ID.");e.indexOf("@")<0&&(e+="@AdobeOrg");var a=function(){var t=_.s_c_il;if(t)for(var a=0;a<t.length;a++){var r=t[a];if(r&&"Visitor"===r._c&&r.marketingCloudOrgID===e)return r}}();if(a)return a;var r=Ue(t)||{};!function(e){_.adobe.optIn=_.adobe.optIn||function(){var t=E.pluck(e,["doesOptInApply","previousPermissions","preOptInApprovals","isOptInStorageEnabled","optInStorageExpiry","isIabContext"]),a=e.optInCookieDomain||e.cookieDomain;a=(a=a||H())===window.location.hostname?"":a,t.optInCookieDomain=a;var r=new Be(t,{cookies:G});if(t.isIabContext&&t.doesOptInApply){var n=new Ge;r.registerPlugin(n)}return r}()}(r||{});var n=e.split("").reverse().join(""),s=new Fe(e,null,n);r.cookieDomain&&(s.cookieDomain=r.cookieDomain),r.sameSiteCookie&&r.secureCookie&&(s.configs={sameSiteCookie:r.sameSiteCookie,secureCookie:r.secureCookie}),_.s_c_il.splice(--_.s_c_in,1);var o=E.getIeVersion();if("number"==typeof o&&o<10)return s._helpers.replaceMethodsWithFunction(s,(function(){}));var i=function(){try{return _.self!==_.parent}catch(e){return!0}}()&&!function(e){return e.cookieWrite("TEST_AMCV_COOKIE","T",1),"T"===e.cookieRead("TEST_AMCV_COOKIE")&&(e.removeCookie("TEST_AMCV_COOKIE"),!0)}(s)&&_.parent?new D(e,r,s,_.parent):new Fe(e,r,n);return s=null,i.init(),i},function(){function e(){Fe.windowLoaded=!0}_.addEventListener?_.addEventListener("load",e):_.attachEvent&&_.attachEvent("onload",e),Fe.codeLoadEnd=(new Date).getTime()}()}(),Visitor)}},"adobe-mcid/src/view/utils/timeUnits.js":{script:function(e){var t={Hours:3600,Days:86400,Weeks:604800,Months:2592e3,Years:31536e3};e.exports=t}}}},core:{displayName:"Core",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP0fe6b1b3170b414e92e8f7ad4f74f857/",modules:{"core/src/lib/dataElements/javascriptVariable.js":{name:"javascript-variable",displayName:"JavaScript Variable",script:function(e,t,a){"use strict";var r=a("../helpers/getObjectProperty.js");e.exports=function(e){return r(window,e.path)}}},"core/src/lib/dataElements/queryStringParameter.js":{name:"query-string-parameter",displayName:"Query String Parameter",script:function(e,t,a){"use strict";var r=a("@adobe/reactor-window"),n=a("@adobe/reactor-query-string");e.exports=function(e){var t=n.parse(r.location.search);if(!e.caseInsensitive)return t[e.name];for(var a=e.name.toLowerCase(),s=Object.keys(t),o=0;o<s.length;o++){var i=s[o];if(i.toLowerCase()===a)return t[i]}}}},"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source(t)}}},"core/src/lib/dataElements/cookie.js":{name:"cookie",displayName:"Cookie",script:function(e,t,a){"use strict";var r=a("@adobe/reactor-cookie");e.exports=function(e){return r.get(e.name)}}},"core/src/lib/dataElements/pageInfo.js":{name:"page-info",displayName:"Page Info",script:function(e,t,a){"use strict";var r=a("@adobe/reactor-document");e.exports=function(e){switch(e.attribute){case"url":return r.location.href;case"hostname":return r.location.hostname;case"pathname":return r.location.pathname;case"protocol":return r.location.protocol;case"referrer":return r.referrer;case"title":return r.title}}}},"core/src/lib/dataElements/constant.js":{name:"constant",displayName:"Constant",script:function(e){"use strict";e.exports=function(e){return e.value}}},"core/src/lib/dataElements/localStorage.js":{name:"local-storage",displayName:"Local Storage",script:function(e,t,a){"use strict";var r=a("@adobe/reactor-window");e.exports=function(e){try{return r.localStorage.getItem(e.name)}catch(e){return null}}}},"core/src/lib/actions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e,t,a,r){"use strict";var n,s,o,i=a("@adobe/reactor-document"),c=a("./helpers/decorateCode"),l=a("./helpers/loadCodeSequentially"),d=a("../../../node_modules/postscribe/dist/postscribe"),u=r.getExtensionSettings(),m=(n=function(e){d(i.body,e,{beforeWriteToken:function(e){return u.cspNonce&&"script"===e.tagName&&(e.attrs.nonce=u.cspNonce),e},error:function(e){r.logger.error(e.msg)}})},s=[],o=function(){if(i.body)for(;s.length;)n(s.shift());else setTimeout(o,20)},function(e){s.push(e),o()}),p=function(){if(i.currentScript)return i.currentScript.async;for(var e=i.querySelectorAll("script"),t=0;t<e.length;t++){var a=e[t];if(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/.test(a.src))return a.async}return!0}();e.exports=function(e,t){var a={settings:e,event:t},r=a.settings.source;if(r)return a.settings.isExternal?l(r).then((function(e){e&&m(c(a,e))})):void(p||"loading"!==i.readyState?m(c(a,r)):i.write?i.write(c(a,r)):m(c(a,r)))}}},"core/src/lib/conditions/path.js":{name:"path",displayName:"Path Without Query String",script:function(e,t,a){"use strict";var r=a("@adobe/reactor-document"),n=a("../helpers/textMatch");e.exports=function(e){var t=r.location.pathname;return e.paths.some((function(e){var a=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return n(t,a)}))}}},"core/src/lib/events/click.js":{name:"click",displayName:"Click",script:function(e,t,a){"use strict";var r=a("@adobe/reactor-window"),n=a("./helpers/createBubbly")(),s=new(a("./helpers/weakMap")),o=function(e){for(;e;){var t=e.tagName;if(t&&"a"===t.toLowerCase()){var a=e.getAttribute("href"),n=e.getAttribute("target");return a&&(!n||"_self"===n||"_top"===n&&r.top===r||n===r.name)?e:void 0}e=e.parentNode}};document.addEventListener("click",n.evaluateEvent,!0),e.exports=function(e,t){n.addListener(e,(function(a){var n=a.nativeEvent;if(!n.s_fe){if(e.anchorDelay&&!s.has(n)){var i=o(n.target);i&&(n.preventDefault(),setTimeout((function(){r.location=i.href}),e.anchorDelay)),s.set(n,!0)}t(a)}}))},e.exports.__reset=n.__reset}},"core/src/lib/conditions/valueComparison.js":{name:"value-comparison",displayName:"Value Comparison",script:function(e){"use strict";var t=function(e){return"number"==typeof e&&isFinite(e)},a=function(e){return"string"==typeof e||e instanceof String},r=function(e,t){return t&&a(e)?e.toLowerCase():e},n=function(e){return t(e)?String(e):e},s=function(e){return a(e)?Number(e):e},o=function(e){return function(t,r,s){return t=n(t),r=n(r),a(t)&&a(r)&&e(t,r,s)}},i=function(e){return function(a,r){return a=s(a),r=s(r),t(a)&&t(r)&&e(a,r)}},c=function(e){return function(t,a,n){return e(r(t,n),r(a,n))}},l={equals:c((function(e,t){return e==t})),doesNotEqual:function(){return!l.equals.apply(null,arguments)},contains:o(c((function(e,t){return-1!==e.indexOf(t)}))),doesNotContain:function(){return!l.contains.apply(null,arguments)},startsWith:o(c((function(e,t){return 0===e.indexOf(t)}))),doesNotStartWith:function(){return!l.startsWith.apply(null,arguments)},endsWith:o(c((function(e,t){return e.substring(e.length-t.length,e.length)===t}))),doesNotEndWith:function(){return!l.endsWith.apply(null,arguments)},matchesRegex:o((function(e,t,a){return new RegExp(t,a?"i":"").test(e)})),doesNotMatchRegex:function(){return!l.matchesRegex.apply(null,arguments)},lessThan:i((function(e,t){return e<t})),lessThanOrEqual:i((function(e,t){return e<=t})),greaterThan:i((function(e,t){return e>t})),greaterThanOrEqual:i((function(e,t){return e>=t})),isTrue:function(e){return!0===e},isTruthy:function(e){return Boolean(e)},isFalse:function(e){return!1===e},isFalsy:function(e){return!e}};e.exports=function(e){return l[e.comparison.operator](e.leftOperand,e.rightOperand,Boolean(e.comparison.caseInsensitive))}}},"core/src/lib/conditions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source.call(t.element,t,t.target)}}},"core/src/lib/events/windowLoaded.js":{name:"window-loaded",displayName:"Window Loaded",script:function(e,t,a){"use strict";var r=a("./helpers/pageLifecycleEvents");e.exports=function(e,t){r.registerWindowLoadedTrigger(t)}}},"core/src/lib/events/domReady.js":{name:"dom-ready",displayName:"DOM Ready",script:function(e,t,a){"use strict";var r=a("./helpers/pageLifecycleEvents");e.exports=function(e,t){r.registerDomReadyTrigger(t)}}},"core/src/lib/events/libraryLoaded.js":{name:"library-loaded",displayName:"Library Loaded (Page Top)",script:function(e,t,a){"use strict";var r=a("./helpers/pageLifecycleEvents");e.exports=function(e,t){r.registerLibraryLoadedTrigger(t)}}},"core/src/lib/conditions/maxFrequency.js":{name:"max-frequency",displayName:"Max Frequency",script:function(e,t,a){"use strict";var r=a("../helpers/visitorTracking"),n=a("../helpers/getNamespacedStorage")("localStorage","maxFrequency"),s={second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:26784e5};e.exports=function(e,t){var a=t.$rule.id+"."+e.unit;switch(e.unit){case"pageView":var o=r.getLifetimePageViewCount();if(o-Number(n.getItem(a)||0)>=e.count)return n.setItem(a,o),!0;break;case"session":var i=r.getSessionCount();if(i-Number(n.getItem(a)||0)>=e.count)return n.setItem(a,i),!0;break;case"visitor":if(!n.getItem(a))return n.setItem(a,"true"),!0;break;case"second":case"minute":case"hour":case"day":case"week":case"month":var c=(new Date).getTime();if(Number(n.getItem(a)||0)<=c-e.count*s[e.unit])return n.setItem(a,c),!0}return!1}}},"core/src/lib/events/directCall.js":{name:"direct-call",displayName:"Direct Call",script:function(e,t,a,r){"use strict";var n={};window._satellite=window._satellite||{},window._satellite.track=function(e,t){e=e.trim();var a=n[e];if(a){var s={identifier:e,detail:t};a.forEach((function(e){e(s)}));var o=['Rules using the direct call event type with identifier "'+e+'" have been triggered'+(t?" with additional detail:":".")];t&&o.push(t),r.logger.log.apply(r.logger,o)}else r.logger.log('"'+e+'" does not match any direct call identifiers.')},e.exports=function(e,t){var a=n[e.identifier];a||(a=n[e.identifier]=[]),a.push(t)}}},"core/src/lib/events/pageBottom.js":{name:"page-bottom",displayName:"Page Bottom",script:function(e,t,a){"use strict";var r=a("./helpers/pageLifecycleEvents");e.exports=function(e,t){r.registerPageBottomTrigger(t)}}},"core/src/lib/conditions/queryStringParameter.js":{name:"query-string-parameter",displayName:"Query String Parameter",script:function(e,t,a){"use strict";var r=a("@adobe/reactor-window"),n=a("@adobe/reactor-query-string"),s=a("../helpers/textMatch");e.exports=function(e){var t=e.valueIsRegex?new RegExp(e.value,"i"):e.value,a=n.parse(r.location.search);return s(a[e.name],t)}}},"core/src/lib/events/historyChange.js":{name:"history-change",displayName:"History Change",script:function(e,t,a){"use strict";var r=a("./helpers/debounce"),n=a("./helpers/once"),s=window.history,o=window.location.href,i=[],c=function(e,t,a){var r=e[t];e[t]=function(){var t=r.apply(e,arguments);return a.apply(null,arguments),t}},l=r((function(){var e=window.location.href;o!==e&&(i.forEach((function(e){e()})),o=e)}),0),d=n((function(){s&&(s.pushState&&c(s,"pushState",l),s.replaceState&&c(s,"replaceState",l)),window.addEventListener("popstate",l),window.addEventListener("hashchange",l)}));e.exports=function(e,t){d(),i.push(t)}}},"core/src/lib/events/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){e.source(t)}}},"core/src/lib/events/elementExists.js":{name:"element-exists",displayName:"Element Exists",script:function(e,t,a){"use strict";var r=3e3,n=new(a("./helpers/weakMap")),s=a("./helpers/matchesProperties"),o={};setInterval((function(){Object.keys(o).forEach((function(e){for(var t=o[e],a=document.querySelectorAll(e),r=0;r<a.length;r++){var i=a[r];if(!n.has(i)){n.set(i,!0);for(var c=0;c<t.length;c++){var l=t[c];s(i,l.settings.elementProperties)&&(l.trigger({element:i,target:i}),t.splice(c,1),c--)}}if(!t.length){delete o[e];break}}}))}),r),e.exports=function(e,t){var a=o[e.elementSelector];a||(a=o[e.elementSelector]=[]),a.push({settings:e,trigger:t})}}},"core/src/lib/events/entersViewport.js":{name:"enters-viewport",displayName:"Enters Viewport",script:function(e,t,a){"use strict";var r=a("@adobe/reactor-document"),n=a("@adobe/reactor-window"),s=a("./helpers/weakMap"),o=a("./helpers/debounce"),i=a("./helpers/enableWeakMapDefaultValue"),c=a("./helpers/matchesSelector"),l=a("./helpers/matchesProperties"),d=3e3,u=200,m={FIRST_ENTRY:"firstEntry",EVERY_ENTRY:"everyEntry"},p=-1!==n.navigator.appVersion.indexOf("MSIE 10"),f=i(new s,(function(){return{timeoutIds:[],completedListeners:[],inViewport:!1}})),g={},h=function(e){var t;try{t=e.getBoundingClientRect()}catch(e){}var a=r.documentElement,s=r.body,o=a.clientTop||s.clientTop||0,i=a.clientLeft||s.clientLeft||0,c=n.pageYOffset||a.scrollTop||s.scrollTop,l=n.pageXOffset||a.scrollLeft||s.scrollLeft;return{top:t.top+c-o,left:t.left+l-i}},v=function(){var e=n.innerHeight,t=r.compatMode;return t&&(e="CSS1Compat"===t?r.documentElement.clientHeight:r.body.clientHeight),e},_=function(){return r.documentElement.scrollTop?r.documentElement.scrollTop:r.body.scrollTop},b=function(e,t,a){var n=h(e).top,s=e.offsetHeight;return r.body.contains(e)&&!(a>n+s||a+t<n)},y=function(e){var t=f.get(e);t.inViewport||(t.inViewport=!0,Object.keys(g).forEach((function(a){c(e,a)&&g[a].forEach((function(a){if(l(e,a.settings.elementProperties)&&-1===t.completedListeners.indexOf(a)){var r=function(){(a.settings.frequency||m.FIRST_ENTRY)===m.FIRST_ENTRY&&t.completedListeners.push(a),a.trigger({element:e,target:e,delay:a.settings.delay})};if(a.settings.delay){var n=setTimeout((function(){b(e,v(),_())&&r()}),a.settings.delay);t.timeoutIds.push(n)}else r()}}))})))},P=function(e){var t=f.get(e);t.inViewport=!1,t.timeoutIds.length&&(t.timeoutIds.forEach(clearTimeout),t.timeoutIds=[])},k=o((function(){var e=Object.keys(g);if(e.length)for(var t=r.querySelectorAll(e.join(",")),a=v(),n=_(),s=0;s<t.length;s++){var o=t[s];b(o,a,n)?y(o):P(o)}}),u),C=function(){k(),setInterval(k,d),n.addEventListener("resize",k),n.addEventListener("scroll",k)};p?"complete"===r.readyState?C():n.addEventListener("load",C):"loading"!==r.readyState?C():r.addEventListener("DOMContentLoaded",C),e.exports=function(e,t){var a=g[e.elementSelector];a||(a=g[e.elementSelector]=[]),a.push({settings:e,trigger:t})}}},"core/src/lib/conditions/hash.js":{name:"hash",displayName:"Hash",script:function(e,t,a){"use strict";var r=a("../helpers/textMatch");e.exports=function(e){var t=document.location.hash;return e.hashes.some((function(e){var a=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return r(t,a)}))}}},"core/src/lib/conditions/variable.js":{name:"variable",displayName:"Variable",script:function(e,t,a){"use strict";var r=a("../helpers/getObjectProperty"),n=a("../helpers/textMatch");e.exports=function(e){var t=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return n(r(window,e.name),t)}}},"core/src/lib/events/dataElementChange.js":{name:"data-element-change",displayName:"Data Element Change",script:function(e,t,a,r){"use strict";var n={},s={};setInterval((function(){Object.keys(n).forEach((function(e){var t=JSON.stringify(r.getDataElementValue(e));if(t!==s[e]){var a={dataElementName:e};n[e].forEach((function(e){e(a)})),s[e]=t}}))}),1e3),e.exports=function(e,t){var a=e.name,o=n[a];o||(o=n[a]=[],s[a]=JSON.stringify(r.getDataElementValue(a))),o.push(t)}}},"core/src/lib/events/mousedown.js":{name:"mousedown",displayName:"Mousedown",script:function(e,t,a){"use strict";var r=a("./helpers/createBubbly")();document.addEventListener("mousedown",r.evaluateEvent,!0),e.exports=function(e,t){r.addListener(e,t)}}},"core/src/lib/conditions/pathAndQuerystring.js":{name:"path-and-querystring",displayName:"Path And Query String",script:function(e,t,a){"use strict";var r=a("@adobe/reactor-document"),n=a("../helpers/textMatch");e.exports=function(e){var t=r.location.pathname+r.location.search;return e.paths.some((function(e){var a=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return n(t,a)}))}}},"core/src/lib/events/timeOnPage.js":{name:"time-on-page",displayName:"Time On Page",script:function(e,t,a){"use strict";var r=a("@adobe/reactor-document"),n=a("./helpers/once"),s=a("./helpers/visibilityApi")(),o=a("./helpers/timer"),i=s.hiddenProperty,c=s.visibilityChangeEventType,l={},d=function(e){var t={timeOnPage:e/1e3};l[e].forEach((function(e){e(t)}))},u=n((function(){var e=new o;return e.on("markerPassed",d),r.addEventListener(c,(function(){r[i]?e.pause():e.resume()}),!0),e.start(),e}));e.exports=function(e,t){var a=u(),r=1e3*e.timeOnPage;a.addMarker(r),l[r]||(l[r]=[]),l[r].push(t)}}},"core/src/lib/helpers/getObjectProperty.js":{script:function(e){"use strict";e.exports=function(e,t){for(var a=t.split("."),r=e,n=0,s=a.length;n<s;n++){if(null==r)return;r=r[a[n]]}return r}}},"core/src/lib/actions/helpers/decorateCode.js":{script:function(e,t,a,r){"use strict";var n=0,s=function(e){return e.settings.isExternal},o=function(e,t){return"<script>\n"+t+"\n</script>"},i=function(e,t){var a="__runScript"+ ++n;return _satellite[a]=function(t){t.call(e.event.element,e.event,e.event.target),delete _satellite[a]},'<script>_satellite["'+a+'"](function(event, target) {\n'+t+"\n});</script>"},c={javascript:function(e,t){return e.settings.global?o(e,t):i(e,t)},html:function(e,t){return s(e)?r.replaceTokens(t,e.event):t}};e.exports=function(e,t){return c[e.settings.language](e,t)}}},"core/src/lib/actions/helpers/loadCodeSequentially.js":{script:function(e,t,a){"use strict";var r=a("@adobe/reactor-promise"),n=a("./getSourceByUrl"),s=r.resolve();e.exports=function(e){var t=new r((function(t){var a=n(e);r.all([a,s]).then((function(e){var a=e[0];t(a)}))}));return s=t,t}}},"core/node_modules/postscribe/dist/postscribe.js":{script:function(e,t){var a,r;a=this,r=function(){return function(e){function t(r){if(a[r])return a[r].exports;var n=a[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=r(a(1));e.exports=n.default},function(e,t,a){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}function s(){}function o(){var e=f.shift();if(e){var t=u.last(e);t.afterDequeue(),e.stream=i.apply(void 0,e),t.afterStreamStart()}}function i(e,t,a){function r(e){e=a.beforeWrite(e),g.write(e),a.afterWrite(e)}(g=new d.default(e,a)).id=p++,g.name=a.name||g.id,c.streams[g.name]=g;var n=e.ownerDocument,i={close:n.close,open:n.open,write:n.write,writeln:n.writeln};l(n,{close:s,open:s,write:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return r(t.join(""))},writeln:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return r(t.join("")+"\n")}});var u=g.win.onerror||s;return g.win.onerror=function(e,t,r){a.error({msg:e+" - "+t+": "+r}),u.apply(g.win,[e,t,r])},g.write(t,(function(){l(n,i),g.win.onerror=u,a.done(),g=null,o()})),g}function c(e,t,a){if(u.isFunction(a))a={done:a};else if("clear"===a)return f=[],g=null,void(p=0);a=u.defaults(a,m);var r=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,a];return e.postscribe={cancel:function(){r.stream?r.stream.abort():r[1]=s}},a.beforeEnqueue(r),f.push(r),g||o(),e.postscribe}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};t.default=c;var d=n(a(2)),u=r(a(4)),m={afterAsync:s,afterDequeue:s,afterStreamStart:s,afterWrite:s,autoFix:!0,beforeEnqueue:s,beforeWriteToken:function(e){return e},beforeWrite:function(e){return e},done:s,error:function(e){throw new Error(e.msg)},releaseAsync:!1},p=0,f=[],g=null;l(c,{streams:{},queue:f,WriteStream:d.default})},function(e,t,a){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){
var a=m+t,r=e.getAttribute(a);return d.existy(r)?String(r):r}function i(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=m+t;d.existy(a)&&""!==a?e.setAttribute(r,a):e.removeAttribute(r)}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=n(a(3)),d=r(a(4)),u=!1,m="data-ps-",p="ps-style",f="ps-script",g=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(this,e),this.root=t,this.options=a,this.doc=t.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new l.default("",{autoFix:a.autoFix}),this.actuals=[t],this.proxyHistory="",this.proxyRoot=this.doc.createElement(t.nodeName),this.scriptStack=[],this.writeQueue=[],i(this.proxyRoot,"proxyof",0)}return e.prototype.write=function(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var t=this.writeQueue.shift();d.isFunction(t)?this._callFunction(t):this._writeImpl(t)}},e.prototype._callFunction=function(e){var t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)},e.prototype._writeImpl=function(e){this.parser.append(e);for(var t=void 0,a=void 0,r=void 0,n=[];(t=this.parser.readToken())&&!(a=d.isScript(t))&&!(r=d.isStyle(t));)(t=this.options.beforeWriteToken(t))&&n.push(t);n.length>0&&this._writeStaticTokens(n),a&&this._handleScriptToken(t),r&&this._handleStyleToken(t)},e.prototype._writeStaticTokens=function(e){var t=this._buildChunk(e);return t.actual?(t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,u&&(t.proxyInnerHTML=this.proxyRoot.innerHTML),this._walkChunk(),u&&(t.actualInnerHTML=this.root.innerHTML),t):null},e.prototype._buildChunk=function(e){for(var t=this.actuals.length,a=[],r=[],n=[],s=e.length,o=0;o<s;o++){var i=e[o],c=i.toString();if(a.push(c),i.attrs){if(!/^noscript$/i.test(i.tagName)){var l=t++;r.push(c.replace(/(\/?>)/," "+m+"id="+l+" $1")),i.attrs.id!==f&&i.attrs.id!==p&&n.push("atomicTag"===i.type?"":"<"+i.tagName+" "+m+"proxyof="+l+(i.unary?" />":">"))}}else r.push(c),n.push("endTag"===i.type?c:"")}return{tokens:e,raw:a.join(""),actual:r.join(""),proxy:n.join("")}},e.prototype._walkChunk=function(){for(var e=void 0,t=[this.proxyRoot];d.existy(e=t.shift());){var a=1===e.nodeType;if(!a||!o(e,"proxyof")){a&&(this.actuals[o(e,"id")]=e,i(e,"id"));var r=e.parentNode&&o(e.parentNode,"proxyof");r&&this.actuals[r].appendChild(e)}t.unshift.apply(t,d.toArray(e.childNodes))}},e.prototype._handleScriptToken=function(e){var t=this,a=this.parser.clear();a&&this.writeQueue.unshift(a),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,(function(){t._onScriptDone(e)})))},e.prototype._handleStyleToken=function(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),t&&this.write()},e.prototype._writeStyleToken=function(e){var t=this._buildStyle(e);this._insertCursor(t,p),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},e.prototype._buildStyle=function(e){var t=this.doc.createElement(e.tagName);return t.setAttribute("type",e.type),d.eachKey(e.attrs,(function(e,a){t.setAttribute(e,a)})),t},e.prototype._insertCursor=function(e,t){this._writeImpl('<span id="'+t+'"/>');var a=this.doc.getElementById(t);a&&a.parentNode.replaceChild(e,a)},e.prototype._onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},e.prototype._onScriptDone=function(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({msg:"Bad script nesting or script finished twice"})},e.prototype._writeScriptToken=function(e,t){var a=this._buildScript(e),r=this._shouldRelease(a),n=this.options.afterAsync;e.src&&(a.src=e.src,this._scriptLoadHandler(a,r?n:function(){t(),n()}));try{this._insertCursor(a,f),a.src&&!r||t()}catch(e){this.options.error(e),t()}},e.prototype._buildScript=function(e){var t=this.doc.createElement(e.tagName);return d.eachKey(e.attrs,(function(e,a){t.setAttribute(e,a)})),e.content&&(t.text=e.content),t},e.prototype._scriptLoadHandler=function(e,t){function a(){e=e.onload=e.onreadystatechange=e.onerror=null}function r(){a(),null!=t&&t(),t=null}function n(e){a(),o(e),null!=t&&t(),t=null}function s(e,t){var a=e["on"+t];null!=a&&(e["_on"+t]=a)}var o=this.options.error;s(e,"load"),s(e,"error"),c(e,{onload:function(){if(e._onload)try{e._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){n({msg:"onload handler failed "+t+" @ "+e.src})}r()},onerror:function(){if(e._onerror)try{e._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){return void n({msg:"onerror handler failed "+t+" @ "+e.src})}n({msg:"remote script failed "+e.src})},onreadystatechange:function(){/^(loaded|complete)$/.test(e.readyState)&&r()}})},e.prototype._shouldRelease=function(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},e}();t.default=g},function(e){var t;t=function(){return function(e){function t(r){if(a[r])return a[r].exports;var n=a[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=r(a(1));e.exports=n.default},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=n(a(2)),i=n(a(3)),c=r(a(6)),l=a(5),d={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},u=function(){function e(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(this,e),this.stream=a;var n=!1,i={};for(var l in o)o.hasOwnProperty(l)&&(r.autoFix&&(i[l+"Fix"]=!0),n=n||i[l+"Fix"]);n?(this._readToken=(0,c.default)(this,i,(function(){return t._readTokenImpl()})),this._peekToken=(0,c.default)(this,i,(function(){return t._peekTokenImpl()}))):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}return e.prototype.append=function(e){this.stream+=e},e.prototype.prepend=function(e){this.stream=e+this.stream},e.prototype._readTokenImpl=function(){var e=this._peekTokenImpl();if(e)return this.stream=this.stream.slice(e.length),e},e.prototype._peekTokenImpl=function(){for(var e in d)if(d.hasOwnProperty(e)&&d[e].test(this.stream)){var t=i[e](this.stream);if(t)return"startTag"===t.type&&/script|style/i.test(t.tagName)?null:(t.text=this.stream.substr(0,t.length),t)}},e.prototype.peekToken=function(){return this._peekToken()},e.prototype.readToken=function(){return this._readToken()},e.prototype.readTokens=function(e){for(var t=void 0;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return},e.prototype.clear=function(){var e=this.stream;return this.stream="",e},e.prototype.rest=function(){return this.stream},e}();for(var m in t.default=u,u.tokenToString=function(e){return e.toString()},u.escapeAttributes=function(e){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[a]=(0,l.escapeQuotes)(e[a],null));return t},u.supports=o,o)o.hasOwnProperty(m)&&(u.browserHasFlaw=u.browserHasFlaw||!o[m]&&m)},function(e,t){"use strict";t.__esModule=!0;var a=!1,r=!1,n=window.document.createElement("div");try{var s="<P><I></P></I>";n.innerHTML=s,t.tagSoup=a=n.innerHTML!==s}catch(e){t.tagSoup=a=!1}try{n.innerHTML="<P><i><P></P></i></P>",t.selfClose=r=2===n.childNodes.length}catch(e){t.selfClose=r=!1}n=null,t.tagSoup=a,t.selfClose=r},function(e,t,a){"use strict";function r(e){var t=e.indexOf("-->");if(t>=0)return new l.CommentToken(e.substr(4,t-1),t+3)}function n(e){var t=e.indexOf("<");return new l.CharsToken(t>=0?t:e.length)}function s(e){var t,a,r;if(-1!==e.indexOf(">")){var n=e.match(d.startTag);if(n){var s=(t={},a={},r=n[2],n[2].replace(d.attr,(function(e,n){arguments[2]||arguments[3]||arguments[4]||arguments[5]?arguments[5]?(t[arguments[5]]="",a[arguments[5]]=!0):t[n]=arguments[2]||arguments[3]||arguments[4]||d.fillAttr.test(n)&&n||"":t[n]="",r=r.replace(e,"")})),{v:new l.StartTagToken(n[1],n[0].length,t,a,!!n[3],r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))});if("object"===(void 0===s?"undefined":c(s)))return s.v}}}function o(e){var t=s(e);if(t){var a=e.slice(t.length);if(a.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var r=a.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(r)return new l.AtomicTagToken(t.tagName,r[0].length+t.length,t.attrs,t.booleanAttrs,r[1])}}}function i(e){var t=e.match(d.endTag);if(t)return new l.EndTagToken(t[1],t[0].length)}t.__esModule=!0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.comment=r,t.chars=n,t.startTag=s,t.atomicTag=o,t.endTag=i;var l=a(4),d={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.EndTagToken=t.AtomicTagToken=t.StartTagToken=t.TagToken=t.CharsToken=t.CommentToken=t.Token=void 0;var n=a(5),s=(t.Token=function e(t,a){r(this,e),this.type=t,this.length=a,this.text=""},t.CommentToken=function(){function e(t,a){r(this,e),this.type="comment",this.length=a||(t?t.length:0),this.text="",this.content=t}return e.prototype.toString=function(){return"<!--"+this.content},e}(),t.CharsToken=function(){function e(t){r(this,e),this.type="chars",this.length=t,this.text=""}return e.prototype.toString=function(){return this.text},e}(),t.TagToken=function(){function e(t,a,n,s,o){r(this,e),this.type=t,this.length=n,this.text="",this.tagName=a,this.attrs=s,this.booleanAttrs=o,this.unary=!1,this.html5Unary=!1}return e.formatTag=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a="<"+e.tagName;for(var r in e.attrs)if(e.attrs.hasOwnProperty(r)){a+=" "+r;var s=e.attrs[r];void 0!==e.booleanAttrs&&void 0!==e.booleanAttrs[r]||(a+='="'+(0,n.escapeQuotes)(s)+'"')}return e.rest&&(a+=" "+e.rest),e.unary&&!e.html5Unary?a+="/>":a+=">",null!=t&&(a+=t+"</"+e.tagName+">"),a},e}());t.StartTagToken=function(){function e(t,a,n,s,o,i){r(this,e),this.type="startTag",this.length=a,this.text="",this.tagName=t,this.attrs=n,this.booleanAttrs=s,this.html5Unary=!1,this.unary=o,this.rest=i}return e.prototype.toString=function(){return s.formatTag(this)},e}(),t.AtomicTagToken=function(){function e(t,a,n,s,o){r(this,e),this.type="atomicTag",this.length=a,this.text="",this.tagName=t,this.attrs=n,this.booleanAttrs=s,this.unary=!1,this.html5Unary=!1,this.content=o}return e.prototype.toString=function(){return s.formatTag(this,this.content)},e}(),t.EndTagToken=function(){function e(t,a){r(this,e),this.type="endTag",this.length=a,this.text="",this.tagName=t}return e.prototype.toString=function(){return"</"+this.tagName+">"},e}()},function(e,t){"use strict";function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?e.replace(/([^"]*)"/g,(function(e,t){return/\\/.test(t)?t+'"':t+'\\"'})):t}t.__esModule=!0,t.escapeQuotes=a},function(e,t){"use strict";function a(e){return e&&"startTag"===e.type&&(e.unary=i.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function r(e,t){var r=e.stream,n=a(t());return e.stream=r,n}function n(e,t){var a=t.pop();e.prepend("</"+a.tagName+">")}function s(){var e=[];return e.last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var t,a=0;t=this[a];a++)if(t.tagName===e)return!0;return!1},e}function o(e,t,o){function i(){var t=r(e,o);t&&d[t.type]&&d[t.type](t)}var l=s(),d={startTag:function(a){var r=a.tagName;"TR"===r.toUpperCase()&&l.lastTagNameEq("TABLE")?(e.prepend("<TBODY>"),i()):t.selfCloseFix&&c.test(r)&&l.containsTagName(r)?l.lastTagNameEq(r)?n(e,l):(e.prepend("</"+a.tagName+">"),i()):a.unary||l.push(a)},endTag:function(a){l.last()?t.tagSoupFix&&!l.lastTagNameEq(a.tagName)?n(e,l):l.pop():t.tagSoupFix&&(o(),i())}};return function(){return i(),a(o())}}t.__esModule=!0,t.default=o;var i=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,c=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}])},e.exports=t()},function(e,t){"use strict";function a(e){return null!=e}function r(e){return"function"==typeof e}function n(e,t,a){var r=void 0,n=e&&e.length||0;for(r=0;r<n;r++)t.call(a,e[r],r)}function s(e,t,a){for(var r in e)e.hasOwnProperty(r)&&t.call(a,r,e[r])}function o(e,t){return e=e||{},s(t,(function(t,r){a(e[t])||(e[t]=r)})),e}function i(e){try{return Array.prototype.slice.call(e)}catch(r){var t=(a=[],n(e,(function(e){a.push(e)})),{v:a});if("object"===(void 0===t?"undefined":m(t)))return t.v}var a}function c(e){return e[e.length-1]}function l(e,t){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e)||!~e.tagName.toLowerCase().indexOf(t))}function d(e){return l(e,"script")}function u(e){return l(e,"style")}t.__esModule=!0;var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.existy=a,t.isFunction=r,t.each=n,t.eachKey=s,t.defaults=o,t.toArray=i,t.last=c,t.isTag=l,t.isScript=d,t.isStyle=u}])},"object"==typeof t&&"object"==typeof e?e.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof t?t.postscribe=r():a.postscribe=r()}},"core/src/lib/actions/helpers/getSourceByUrl.js":{script:function(e,t,a){"use strict";var r=a("@adobe/reactor-load-script"),n=a("@adobe/reactor-promise"),s={},o={},i=function(e){return o[e]||(o[e]=r(e)),o[e]};_satellite.__registerScript=function(e,t){s[e]=t},e.exports=function(e){return s[e]?n.resolve(s[e]):new n((function(t){i(e).then((function(){t(s[e])}),(function(){t()}))}))}}},"core/src/lib/helpers/textMatch.js":{script:function(e){"use strict";e.exports=function(e,t){if(null==t)throw new Error("Illegal Argument: Pattern is not present");return null!=e&&("string"==typeof t?e===t:t instanceof RegExp&&t.test(e))}}},"core/src/lib/events/helpers/createBubbly.js":{script:function(e,t,a){"use strict";var r=a("./weakMap"),n=a("./matchesProperties"),s=a("./matchesSelector");e.exports=function(){var e=[],t=new r,a={addListener:function(t,a){e.push({settings:t,callback:a})},evaluateEvent:function(a,r){if(e.length&&!t.has(a)){for(var o=a.target,i=!1;o;){for(var c=!1,l=!1,d=0;d<e.length;d++){var u=e[d],m=u.settings.elementSelector,p=u.settings.elementProperties;if((!1!==u.settings.bubbleFireIfChildFired||!i)&&(o===a.target||!1!==u.settings.bubbleFireIfParent)&&(o===a.target||m||p&&Object.keys(p).length)&&(!m||s(o,m))&&(!p||n(o,p))){var f={};r?Object.keys(a).forEach((function(e){f[e]=a[e]})):f.nativeEvent=a,f.element=o,f.target=a.target,!1!==u.callback(f)&&(l=!0,u.settings.bubbleStop&&(c=!0))}}if(c)break;l&&(i=!0),o=o.parentNode}t.set(a,!0)}},__reset:function(){e=[]}};return a}}},"core/src/lib/events/helpers/weakMap.js":{script:function(e,t,a){"use strict";var r=a("@adobe/reactor-window").WeakMap;if(void 0===r){var n=Object.defineProperty,s=Date.now()%1e9;(r=function(){this.name="__st"+(1e9*Math.random()>>>0)+s+++"__"}).prototype={set:function(e,t){var a=e[this.name];return a&&a[0]===e?a[1]=t:n(e,this.name,{value:[e,t],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},delete:function(e){var t=e[this.name];return!(!t||t[0]!==e||(t[0]=t[1]=void 0,0))},has:function(e){var t=e[this.name];return!!t&&t[0]===e}}}e.exports=r}},"core/src/lib/events/helpers/matchesProperties.js":{script:function(e,t,a){"use strict";var r=a("./../../helpers/textMatch"),n=function(e,t){return"@text"===t||"innerText"===t?e.textContent||e.innerText:t in e?e[t]:e.getAttribute?e.getAttribute(t):void 0};e.exports=function(e,t){return!t||t.every((function(t){var a=n(e,t.name),s=t.valueIsRegex?new RegExp(t.value,"i"):t.value;return r(a,s)}))}}},"core/src/lib/events/helpers/matchesSelector.js":{script:function(e,t,a,r){"use strict";e.exports=function(e,t){var a=e.matches||e.msMatchesSelector;if(a)try{return a.call(e,t)}catch(e){return r.logger.warn("Matching element failed. "+t+" is not a valid selector."),!1}return!1}}},"core/src/lib/events/helpers/pageLifecycleEvents.js":{script:function(e,t,a){"use strict";var r=a("@adobe/reactor-window"),n=a("@adobe/reactor-document"),s=-1!==r.navigator.appVersion.indexOf("MSIE 10"),o="WINDOW_LOADED",i="DOM_READY",c="PAGE_BOTTOM",l=[c,i,o],d=function(e,t){return{element:e,target:e,nativeEvent:t}},u={};l.forEach((function(e){u[e]=[]}));var m=function(e,t){l.slice(0,f(e)+1).forEach((function(e){g(t,e)}))},p=function(){return"complete"===n.readyState?o:"interactive"===n.readyState?s?null:i:void 0},f=function(e){return l.indexOf(e)},g=function(e,t){u[t].forEach((function(t){h(e,t)})),u[t]=[]},h=function(e,t){var a=t.trigger,r=t.syntheticEventFn;a(r?r(e):null)};r._satellite=r._satellite||{},r._satellite.pageBottom=m.bind(null,c),n.addEventListener("DOMContentLoaded",m.bind(null,i),!0),r.addEventListener("load",m.bind(null,o),!0),r.setTimeout((function(){var e=p();e&&m(e)}),0),e.exports={registerLibraryLoadedTrigger:function(e){e()},registerPageBottomTrigger:function(e){u[c].push({trigger:e})},registerDomReadyTrigger:function(e){u[i].push({trigger:e,syntheticEventFn:d.bind(null,n)})},registerWindowLoadedTrigger:function(e){u[o].push({trigger:e,syntheticEventFn:d.bind(null,r)})}}}},"core/src/lib/helpers/visitorTracking.js":{script:function(e,t,a){"use strict";var r=a("@adobe/reactor-cookie"),n=a("@adobe/reactor-document"),s=a("@adobe/reactor-window"),o=a("./getNamespacedStorage"),i="_sdsat_",c="visitorTracking",l="cookiesMigrated",d=o("localStorage",c),u=o("sessionStorage",c),m=function(){var e=u.getItem("landingPage");return e||(u.setItem("landingPage",s.location.href),u.setItem("landingTime",(new Date).getTime())),!e},p=function(){return u.getItem("landingPage")},f=function(){return Number(u.getItem("landingTime"))},g=function(){return Number(d.getItem("sessionCount"))},h=function(){return Number(d.getItem("pagesViewed"))},v=function(){var e=(new Date).getTime();return Math.floor((e-f())/1e3/60)},_=function(){return u.getItem("trafficSource")},b=function(){return Number(u.getItem("pagesViewed"))},y=function(){return 1===g()},P=function(e){e&&d.setItem("sessionCount",g()+1)},k=function(){u.setItem("pagesViewed",b()+1)},C=function(){d.setItem("pagesViewed",h()+1)},j=function(){u.getItem("trafficSource")||u.setItem("trafficSource",n.referrer)},w=function(){var e=m();P(e),C(),k(),j()};(function(){if(!d.getItem(l)){var e=r.get(i+"session_count");e&&d.setItem("sessionCount",e);var t=r.get(i+"lt_pages_viewed");t&&d.setItem("pagesViewed",t),d.setItem(l,!0)}})(),w(),e.exports={getLandingPage:p,getLandingTime:f,getMinutesOnSite:v,getSessionCount:g,getLifetimePageViewCount:h,getSessionPageViewCount:b,getTrafficSource:_,getIsNewVisitor:y}}},"core/src/lib/helpers/getNamespacedStorage.js":{script:function(e,t,a){"use strict";var r=a("@adobe/reactor-window"),n="com.adobe.reactor.core";e.exports=function(e,t){var a=n+"."+t;return{getItem:function(t){try{return r[e].getItem(a+"."+t)}catch(e){return null}},setItem:function(t,n){try{return r[e].setItem(a+"."+t,n),!0}catch(e){return!1}}}}}},"core/src/lib/events/helpers/debounce.js":{script:function(e){"use strict";e.exports=function(e,t,a){var r=null;return function(){var n=a||this,s=arguments;clearTimeout(r),r=setTimeout((function(){e.apply(n,s)}),t)}}}},"core/src/lib/events/helpers/once.js":{script:function(e){"use strict";e.exports=function(e,t){var a;return function(){return e&&(a=e.apply(t||this,arguments),e=null),a}}}},"core/src/lib/events/helpers/enableWeakMapDefaultValue.js":{script:function(e){"use strict";e.exports=function(e,t){var a=e.get;return e.get=function(r){return e.has(r)||e.set(r,t()),a.apply(this,arguments)},e}}},"core/src/lib/events/helpers/visibilityApi.js":{script:function(e){"use strict";e.exports=function(){var e={hidden:"visibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange",webkitHidden:"webkitvisibilitychange"};for(var t in e)if(e.hasOwnProperty(t)&&void 0!==document[t])return{hiddenProperty:t,visibilityChangeEventType:e[t]};return{}}}},"core/src/lib/events/helpers/timer.js":{script:function(e,t,a){"use strict";var r=a("@adobe/reactor-object-assign"),n=a("../../../../node_modules/mitt/dist/mitt"),s=1e3,o=function(e,t,a){return a.indexOf(e)===t},i=function(e){r(this,n()),this._total=0,this._checkInterval=e||s,this._intervalId=null,this._markers=[]};i.prototype={start:function(){this.resume()},resume:function(){this._setIntervalUpdater(),this._startNewInternalTimer()},pause:function(){this._removeIntervalUpdater(),this._calculateTimePassed(),this._stopInternalTimer()},getTime:function(){return this._total},addMarker:function(e){this._markers.push(e),this._markers=this._markers.filter(o),this._markers.sort()},_setIntervalUpdater:function(){this._intervalId=window.setInterval(this._calculateTimePassed.bind(this),this._checkInterval)},_removeIntervalUpdater:function(){window.clearInterval(this._intervalId)},_startNewInternalTimer:function(){this._startTime=(new Date).getTime()},_stopInternalTimer:function(){this._startTime=null},_calculateTimePassed:function(){this._total+=(new Date).getTime()-this._startTime,this._checkMarkersCompleted(),this._startNewInternalTimer()},_checkMarkersCompleted:function(){for(var e=this.getTime(),t=0;t<this._markers.length;t++){var a=this._markers[t];e>=a&&(this.emit("markerPassed",a),this._markers.splice(t,1),t-=1)}}},e.exports=i}},"core/node_modules/mitt/dist/mitt.js":{script:function(e){function t(e){return e=e||Object.create(null),{on:function(t,a){(e[t]||(e[t]=[])).push(a)},off:function(t,a){e[t]&&e[t].splice(e[t].indexOf(a)>>>0,1)},emit:function(t,a){(e[t]||[]).slice().map((function(e){e(a)})),(e["*"]||[]).slice().map((function(e){e(t,a)}))}}}e.exports=t}}}},"acronym-gtag.js":{displayName:"Google Global Site Tag (gtag)",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP81069fa771f5458f8c98b5782f82e181/",settings:{accounts:{1727890546729:{id:"1727890546729",name:"GA4 G-1LXTBF5X2V",type:"ga",options:[],accounts:{staging:"G-1LXTBF5X2V",production:"G-1LXTBF5X2V",development:"G-1LXTBF5X2V"},settings:{linker:{domains:"",decorate_forms:!1,accept_incoming:!0},user_id:"",cookie_name:"",optimize_id:"",anonymize_ip:!1,cookie_domain:"",cookie_expires:""},custom_map:[["dimension9","%ga_client_id%"],["dimension10","%mr_prof_member_program_level%"],["dimension11","%mr_prof_points_balance%"],["dimension12","%mr_prof_address_city_state_country%"],["dimension13","%mr_prof_join_date%"],["dimension14","%mr_prof_stay_in_progress%"],["dimension15","%mr_prof_stays_lifetime%"],["dimension16","%mr_prof_nights_booked_this_year%"],["dimension17","%mr_prof_nights_lifetime%"]]}},configCode:function(e){e("consent","default",{ad_storage:"granted",ad_user_data:"granted",ad_personalization:"granted",analytics_storage:"granted"}),e("set","url_passthrough",!1)},functionName:"",dataLayerName:"dataLayerA",displayFeatures:!0},modules:{"acronym-gtag.js/src/lib/actions/event.js":{name:"send-gtag.js-event",displayName:"Send an event",script:function(e,t,a,r){"use strict";e.exports=function(e){var t=a("../helpers/loadGtag")(),n=a("../helpers/castOptionTypes"),s=a("../helpers/getAccountId"),o=r.getExtensionSettings(),i={send_to:[]};if("object"==typeof(e=e||{}).accounts&&null!==e.accounts&&Object.keys(e.accounts).length>0){for(var c in e.accounts)if(e.accounts.hasOwnProperty(c)&&(!0===e.accounts[c].enabled||"true"===e.accounts[c].enabled)){var l=o.accounts[c];if(void 0===l){r.logger.warn("ACRGTAG-201 - An account was removed in the extension config but is still enabled in the rule");continue}var d=s(l);if("string"==typeof e.accounts[c].label&&""!==e.accounts[c].label){var u=d+"/";e.accounts[c].label.split(",").forEach((function(e){i.send_to.push(u+e.trim().replace(u,""))}))}else i.send_to.push(d)}"object"==typeof e.options&&e.options.length&&e.options.forEach((function(e){i[e[0]]=e[1]})),"function"==typeof e.callback&&(i.event_callback=function(){e.callback.call(this,t)}),(i=n(i)).send_to.length?(t("event",e.name,i),r.logger.log("event fired for accounts "+i.send_to.join(", ")+" with the options:",JSON.stringify(i))):r.logger.warn("ACRGTAG-200 - No accounts enabled for the "+e.name+" event")}else r.logger.warn("ACRGTAG-200 - No accounts enabled for the "+e.name+" event")}}},"acronym-gtag.js/src/lib/actions/pageview.js":{name:"send-gtag.js-pageview",displayName:"Send a page view",script:function(e,t,a,r){"use strict";e.exports=function(e){var t=a("../helpers/loadGtag")(),n=a("../helpers/castOptionTypes"),s=a("../helpers/getAccountId"),o=r.getExtensionSettings();if("object"==typeof e.accounts&&null!==e.accounts&&Object.keys(e.accounts).length>0){for(var i in e.accounts)if(e.accounts.hasOwnProperty(i)&&(!0===e.accounts[i].enabled||"true"===e.accounts[i].enabled)){var c=o.accounts[i];if(void 0===c){r.logger.warn("ACRGTAG-201: An account was removed in the extension config but is still enabled in the rule");continue}var l=s(c),d={send_to:[l]};(e.accounts[i].options||[]).forEach((function(e){d[e[0]]=e[1]})),t("event","page_view",d=n(d)),r.logger.log("page view fired for account "+l+" with the options:",JSON.stringify(d))}}else r.logger.warn("ACRGTAG-200 - No accounts enabled for the page_view event")}}},"acronym-gtag.js/src/lib/helpers/loadGtag.js":{script:function(e,t,a,r){"use strict";e.exports=function(){var e=r.getExtensionSettings(),t=e.dataLayerName||"dataLayer",n=e.functionName||"gtag",s=a("@adobe/reactor-window"),o=a("@adobe/reactor-load-script"),i=a("../helpers/getAccountId"),c=a("../helpers/castOptionTypes"),l="";if(s[n]||(s[t]=s[t]||[],s[n]=function(){Array.isArray(s[t])?s[t].push(arguments):r.logger.error("ACRGTAG-104: Data layer variable '"+t+"' malformed",s[t])},s[n]("js",new Date)),!_satellite.getVar("__acronym_gtag_loaded")){if(_satellite.setVar("__acronym_gtag_loaded",!0),("string"==typeof e.displayFeatures&&"true"!==e.displayFeatures||"string"!=typeof e.displayFeatures&&!Boolean(e.displayFeatures))&&(s[n]("set",{allow_ad_personalization_signals:!1}),r.logger.log("Display features are disabled")),"object"==typeof e.accounts&&null!==e.accounts&&Object.keys(e.accounts).length>0){for(var d in e.accounts)if(e.accounts.hasOwnProperty(d)){var u=e.accounts[d],m=u.settings||{};l=i(u),"object"==typeof u.custom_map&&u.custom_map.length&&(m.custom_map=m.custom_map||{},u.custom_map.forEach((function(e){m.custom_map[e[0]]=e[1]}))),(u.options||[]).forEach((function(e){m[e[0]]=e[1]})),m.send_page_view=!1,m=c(m),s[n]("config",l,m),r.logger.log("account "+l+" was loaded with the options:",JSON.stringify(m))}if("function"==typeof e.configCode)try{e.configCode(s[n],s[t])}catch(e){r.logger.error("ACRGTAG-101: Custom config code error:",e)}}else r.logger.warn("ACRGTAG-102: No accounts configured");var p="gtag.js library";r.logger.log("loading "+p),o("https://www.googletagmanager.com/gtag/js?id="+l+"&l="+t).then((function(){r.logger.log(p+" successfully loaded")}),(function(){r.logger.error("ACRGTAG-100: "+p+" could not be loaded")}))}return s[n]}},name:"get-gtag",shared:!0},"acronym-gtag.js/src/lib/helpers/castOptionTypes.js":{script:function(e){"use strict";e.exports=function(e){var t={bool:function(e){return"string"==typeof e?"true"===e:Boolean(e)},int:function(e){var t=parseInt(e);return isNaN(t)?0:t},float:function(e){var t=parseFloat(e);return isNaN(t)?0:t},csv:function(e){return"string"==typeof e?""===e?void 0:e.split(","):e},custom_map:function(e){var t={};return"string"==typeof e?e.split(",").forEach((function(e){var a=e.split(":");2===a.length&&(t[a[0]]=a[1])})):"object"==typeof e&&(t=e),t}},a={accept_incoming:t.bool,allow_ad_personalization_signals:t.bool,anonymize_ip:t.bool,checkout_step:t.int,cookie_expires:t.int,custom_map:t.custom_map,event_timeout:t.int,fatal:t.bool,levels:t.int,link_attribution:t.bool,linker:{domains:t.csv,accept_incoming:t.bool,decorate_forms:t.bool},non_interaction:t.bool,value:t.float};return Object.keys(e).forEach((function(t){"function"==typeof a[t]?e[t]=a[t](e[t]):"object"==typeof a[t]&&"object"==typeof e[t]&&null!==e[t]&&Object.keys(e[t]).forEach((function(r){"function"==typeof a[t][r]&&(e[t][r]=a[t][r](e[t][r]))}))})),e}}},"acronym-gtag.js/src/lib/helpers/getAccountId.js":{script:function(e,t,a,r){"use strict";e.exports=function(e,t){return t||(t=r.environment.stage),"string"==typeof e.accounts[t]&&""!==e.accounts[t]?e.accounts[t]:e.accounts.production}}}}},"adobe-target":{displayName:"Adobe Target",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPc2a65477976243e69d5fe1910addf5fb/",settings:{targetSettings:{enabled:!0,timeout:3e3,version:"1.8.2",imsOrgId:"664516D751E565010A490D4C@AdobeOrg",clientCode:"marriottinternationa",secureOnly:!1,crossDomain:"disabled",optinEnabled:!1,serverDomain:"marriottinternationa.tt.omtrdc.net",urlSizeLimit:2048,optoutEnabled:!1,globalMboxName:"target-global-mbox",bodyHiddenStyle:"body {opacity: 0}",deviceIdLifetime:632448e5,bodyHidingEnabled:!0,sessionIdLifetime:186e4,visitorApiTimeout:2e3,authoringScriptUrl:"//cdn.tt.omtrdc.net/cdn/target-vec.js",overrideMboxEdgeServer:!1,selectorsPollingTimeout:5e3,defaultContentHiddenStyle:"visibility: hidden;",defaultContentVisibleStyle:"visibility: visible;",overrideMboxEdgeServerTimeout:186e4,supplementalDataIdParamTimeout:30}},modules:{}},"data-element-assistant":{displayName:"Data Element Assistant",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP634d430f78964f1597e7328a6af419f8/",modules:{"data-element-assistant/src/lib/dataElements/sequence.js":{name:"sequence",displayName:"Sequence",script:function(e,t,a){"use strict";function r(e){return 0===e||!!e}function n(e){for(var t=e.length,a=0;a<t;a++)if(r(e[a]))return e[a]}var s=a("./utils/logger"),o=a("./utils/is"),i=a("./utils/findTargetValue");e.exports=function(e){try{if(!e.dataElementIds||!o.array(e.dataElementIds))throw new Error("Invalid or missing settings.dataElementIds");var t,a=e.inputTypes,c=e.dataElementIds,l=c.length;if(!o.array(a))return n(c);for(var d=0;d<l;d++)if(r(t="path"===a[d]?i(window,c[d]):c[d]))return t}catch(e){return s.log("error","Sequence",e.message)}}}},"data-element-assistant/src/lib/dataElements/utils/logger.js":{script:function(e,t,a,r){var n,s=!1;e.exports=function(){if(s)return n;var e={error:"[Error]"};return s=!0,n={log:function(t,a,n){var s="DEA "+a+(e[t]||"")+": "+n;void 0!==r&&r.logger[t](s)}}}()}},"data-element-assistant/src/lib/dataElements/utils/is.js":{script:function(e){e.exports=function(){function e(e){return function(a){return t.call(a)===e}}var t=Object.prototype.toString,a="[object Boolean]",r="[object String]",n="[object Number]",s="[object Object]",o="[object Function]",i="[object Null]",c="[object Undefined]";return{array:e("[object Array]"),object:e(s),function:e(o),null:e(i),undefined:e(c),string:e(r),number:e(n),boolean:e(a),nil:function(e){return this.null(e)||this.undefined(e)}}}()}},"data-element-assistant/src/lib/dataElements/utils/findTargetValue.js":{script:function(e){e.exports=function(e,t){return t.split(".").reduce((function(e,t){return(e||{})[t]}),e)}}}}},"adobe-analytics":{displayName:"Adobe Analytics",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPbde2f7ca14e540399dcc1f8208860b7b/",settings:{orgId:"664516D751E565010A490D4C@AdobeOrg",customSetup:{source:function(e){
"undefined"!=typeof Visitor&&(e.visitor=Visitor.getInstance("664516D751E565010A490D4C@AdobeOrg"));var t=location.href,a="",r=document.location.hostname+",",n=document.getElementById("resframe");n&&(t=n.src),t.match("/execustay/reservation/")||(r+=".marriott.com,"),r+=".marriott.co.uk,.marriott.de,.marriott.com.au,.marriott.com.cn,.marriott.co.jp,.marriott.fr,.marriott.com.br,.marriottrewardinsiders.com,flexrez.com,investor.shareholder.com,.marriott.com.ar,.marriott.com.br,.marriott.co.kr,.marriott.de,marriott.flexrez.com,.marriott.fr,.marriott.hk,.marriott.ie,.marriottdevelopment.com,.marriottdruidsglen.ie,marriott-email.com,.marriotthotels.ch,.marriotthotels.co.kr,.marriotthotels.co.nz,.marriotthotels.co.uk,.marriotthotels.com.au,.marriotthotels.ie,.marriottmodules.com,.marriottrewards.cl,.marriottrewards.co.ve,.marriottrewards.com.ar,.marriottrewards.com.br,.marriottrewards.com.cn,.marriottrewards.com.do,.marriottrewards.com.mx,.marriottrewards.de,.marriottrewardsinsiders.com,middleeast.shopmarriott.com,mi-prod2.com,.renaissance.com.br,.renaissance.com.do,.renaissancehotels.at,.renaissancehotels.ch,.renaissancehotels.cn,.renaissancehotels.co.at,.renaissancehotels.co.jp,.renaissancehotels.co.kr,.renaissancehotels.co.uk,.renaissancehotels.com.au,.renaissancehotels.com.br,.renaissancehotels.com.cn,.renaissancehotels.de,.renaissancehotels.fr,.santiagomarriott.cl,usablenet.com,investor.shareholder.com,.courtyard.cl,.courtyard.co.cr,.courtyard.com.au,.courtyard.com.mx,.courtyard.fr,.courtyardhotels.at,.courtyardhotels.cn,.courtyardhotels.co.nz,.courtyardhotels.co.uk,.courtyardhotels.de,.courtyardmarriott.cl,hoteis.marriott.com.br,hoteles.espanol.marriott.com,ibahn.com,joinmarriottrewards.com,blogs.marriott.com,marriottrewardsinsiders.marriott.com,marriottassociatesweeps.dja.com,marriottrewardssweeps.dja.com,marriottconsumersweeps.dja.com,investor.shareholder.com/mar/,news.marriott.com,ritzcarlton-email.com,editionhotels.com,execustay.com,.marriott.pt,.marriott.it,.ritzcarlton.com,.meetingsimagined.com,findyourmarriotttravelertype.com,marriott-n4k0bc5.com,proteahotels.com,.marriottcareers.netlinkrg.com,mrpoints.chirpify.com,.deltahotels.com,.stage.rosetta.com,.prod.rosetta.com,.rosetta.com,.marriottrewardsairandcar.com,booking.marriott.it,.marriott.ru,.marriott.com.ru,.vacationsbymarriott.com";var s=".marriott.com|ritzcarlton.com|marriottbonvoyasia.com|taptastego.com|joinmarriottbonvoy.com|morecravings.com|marriottbonvoyasia.jp|marriottbonvoy.com|gaylordhotels.|om|bulgarihotels.com|editionhotels.com|points.com|gaylordopryland.com|gcs-web.com|westinstore.com|gaylordpalms.com|soundwavesgo.com|marriottbonvoyasia|kr|gaylordtexan.com|iris.net|ritzcarltonshops.com|theshelbourne.com|gaylordrockies.com|gaylordnational.com|playalargoresort.com|shopcourtyard.com|cura|edbyjw.com|whotelsthestore.com|courtyardpilsen.cz|joinmarriottrewards.com|aderoscottsdale.com|shopedition.com|memoriesmademarriott.co.uk|sheratontokyo|ay.com|tokyomarriotthotel.com|algonquinresort.com|stregisboutique.com|luxurycollectionstore.com|sheratonstore.com|grandelakes.com|marriottbonvoyboutiq|es.cn|thejosephnashville.com|ritzcarltonosaka.com|fa.us2.oraclecloud.com|montcalmeast.com|collectrenaissance.com|shopmarriott.cn|marriottbonvoyasia.cn|fairfieldstore.com|247activities.com|toranomonedition.com|marriottlifestyle.co.uk|idaypass.com|westinstore.cn|theshelbournevouchers.ie|ritzcarltonshop|.cn|ipoolside.com|jwdesertridge.com|marriott.co.jp|citriquerestaurant.com|huahinmarriott-th.com|serenamiami.com|joinmarriottobop.com|thelytleparkhotel|com|bloungedoha.com|humanitihotel.com|whotels.com|ritzcarltontokyo.com|artovationhotel.com|booking-office.co.uk|marriott.de|hotelvin.com|gaylordhotels|tore.com|hotelcarmichael.com|akirabackdubai.com|whotels-asiapacific.com|thekarolhotel.com|sheratonstore.cn|marriott-re-2019ncovc-jp.com|wpengine.com|t|rnosubitodubai.com|comocomomiami.com|marriott.co.kr|whotelsthestore.cn|eclipse-barcelona.com|.marriott.com.cn|.marriott.co.jp|.marriott.fr|.marriott.com.br|.marriottrewardinsiders.com|flexrez.com|investor.shareholder.com|.marriott.com.ar|.marriott.com.br|.marriott.co.kr|.marriott.de|marriott.flexrez.com|.marriott.fr|.marriott.hk|.marriott.ie|.marriottdevelopment.com|.marriottdruidsglen.ie|marriott-email.com|.marriotthotels.ch|.marriotthotels.co.kr|.marriotthotels.co.nz|.marriotthotels.co.uk|.marriotthotels.com.au|.marriotthotels.ie|.marriottmodules.com|.marriottrewards.cl|.marriottrewards.co.ve|.marriottrewards.com.ar|.marriottrewards.com.br|.marriottrewards.com.cn|.marriottrewards.com.do|.marriottrewards.com.mx|.marriottrewards.de|.marriottrewardsinsiders.com|middleeast.shopmarriott.com|mi-prod2.com|.renaissance.com.br|.renaissance.com.do|.renaissancehotels.at|.renaissancehotels.ch|.renaissancehotels.cn|.renaissancehotels.co.at|.renaissancehotels.co.jp|.renaissancehotels.co.kr|.renaissancehotels.co.uk|.renaissancehotels.com.au|.renaissancehotels.com.br|.renaissancehotels.com.cn|.renaissancehotels.de|.renaissancehotels.fr|.santiagomarriott.cl|usablenet.com|investor.shareholder.com|.courtyard.cl|.courtyard.co.cr|.courtyard.com.au|.courtyard.com.mx|.courtyard.fr|.courtyardhotels.at|.courtyardhotels.cn|.courtyardhotels.co.nz|.courtyardhotels.co.uk|.courtyardhotels.de|.courtyardmarriott.cl|hoteis.marriott.com.br|hoteles.espanol.marriott.com|ibahn.com|joinmarriottrewards.com|blogs.marriott.com|marriottrewardsinsiders.marriott.com|marriottassociatesweeps.dja.com|marriottrewardssweeps.dja.com|marriottconsumersweeps.dja.com|investor.shareholder.com/mar/|news.marriott.com|ritzcarlton-email.com|editionhotels.com|execustay.com|.marriott.pt|.marriott.it|.ritzcarlton.com|.meetingsimagined.com|findyourmarriotttravelertype.com|marriott-n4k0bc5.com|proteahotels.com|.marriottcareers.netlinkrg.com|mrpoints.chirpify.com|.deltahotels.com|.stage.rosetta.com|.prod.rosetta.com|.rosetta.com|.marriottrewardsairandcar.com|booking.marriott.it|.marriott.ru|.marriott.com.ru|.vacationsbymarriott.com|.marriott.co.uk|.marriott.de|.marriott.com.au";document.referrer.length>0&&document.referrer.indexOf("gifts.marriott.com")>-1&&(e.campaign="Unpaid Referrals: gifts.marriott.com"),document.referrer.length>0&&document.referrer.indexOf("mgs.marriott.com")>-1&&(e.campaign="Unpaid Referrals: mgs.marriott.com"),t.indexOf("/golf/hotels/hotel-information/travel/")>-1&&(a=document.location.hostname),t.indexOf("/wedding/hotels/hotel-information/travel/")>-1&&(a=document.location.hostname),t.indexOf("/spa/hotels/hotel-information/travel/")>-1&&(a=document.location.hostname),t.indexOf("/restaurant/hotels/hotel-information/travel/")>-1&&(a=document.location.hostname),t.indexOf("mdcom-init001a2")>-1&&(a=document.location.hostname),t.indexOf("mdcom-pss001c2")>-1&&(a=document.location.hostname),t.indexOf("localhost")>-1&&(a=document.location.hostname),""!=a&&(a=","+a),r+=a,e.linkInternalFilters="javascript:,"+r,e.siteID=e.d.domain,e.defaultPage="",e.queryVarsList="promotions,page",e.pathExcludeDelim=";",e.pathConcatDelim="",e.pathExcludeList="",e.charSet="UTF-8",e.cookieDomainPeriods="2",e.fpCookieDomainPeriods="2";var o=window.location.hostname;(o.indexOf(".co.uk")>1||o.indexOf(".com.au")>-1||o.indexOf(".com.cn")>-1||o.indexOf(".co.jp")>-1||o.indexOf(".com.br")>-1||o.indexOf(".co.kr")>-1)&&(e.cookieDomainPeriods="3",e.fpCookieDomainPeriods="3"),e.runOnce=!1,e.registerPreTrackCallback((function(){_satellite.logger.log("s call about to be made"),window.s.preCall=!0})),e.registerPostTrackCallback((function(){_satellite.logger.log("s call was successful"),window.s.postCall=!0})),e.usePlugins=!0,e.doPlugins=function(e){function t(){if("undefined"!=typeof dataLayer&&void 0!==dataLayer.page_url_query_string){var e=dataLayer.page_url_query_string.replace(/&amp;/g,"&").split("&"),t={};return e.forEach((function(e){e=e.split("="),t[e[0].toLowerCase()]=decodeURIComponent(e[1]||"")})),JSON.parse(JSON.stringify(t))}return{}}function a(e){return void 0!==g[e.toLowerCase()]?g[e.toLowerCase()]:""}let r=_satellite.getVar("user_optin_status_analytics");_satellite.logger.warn("Extension optin status:"+r),void 0!==r&&"optin"!=r&&(_satellite.logger.warn("Extension optin status: s call aborted"),e.abort=!0),e.pageName||(e.pageName=e.getPageName()),"undefined"!=typeof visitor&&(e.eVar89=visitor.MCIDCallTimedOut()?"true":"false"),-1==e.linkTrackVars.indexOf("prop25")&&("None"==e.linkTrackVars?e.linkTrackVars="prop25":e.linkTrackVars+=",prop25"),-1==e.linkTrackVars.indexOf("prop71")&&(e.linkTrackVars+=",prop71"),-1==e.linkTrackVars.indexOf("prop26")&&("None"==e.linkTrackVars?e.linkTrackVars="prop26":e.linkTrackVars+=",prop26"),e.prop26||(e.prop26=_satellite.getVar("env_platform")),e.eVar192=_satellite.getVar("pagename"),-1==e.linkTrackVars.indexOf("eVar192")&&("None"==e.linkTrackVars?e.linkTrackVars="eVar192":e.linkTrackVars+=",eVar192");var n,o=window.dataLayer&&window.dataLayer.mr_prof_authentication_state?window.dataLayer.mr_prof_authentication_state:"";"remembered"==o&&(e.events=e.apl(e.events,"event12",",",2),e.events=e.apl(e.events,"event13",",",2),n="remembered",e.Util.cookieWrite("s_loginState","remembered")),"authenticated"==o&&(n="logged in",e.Util.cookieWrite("s_loginState","authenticated")),window.location.pathname.indexOf("logout.mi")>-1&&(n="logged out"),n&&(e.eVar22=n,e.prop27="D=v22");var i=window.mvpOffers&&window.mvpOffers.source?window.mvpOffers.source:"";if(""!=i&&(e.eVar212=i),void 0!==navigator.webdriver&&1==navigator.webdriver&&(e.events=e.apl(e.events,"event396",",",2)),void 0!==window.hdVars&&(window.hdVars.hd_isAffiliateOfConcur||"").toLowerCase(),"undefined"!=typeof dataLayer&&void 0!==dataLayer.prof_partner_code&&-1!==dataLayer.prof_partner_code.toLowerCase().indexOf("concur")){if(e.eVar3="Concur",jQuery)var c=jQuery('a[href="/reservation/syncToConcur.mi?source=confirmation"]').text().trim();if("Sent to Concur"==c&&"/reservation/confirmation.mi"==document.location.pathname){var l="event49:"+e.purchaseID;e.events=e.apl(e.events,l,",",2)}}var d=window.dataLayer&&window.dataLayer.prop_marsha_code?window.dataLayer.prop_marsha_code:"";if(document.location.pathname.indexOf("travel-inspiration")>=0)if(e.Util.getQueryParam("htl")&&!e.products)e.products=";"+e.Util.getQueryParam("htl");else if(""==d||e.products)try{var u="";void 0!==window.projectOrangePropertyCode?""!=window.projectOrangePropertyCode&&(u=window.projectOrangePropertyCode):$('div[id^="personalizedPlacement-"] a.analytics-click[href*="propertyCode"]').length>0?u=$('div[id^="personalizedPlacement-"] a.analytics-click[href*="propertyCode"]')[0].href.match(/propertyCode=[A-Z]*/)[0].split("=")[1]:$('div#po2-overlay-biggerBP a.analytics-click[href*="propertyCode"]').length>0&&(u=$('div#po2-overlay-biggerBP a.analytics-click[href*="propertyCode"]')[0].href.match(/propertyCode=[A-Z]*/)[0].split("=")[1]),""==u||e.products||(e.products=";"+u)}catch(e){window.console&&console.log(e)}else e.products=";"+d;var m,p=e.Util.cookieRead("projectOrangeVars");if(p){m=p.split("^"),e.eVar1=m[0],e.events=e.apl(e.events,"event2",",",2);var f=new Date;f.setYear(f.getFullYear()-1),e.Util.cookieWrite("projectOrangeVars","",f)}var g=t(),h=e.Util.getQueryParam("mktcmp")||a("mktcmp"),v=e.Util.getQueryParam("ck")||a("ck"),_=e.Util.getQueryParam("nck")||e.Util.getQueryParam("nCK")||a("nck"),b=e.Util.getQueryParam("lk")||a("lk"),y=e.Util.getQueryParam("aff")||a("aff"),P=e.Util.getQueryParam("affname")||a("affname"),k=e.Util.getQueryParam("co")||a("co"),C=e.Util.getQueryParam("nt")||a("nt"),j=e.Util.getQueryParam("pcamp")||a("pcamp"),w=e.Util.getQueryParam("app")||a("app"),x=e.Util.getQueryParam("vsretype")||a("vsretype"),I=e.Util.getQueryParam("vsrebrand")||a("vsrebrand"),V=e.Util.getQueryParam("vsremarsha")||a("vsremarsha"),O=e.Util.getQueryParam("cfid")||a("cfid"),E=e.Util.getQueryParam("scid")||a("scid"),S=e.Util.getQueryParam("vsresect")||a("vsresect"),R=e.Util.getQueryParam("vsrelink")||a("vsrelink"),L=e.Util.getQueryParam("cid")||a("cid"),T=e.Util.getQueryParam("clickref")||a("clickref");if(void 0!==h&&h&&(e.campaign="mktcmp="+h),void 0!==v&&v&&(e.campaign="ck="+v+";nck="+_+";lk="+b),void 0!==y&&y&&(e.campaign="aff="+y+";affname="+P),void 0!==y&&y&&void 0!==k&&k&&void 0!==C&&C&&(e.campaign="aff="+y+";affname="+P+";co="+k+";nt="+C),void 0!==j&&j&&(e.campaign="pcamp="+j),void 0!==x&&x&&(e.campaign="vsretype="+x+";vsresect="+S+";vsrelink="+R+";vsrebrand="+I+";vsremarsha="+V),void 0!==w&&w&&(e.campaign="app="+w),void 0!==E&&E?e.campaign=E:void 0!==O&&O?e.campaign=O:void 0!==L&&L?e.campaign=L:void 0!==T&&T&&(e.campaign=T,_satellite.cookie.set("marketingCampaignTrackingData","clickref="+e.campaign,{expires:7,domain:".marriott.com"})),void 0!==e.campaign&&""!==e.campaign&&(e.campaign=e.campaign.split("?")[0]),e.eVar43=_,"www.marriott.com/reservation/rateListMenu.mi"==e.pageName){var A=document.createElement("a");A.href=document.referrer;var D=A.hostname||"";if(-1==D.indexOf("www.marriott.com")&&""!=D)return e.events=e.apl(e.events,"event3",",",2),e.events=e.apl(e.events,"event4",",",2),!0}if(!e.eVar31){e.Util.getQueryParam("pid")&&(e.eVar31=e.Util.getQueryParam("pid")),!e.eVar31&&e.Util.getQueryParam("affname")&&(e.eVar31="affname="+e.Util.getQueryParam("affname"));var M=e.Util.cookieRead("Affname");!e.eVar31&&M&&(M=M.split("|")[0].replace(/pid=/gi,""))&&(e.eVar31=M)}if(!1===e.runOnce){e.runOnce=!0;var N={init:function(){},createCampaignCookie:function(e){var t,a,r=e+"&",n="trackingData="+window.location+"&";document.cookie="marketingCampaignTrackingData="+r+n+";path=/",t=N.getQueryStringParameter("redirURL","false"),a=N.getQueryStringParameter("mid","false"),""!=t?location.replace(unescape(N.getQueryStringParameter("redirURL","false"))):""!=a?location.replace(unescape(N.getQueryStringParameter("mid","false"))):location.replace("/reservation/800Page.mi")},getQueryStringParameter:function(t,a){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r=new RegExp("[/i\\?&]"+t+"=([^&#]*)"),n=r.exec(window.location.href);if("true"==a){var s=window.marketingCampaignTrackingData||e.c_r("marketingCampaignTrackingData")||"";s=s.toLowerCase(),n=r.exec(s)}return null==n?"":n[1]},setCampaignData:function(){var t="";(t=window.marketingCampaignTrackingData||e.c_r("marketingCampaignTrackingData")||"")&&(window.marketingCampaignTrackingData=t),e.pageURL=window.location,""!=N.getQueryStringParameter("cfid","true")&&"null"!=N.getQueryStringParameter("cfid","true")?(e.campaign=N.getQueryStringParameter("cfid","true"),e.campaign=e.campaign.replace(/['"]+/g,""),"/reservation/rateListMenu.mi"==location.pathname&&(e.eVar46="External Campaign Referrer",""!=e.events&&(e.events+=","),e.events="event88")):""!=N.getQueryStringParameter("scid","true")&&"null"!=N.getQueryStringParameter("scid","true")?(e.campaign=N.getQueryStringParameter("scid","true"),e.campaign=e.campaign.replace(/['"]+/g,""),"/reservation/rateListMenu.mi"==location.pathname&&(e.eVar46="External Campaign Referrer",""!=e.events&&(e.events+=","),e.events="event88")):(""!=N.getQueryStringParameter("pcamp","true")&&"null"!=N.getQueryStringParameter("pcamp","true")&&(e.campaign="pCamp="+N.getQueryStringParameter("pcamp","true")+";",""!=N.getQueryStringParameter("pad","true")&&"null"!=N.getQueryStringParameter("pad","true")&&(e.campaign=e.campaign+"pAd="+N.getQueryStringParameter("pad","true")+";"),""!=N.getQueryStringParameter("pid","true")&&"null"!=N.getQueryStringParameter("pid","true")&&(e.campaign=e.campaign+"pId="+N.getQueryStringParameter("pid","true")+";")),"null"!=N.getQueryStringParameter("aff","true")&&""!=N.getQueryStringParameter("aff","true")&&(e.campaign="aff="+N.getQueryStringParameter("aff","true")+";"),"null"!=N.getQueryStringParameter("affname","true")&&""!=N.getQueryStringParameter("affname","true")&&(e.campaign=e.campaign+"affname="+N.getQueryStringParameter("affname","true")+";"),"null"!=N.getQueryStringParameter("vedate","true")&&""!=N.getQueryStringParameter("vedate","true")&&(e.campaign="vedate="+N.getQueryStringParameter("vedate","true")+";vetype="+N.getQueryStringParameter("vetype","true")+";veseg="+N.getQueryStringParameter("veseg","true")+";veof="+N.getQueryStringParameter("veof","true")+";ck="+N.getQueryStringParameter("ck","true")+";",e.eVar39=v),"null"!=N.getQueryStringParameter("rk","true")&&""!=N.getQueryStringParameter("rk","true")&&0==N.getQueryStringParameter("rk","true").indexOf("r")&&document.referrer.length>0&&document.referrer.indexOf("roomkey")>-1&&(e.linkTrackVars="events",e.linkTrackEvents="event84",e.events="event84"),void 0!==e.campaign&&""!==e.campaign&&(e.campaign=e.campaign.split("?")[0])),""!=N.getQueryStringParameter("pid","true")&&"null"!=N.getQueryStringParameter("pid","true")&&(e.eVar31=N.getQueryStringParameter("pid","true"),"/reservation/rateListMenu.mi"==location.pathname&&(e.eVar46="External Non-Campaign Referrer",""!=e.events&&(e.events+=","),e.events="event88")),"null"==N.getQueryStringParameter("affname","true")||""==N.getQueryStringParameter("affname","true")||e.eVar31||(e.eVar31="affname="+N.getQueryStringParameter("affname","true")),""!=N.getQueryStringParameter("ppc","true")&&"null"!=N.getQueryStringParameter("ppc","true")&&(e.pageURL=window.location+"?ppc="+N.getQueryStringParameter("ppc","true"));var a=t.indexOf("trackingData="),r=t.length,n=t.substring(a,r);t=t.replace(n,""),e.referrer=""!=t?t:document.referrer,N.deleteCampaignCookie("marketingCampaignTrackingData")},deleteCampaignCookie:function(e){document.cookie=e+"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;"}};N.setCampaignData(),void 0!==e.campaign&&""!==e.campaign&&(e.campaign=e.campaign.split("?")[0])}if((void 0===e.campaign||""==e.campaign)&&void 0!==window.marketingCampaignTrackingData&&window.marketingCampaignTrackingData.includes("http")){var q=new URL(window.marketingCampaignTrackingData),F=new URLSearchParams(q.search),U=F.get("scid"),B=F.get("cfid");e.campaign=null!==B?B:U,void 0!==e.campaign&&""!==e.campaign&&(e.campaign=e.campaign.split("?")[0]),e.eVar0=e.campaign}if(e.channelManager("",1,!0),!e.campaign&&void 0!==e._channel){"Social Media"==e._channel&&(_satellite.logger.log("s._channel == Social Media"),e.campaign=e._campaign);for(var G=!1,H=s.split("|"),J=0;J<H.length;J++){var z=e._referringDomain.includes(H[J]);null!=z&&z&&(G=!0);break}if(!G&&""!==e._referringDomain&&"Social Media"!==e._channel){_satellite.logger.log("Unpaid Referrals : isMatch = "+G+" : s._referringDomain = "+e._referringDomain+"Is Social Media s._channel = "+e._channel);var W=_satellite.cookie.get("s_campaign")||sessionStorage.getItem("s_campaign");"object"==typeof W&&"Unpaid Referrals: Typed/Bookmarked"!==W&&(_satellite.logger.log("Unpaid Referrals : isMatch = "+G+" : s._referringDomain = "+e._referringDomain),e.campaign="Unpaid Referrals: "+e._referringDomain)}"Natural Search"==e._channel&&(_satellite.logger.log("s._channel == Natural Search"),e.campaign=e._campaign.replace("Search:","Search: "))}},e.getValOnce=new Function("v","c","e","var s=this,a=new Date,v=v?v:v='',c=c?c:c='s_gvo',e=e?e:0,k=s.c_r(c);if(v){a.setTime(a.getTime()+e*86400000);s.c_w(c,v,e?a:0);}return v==k?'':v"),e.apl=new Function("l","v","d","u","var s=this,m=0;if(!l)l='';if(u){var i,n,a=s.split(l,d);for(i=0;i<a.length;i++){n=a[i];m=m||(u==1?(n==v):(n.toLowerCase()==v.toLowerCase()));}}if(!m)l=l?l+d+v:v;return l"),e.getTimeParting=new Function("t","z","y","l","var s=this,d,A,U,X,Z,W,B,C,D,Y;d=new Date();A=d.getFullYear();Y=U=String(A);if(s.dstStart&&s.dstEnd){B=s.dstStart;C=s.dstEnd}else{;U=U.substring(2,4);X='090801|101407|111306|121104|131003|140902|150801|161306|171205|181104|191003';X=s.split(X,'|');for(W=0;W<=10;W++){Z=X[W].substring(0,2);if(U==Z){B=X[W].substring(2,4);C=X[W].substring(4,6)}}if(!B||!C){B='08';C='01'}B='03/'+B+'/'+A;C='11/'+C+'/'+A;}D=new Date('1/1/2000');if(D.getDay()!=6||D.getMonth()!=0){return'Data Not Available'}else{z=z?z:'0';z=parseFloat(z);B=new Date(B);C=new Date(C);W=new Date();if(W>B&&W<C&&l!='0'){z=z+1}W=W.getTime()+(W.getTimezoneOffset()*60000);W=new Date(W+(3600000*z));X=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];B=W.getHours();C=W.getMinutes();D=W.getDay();Z=X[D];U='AM';A='Weekday';X='00';if(C>30){X='30'}if(B>=12){U='PM';B=B-12};if(B==0){B=12};if(D==6||D==0){A='Weekend'}W=B+':'+X+U;if(y&&y!=Y){return'Data Not Available'}else{if(t){if(t=='h'){return W}if(t=='d'){return Z}if(t=='w'){return A}}else{return Z+', '+W}}}"),e.getAndPersistValue=new Function("v","c","e","var s=this,a=new Date;e=e?e:0;a.setTime(a.getTime()+e*86400000);if(v)s.c_w(c,v,e?a:0);return s.c_r(c);"),e.getDaysSinceLastVisit=new Function("c","var s=this,e=new Date(),es=new Date(),cval,cval_s,cval_ss,ct=e.getTime(),day=24*60*60*1000,f1,f2,f3,f4,f5;e.setTime(ct+3*365*day);es.setTime(ct+30*60*1000);f0='Cookies Not Supported';f1='First Visit';f2='More than 30 days';f3='More than 7 days';f4='Less than 7 days';f5='Less than 1 day';cval=s.c_r(c);if(cval.length==0){s.c_w(c,ct,e);s.c_w(c+'_s',f1,es);}else{var d=ct-cval;if(d>30*60*1000){if(d>30*day){s.c_w(c,ct,e);s.c_w(c+'_s',f2,es);}else if(d<30*day+1 && d>7*day){s.c_w(c,ct,e);s.c_w(c+'_s',f3,es);}else if(d<7*day+1 && d>day){s.c_w(c,ct,e);s.c_w(c+'_s',f4,es);}else if(d<day+1){s.c_w(c,ct,e);s.c_w(c+'_s',f5,es);}}else{s.c_w(c,ct,e);cval_ss=s.c_r(c+'_s');s.c_w(c+'_s',cval_ss,es);}}cval_s=s.c_r(c+'_s');if(cval_s.length==0) return f0;else if(cval_s!=f1&&cval_s!=f2&&cval_s!=f3&&cval_s!=f4&&cval_s!=f5) return '';else return cval_s;"),e.getPageName=new Function("u","var s=this,v=u?u:''+s.w.location,x=v.indexOf(':'),y=v.indexOf('/',x+4),z=v.indexOf('?'),c=s.pathConcatDelim,e=s.pathExcludeDelim,g=s.queryVarsList,d=s.siteID,n=d?d:'',q=z<0?'':v.substring(z+1),p=v.substring(y+1,q?z:v.length);z=p.indexOf('#');p=z<0?p:s.fl(p,z);x=e?p.indexOf(e):-1;p=x<0?p:s.fl(p,x);p+=!p||p.charAt(p.length-1)=='/'?s.defaultPage:'';y=c?c:'/';while(p){x=p.indexOf('/');x=x<0?p.length:x;z=s.fl(p,x);if(!s.pt(s.pathExcludeList,',','p_c',z))n+=n?y+z:z;p=p.substring(x+1)}y=c?c:'?';while(g){x=g.indexOf(',');x=x<0?g.length:x;z=s.fl(g,x);z=s.pt(q,'&','p_c',z);if(z){n+=n?y+z:z;y=c?c:'&'}g=g.substring(x+1)}return n"),e.p_c=new Function("v","c","var x=v.indexOf('=');return c.toLowerCase()==v.substring(0,x<0?v.length:x).toLowerCase()?v:0"),e.join=new Function("v","p","var s = this;var f,b,d,w;if(p){f=p.front?p.front:'';b=p.back?p.back:'';d=p.delim?p.delim:'';w=p.wrap?p.wrap:'';}var str='';for(var x=0;x<v.length;x++){if(typeof(v[x])=='object' )str+=s.join( v[x],p);else str+=w+v[x]+w;if(x<v.length-1)str+=d;}return f+str+b;"),e.split=new Function("l","d","var i,x=0,a=new Array;while(l){i=l.indexOf(d);i=i>-1?i:l.length;a[x++]=l.substring(0,i);l=l.substring(i+d.length);}return a"),e.__se=new Function("var l={'~':'tl:[\\'','^': 'kw:[\\'','%': 'ahoo','|': '\\'],','>': '\\']}','*': '.com','$': 'search',';':'query','#':'land','`':'oogle','+':'http://www','<':'keyword'};var f=this.___se+'';var g='';for(var i=0;i<f.length;i++){if(l[f.substring(i,i+1)]&&typeof l[f.substring(i,i+1)]!='undefined'){g+=l[f.substring(i,i+1)];}else{g+=f.substring(i,i+1);}}return eval('('+g+')');"),
e.___se="{'Paid Search':{i:['ppc|'Sina - China':{^q=|~g`.cn/$?client=aff-sina>,'National Directory':{^;=|~$.NationalDirectory*>,'eerstekeuze.nl':{^Terms=|~+.eerstekeuze.nl/>,'Excite - Netscape':{^general=','$=|~excite$.netscape*','$excite.netscape*>,'Andromeda Search':{^<=|~p-$.virtualave.net>,'So-net':{^MT=|~so-net.$.goo.ne.jp>,'InfoSeek - Japan':{^;=','qt=|~$.m.infoseek.co.jp>,'Goo (Japan)':{^MT=|~$.mobile.goo.ne.jp>,'AllSearchEngines':{^;=s|~all$engines.co.uk>,'zoeken.nl':{^;=|~+.zoeken.nl/>,'Northern Light':{^qr=|~www.northernlight*>,'Biglobe':{^q=|~$.biglobe.ne.jp>,'track.nl':{^qr=|~+.track.nl/>,'Baidu':{^wd=','s=|~+.baidu*>,'3721*':{^p=|~+.3721*/>,'Galaxy':{^|~galaxy.tradewave*>,'G` - Norway (Startsiden)':{^q=|~g`.startsiden.no>,'NetSearch':{^Terms=','$=|~net$voyager*','net$.org>,'au.Anzwers':{^p=|~au.anzwers.y%*>,'MSN - Latin America':{^q=|~$.latam.msn*>,'Searchteria':{^p=|~ad.$teria.co.jp>,'FreshEye':{^ord=','kw=|~$.fresheye*>,'Metacrawler':{^general=','/$/web/|~www.metacrawler*','$.metacrawler*>,'Y%! - Austria':{^p=|~at.$.y%*>,'Y%! - Spanish (US : Telemundo)':{^p=|~telemundo.y%*','espanol.$.y%*>,'Business*':{^;=|~business*/$>,'Y%! - Switzer#':{^p=|~ch.$.y%*>,'Y%! - Fin#':{^p=|~fi.$.y%*>,'Dino Online':{^;=|~www.dino-online.de>,'Internet Times':{^$=',';=|~internet-times*>,'TheYellowPages':{^$=|~theyellowpages*>,'Web-Search':{^q=|~www.web-$*>,'Y%! - Malaysia':{^p=|~malaysia.y%*','malaysia.$.y%*>,'WebCrawler':{^$Text=','$=|~www.webcrawler*>,'Monster Crawler':{^qry=|~monstercrawler*>,'Sina - Hong Kong':{^word=|~g`.sina*.hk>,'Sina - Taiwan':{^kw=|~g`.sina*.tw>,'Y%Japan - Mobile':{^p=|~mobile.y%.co.jp>,'Livedoor - Mobile':{^q=','<=|~dir.m.livedoor*>,'Blue Window':{^q=','qry=|~$.bluewin.ch','$.bluewindow.ch>,'General Search':{^<=|~general$*>,'InternetTrash':{^words=|~internettrash*>,'MSN - United Kingdom':{^q=|~uk.$.msn*','msn.co.uk>,'Y%! - Chinese (US)':{^p=|~chinese.y%*>,'MSN - Singapore':{^q=|~$.msn*.sg>,'MSN - Republic of the Phlippines':{^q=|~$.msn*.ph>,'MSN - Taiwan':{^q=|~$.msn*.tw>,'MSN - Turkey':{^q=|~$.msn*.tr>,'MSN - People\\'s Republic of China':{^q=|~$.msn*.cn>,'MSN - Malaysia':{^q=|~$.msn*.my>,'MSN - Hong Kong S.A.R.':{^q=|~$.msn*.hk>,'MSN - Brazil':{^q=|~$.msn*.br>,'G` @ EZweb':{^;=|~ezsch.ezweb.ne.jp>,'AltaVista - Nether#s':{^q=|~nl.altavista*>,'AltaVista - Spain':{^q=','r=|~es.altavista*>,'AltaVista - Italy':{^q=','r=|~it.altavista*>,'AltaVista - Canada':{^q=|~ca.altavista*>,'AltaVista - Switzer#':{^q=','r=|~ch.altavista*>,'AltaVista - France':{^q=','r=|~fr.altavista*>,'AltaVista - United Kingdom':{^q=','r=|~uk.altavista*>,'AltaVista - Sweden':{^q=','r=|~se.altavista*>,'DejaNews':{^QRY=|~www.dejanews*>,'Excite':{^/$/web/','qkw=|~msxml.excite*>,'Globe Crawler':{^$=|~globecrawler*>,'HotBot':{^MT=',';=|~hotbot.lycos*>,'InfoSeek':{^qt=|~www.infoseek*','infoseek.go*>,'MSN - South Africa':{^q=|~$.msn.co.za>,'MSN - Isreal':{^q=|~$.msn.co.il>,'MSN - Japan':{^q=|~$.msn.co.jp>,'MSN - Canada':{^q=|~sympatico.msn.ca','$.fr.msn.ca>,'MSN - Korea':{^q=',';=|~$.msn.co.kr>,'Search City':{^$=','<=|~$city.co.uk>,'Search Viking':{^$=|~$viking*>,'Thunderstone':{^q=|~thunderstone*>,'Web Wombat (Au.)':{^I=','ix=|~webwombat*.au>,'AltaVista - Norway':{^q=|~no.altavista*>,'AltaVista - Denmark':{^q=|~dk.altavista*>,'MSN - India (English)':{^q=|~$.msn.co.in>,'MSN - Indonesia (English)':{^q=|~$.msn.co.id>,'Nifty':{^Text=|~$.nifty*>,'ANZWERS':{^;=|~www.anzwers*>,'BuyersIndex':{^;=|~buyersindex*>,'CNET Search*':{^q=|~cnet.$*>,'Dmoz':{^$=|~$.dmoz*','dmoz*>,'Final Search':{^pattern=|~final$*>,'FullWebinfo Directory & Search Engine':{^k=','s=|~fullwebinfo*>,'Go (Infoseek)':{^qt=|~infoseek.go*>,'GoEureka':{^q=','key=|~goeureka*.au>,'Live*':{^q=|~$.live*>,'QuestFinder':{^s=|~questfinder*','questfinder.net>,'SearchHound':{^?|~$hound*>,'TopFile*':{^;=|~www.topfile*>,'Sina - North America':{^$_key=|~g`.sina*>,'AOL* Search':{^;=|~$.aol*','$.aol.ca>,'ByteSearch':{^$=','q=|~byte$*>,'ComFind':{^|~debriefing*','allbusiness*find*>,'Dictionary*':{^term=',';=|~Dictionary*','Dictionary>,'ilse.nl':{^$_for=|~$.ilse.nl>,'Infoseek - Japan':{^qt=|~infoseek.co.jp>,'InfoSeek':{^qt=|~infoseek.co.uk>,'Rex Search':{^terms=|~rex-$*','rex-$*>,'Search King':{^$term=','<=|~$king*>,'Searchalot':{^;=','q=|~$alot*>,'Web Trawler':{^|~webtrawler*>,'Y%! - Asia':{^p=|~asia.y%*','asia.$.y%*>,'Y%! - Kids':{^p=|~kids.y%*','kids.y%*/$>,'SmartPages*':{^QueryString=|~smartpages*>,'MetaGopher':{^;=|~metagopher*>,'Froute':{^k=|~item.froute.jp','$.froute.jp>,'All The Web':{^;=','q=|~alltheweb*>,'DirectHit':{^qry=','q=|~directhit*>,'Excite Canada':{^$=','q=|~www.excite.ca','$.excite.ca>,'Excite - Germany':{^$=','q=|~www.excite.de>,'Excite - Dutch':{^$=|~nl.excite*>,'G` - Australia':{^q=|~g`*.au>,'G` - Brasil':{^q=|~g`*.br>,'InfoSpace':{^QKW=','qhqn=|~infospace*>,'InfoTiger':{^qs=|~infotiger*>,'LookSmart':{^key=','qt=|~looksmart*','looksmart.co.uk>,'Lycos':{^;=|~www.lycos*','$.lycos*>,'Excite - Australia':{^$=','key=|~excite*.au>,'Metacrawler - Germany':{^qry=|~216.15.219.34','216.15.192.226>,'MSN - Nether#s':{^q=|~$.msn.nl>,'MSN - Belgium':{^q=|~$.msn.be>,'MSN - Germany':{^q=|~$.msn.de>,'MSN - Austria':{^q=|~$.msn.at>,'MSN - Spain':{^q=|~$.msn.es>,'MSN - Italy':{^q=|~$.msn.it>,'MSN - France':{^q=|~$.msn.fr>,'MSN - Switzer#':{^q=|~$.msn.ch','fr.ch.msn*>,'MSN - Sweden':{^q=|~$.msn.se>,'RageWorld*':{^$=|~rageworld*>,'ToggleBot!':{^$=',';=|~togglebot*>,'Web Wombat':{^I=','ix=|~webwombat*>,'MSN - Norway':{^q=|~$.msn.no>,'MSN - Denmark':{^q=|~$.msn.dk>,'G` - Nicaragua':{^q=|~g`*.ni>,'G` - Antigua and Barbuda':{^q=|~g`*.ag>,'G` - Anguilla':{^q=|~g`*.ai>,'G` - Taiwan':{^q=|~g`*.tw>,'G` - Ukraine':{^q=|~g`*.ua>,'G` - Namibia':{^q=|~g`*.na>,'G` - Uruguay':{^q=|~g`*.uy>,'G` - Ecuador':{^q=|~g`*.ec>,'G` - Libya':{^q=|~g`*.ly>,'G` - Norfolk Is#':{^q=|~g`*.nf>,'G` - Tajikistan':{^q=|~g`*.tj>,'G` - Ethiopia':{^q=|~g`*.et>,'G` - Malta':{^q=|~g`*.mt>,'G` - Philippines':{^q=|~g`*.ph>,'G` - Hong Kong':{^q=|~g`*.hk>,'G` - Singapore':{^q=|~g`*.sg>,'G` - Jamaica':{^q=|~g`*.jm>,'G` - Paraguay':{^q=|~g`*.py>,'G` - Panama':{^q=|~g`*.pa>,'G` - Guatemala':{^q=|~g`*.gt>,'G` - Isle of Gibraltar':{^q=|~g`*.gi>,'G` - El Salvador':{^q=|~g`*.sv>,'G` - Colombia':{^q=|~g`*.co>,'G` - Turkey':{^q=|~g`*.tr>,'G` - Peru':{^q=|~g`*.pe>,'G` - Afghanistan':{^q=|~g`*.af>,'G` - Malaysia':{^q=|~g`*.my>,'G` - Mexico':{^q=|~g`*.mx>,'G` - Viet Nam':{^q=|~g`*.vn>,'G` - Nigeria':{^q=|~g`*.ng>,'G` - Nepal':{^q=|~g`*.np>,'G` - Solomon Is#s':{^q=|~g`*.sb>,'G` - Belize':{^q=|~g`*.bz>,'G` - Puerto Rico':{^q=|~g`*.pr>,'G` - Oman':{^q=|~g`*.om>,'G` - Cuba':{^q=|~g`*.cu>,'G` - Bolivia':{^q=|~g`*.bo>,'G` - Bahrain':{^q=|~g`*.bh>,'G` - Bangladesh':{^q=|~g`*.bd>,'G` - Cambodia':{^q=|~g`*.kh>,'G` - Argentina':{^q=|~g`*.ar>,'G` - Brunei':{^q=|~g`*.bn>,'G` - Fiji':{^q=|~g`*.fj>,'G` - Saint Vincent and the Grenadine':{^q=|~g`*.vc>,'G` - Qatar':{^q=|~g`*.qa>,'MSN - Ire#':{^q=|~$.msn.ie>,'G` - Pakistan':{^q=|~g`*.pk>,'G` - Dominican Republic':{^q=|~g`*.do>,'G` - Saudi Arabia':{^q=|~g`*.sa>,'G` - Egypt':{^q=|~g`*.eg>,'G` - Belarus':{^q=|~g`*.by>,'Biglobe':{^extrakey=|~$.kbg.jp>,'AltaVista':{^q=','r=|~altavista.co>,'AltaVista - Germany':{^q=','r=|~altavista.de>,'AOL - Germany':{^q=|~suche.aol.de','suche.aolsvc.de>,'Excite - Japan':{^$=','s=|~excite.co.jp>,'Fansites*':{^q1=|~fansites*>,'FindLink':{^|~findlink*>,'GoButton':{^|~gobutton*>,'G` - India':{^q=|~g`.co.in>,'G` - New Zea#':{^q=|~g`.co.nz>,'G` - Costa Rica':{^q=|~g`.co.cr>,'G` - Japan':{^q=|~g`.co.jp>,'G` - United Kingdom':{^q=|~g`.co.uk>,'G` - Yugoslavia':{^q=|~g`.co.yu>,'Overture':{^Keywords=|~overture*>,'Hotbot - United Kingdom':{^;=|~hotbot.co.uk>,'Loquax Open Directory':{^$=|~loquax.co.uk>,'MSN - Mexico':{^q=|~t1msn*.mx','$.prodigy.msn*>,'Netscape Search':{^;=','$=|~netscape*>,'Y%! - Philippines':{^p=|~ph.y%*','ph.$.y%*>,'Y%! - Thai#':{^p=|~th.y%*','th.$.y%*>,'Y%! - Argentina':{^p=|~ar.y%*','ar.$.y%*>,'Y%! - Indonesia':{^p=|~id.y%*','id.$.y%*>,'Y%! - Hong Kong':{^p=|~hk.y%*','hk.$.y%*>,'Y%! - Russia':{^p=|~ru.y%*','ru.$.y%*>,'Y%! - Canada':{^p=|~ca.y%*','ca.$.y%*>,'Y%! - Taiwan':{^p=|~tw.y%*','tw.$.y%*>,'Y%! - Catalan':{^p=|~ct.y%*','ct.$.y%*>,'Y%! - Canada (French)':{^p=|~qc.y%*','cf.$.y%*>,'Y%! - China':{^p=|~cn.y%*','$.cn.y%*>,'Y%! - India':{^p=|~in.y%*','in.$.y%*>,'Y%! - Brazil':{^p=|~br.y%*','br.$.y%*>,'Y%! - Korea':{^p=|~kr.y%*','kr.$.y%*>,'Y%! - Australia':{^p=|~au.y%*','au.$.y%*>,'Y%! - Mexico':{^p=|~mx.y%*','mx.$.y%*>,'Y%! - Singapore':{^p=|~sg.y%*','sg.$.y%*>,'Y%! - Denmark':{^p=|~dk.y%*','dk.$.y%*>,'Y%! - Germany':{^p=|~de.y%*','de.$.y%*>,'Y%! - UK and Ire#':{^p=|~uk.y%*','uk.$.y%*>,'Y%! - Sweden':{^p=|~se.y%*','se.$.y%*>,'Y%! - Spain':{^p=|~es.y%*','es.$.y%*>,'Y%! - Italy':{^p=|~it.y%*','it.$.y%*>,'Y%! - France':{^p=|~fr.y%*','fr.$.y%*>,'Y%! - Norway':{^p=|~no.y%*','no.$.y%*>,'G` - Virgin Is#s':{^q=|~g`.co.vi>,'G` - Uzbekiston':{^q=|~g`.co.uz>,'G` - Thai#':{^q=|~g`.co.th>,'G` - Israel':{^q=|~g`.co.il>,'G` - Korea':{^q=|~g`.co.kr>,'Y%! - Nether#s':{^p=|~nl.y%*','nl.$.y%*>,'Y%! - New Zea#':{^p=|~nz.y%*','nz.$.y%*>,'G` - Zambia':{^q=|~g`.co.zm>,'G` - South Africa':{^q=|~g`.co.za>,'G` - Zimbabwe':{^q=|~g`.co.zw>,'Y%! - Viet Nam':{^p=|~vn.y%*','vn.$.y%*>,'G` - Uganda':{^q=|~g`.co.ug>,'G` - Indonesia':{^q=|~g`.co.id>,'G` - Morocco':{^q=|~g`.co.ma>,'G` - Lesotho':{^q=|~g`.co.ls>,'G` - Kenya':{^q=|~g`.co.ke>,'G` - Cook Is#s':{^q=|~g`.co.ck>,'G` - Botswana':{^q=|~g`.co.bw>,'G` - Venezuela':{^q=|~g`.co.ve>,'BeGuide*':{^$=|~beguide*>,'dog*':{^$=|~doginfo*>,'Dogpile':{^q=','/$/web/|~dogpile*>,'Fireball':{^q=',';=|~fireball.de>,'FishHoo!':{^;=|~fishhoo*>,'InfoSeek - Germany':{^qt=',';=|~infoseek.de>,'Lycos - United Kingdom':{^;=|~lycos.co.uk>,'MetaDog*':{^$=','<=|~metapro*','metadog*>,'TooCool':{^?|~toocool*>,'Y%! - Japan':{^p=','va=|~y%.co.jp','$.y%.co.jp>,'Cafesta':{^<=','<s=|~cafesta*>,'Oh! New? Mobile':{^k=|~ohnew.co.jp>,'Chubba':{^arg=|~chubba*>,'CyberBritain*':{^qry=|~hermia*','cyberbritain.co.uk>,'GeoBoz Search':{^$=|~geoboz*>,'Go2net Metacrawler':{^general=|~go2net*>,'Tiscali':{^key=|~tiscali.it>,'TooZen':{^|~toozen*>,'WAKWAK':{^MT=|~wakwak*>,'Webalta':{^q=|~webalta.ru>,'MSN LiveSearch Mobile':{^q=|~m.live*>,'AOL - United Kingdom':{^;=|~aol.co.uk','$.aol.co.uk>,'Dazzo!':{^$=|~dazzo*>,'Deoji':{^$=','k=|~deoji*>,'Excite - France':{^$=','q=|~excite.fr>,'Excite.ch':{^$=','q=|~excite.ch>,'Godado':{^Keywords=|~godado.it>,'Goo (Jp.)':{^MT=|~goo.ne.jp>,'G` - Po#':{^q=|~g`.pl>,'G` - United Arab Emirates':{^q=|~g`.ae>,'G` - Luxembourg':{^q=|~g`.lu>,'G` - Slovakia':{^q=|~g`.sk>,'G` - Russia':{^q=|~g`.ru>,'G` - Denmark':{^q=|~g`.dk>,'G` - Portugal':{^q=|~g`.pt>,'G` - Romania':{^q=|~g`.ro>,'G` - Fin#':{^q=|~g`.fi>,'G` - Latvia':{^q=|~g`.lv>,'G` - Guernsey':{^q=|~g`.gg>,'G` - Ire#':{^q=|~g`.ie>,'G` - Sweden':{^q=|~g`.se>,'G` - Lithuania':{^q=|~g`.lt>,'G` - Canada':{^q=|~g`.ca>,'G` - Spain':{^q=|~g`.es>,'G`':{^q=|~g`.co','g`syndication*>,'G` - Germany':{^q=|~g`.de>,'G` - Switzer#':{^q=|~g`.ch>,'G` - China':{^q=|~g`.cn>,'G` - Nether#s':{^q=|~g`.nl>,'G` - Austria':{^q=|~g`.at>,'G` - Belgium':{^q=|~g`.be>,'G` - Chile':{^q=|~g`.cl>,'G` - France':{^q=|~g`.fr>,'G` - Italy':{^q=|~g`.it>,'Nexet Open Directory':{^SEARCH=','q=|~nexet.net>,'Nomade':{^s=','MT=|~nomade.fr>,'Orbit.net':{^|~orbit.net>,'Search.ch':{^q=|~$.ch>,'Y%!':{^p=|~y%*','$.y%*>,'G` - Norway':{^q=|~g`.no>,'G` - Haiti':{^q=|~g`.ht>,'G` - Vanuatu':{^q=|~g`.vu>,'G` - Repulic of Georgia':{^q=|~g`.ge>,'G` - The Gambia':{^q=|~g`.gm>,'G` - Timor-Leste':{^q=|~g`.tp>,'G` - Armenia':{^q=|~g`.am>,'G` - British Virgin Is#s':{^q=|~g`.vg>,'G` - American Samoa':{^q=|~g`.as>,'G` - Turkmenistan':{^q=|~g`.tm>,'G` - Trinidad and Tobago':{^q=|~g`.tt>,'G` - Cote D\\'Ivoire':{^q=|~g`.ci>,'G` - Seychelles':{^q=|~g`.sc>,'G` - Greece':{^q=|~g`.gr>,'G` - The Bahamas':{^q=|~g`.bs>,'G` - Kyrgyzstan':{^q=|~g`.kg>,'G` - Saint Helena':{^q=|~g`.sh>,'G` - Burundi':{^q=|~g`.bi>,'G` - Tokelau':{^q=|~g`.tk>,'G` - Rep. du Congo':{^q=|~g`.cg>,'G` - Dominica':{^q=|~g`.dm>,'G` - Sao Tome and Principe':{^q=|~g`.st>,'G` - Rwanda':{^q=|~g`.rw>,'G` - Jordan':{^q=|~g`.jo>,'G` - Czech Republic':{^q=|~g`.cz>,'Yandex.ru':{^text=|~yandex.ru>,'G` - Senegal':{^q=|~g`.sn>,'G` - Jersey':{^q=|~g`.je>,'G` - Honduras':{^q=|~g`.hn>,'G` - Green#':{^q=|~g`.gl>,'G` - Hungary':{^q=|~g`.hu>,'G` - Is#':{^q=|~g`.is>,'G` - Pitcairn Is#s':{^q=|~g`.pn>,'G` - Mongolia':{^q=|~g`.mn>,'G` - Malawi':{^q=|~g`.mw>,'G` - Montserrat':{^q=|~g`.ms>,'G` - Liechtenstein':{^q=|~g`.li>,'G` - Micronesia':{^q=|~g`.fm>,'G` - Mauritius':{^q=|~g`.mu>,'G` - Moldova':{^q=|~g`.md>,'G` - Maldives':{^q=|~g`.mv>,'G` - Niue':{^q=|~g`.nu>,'G` - Kazakhstan':{^q=|~g`.kz>,'G` - Kiribati':{^q=|~g`.ki>,'G` - Nauru':{^q=|~g`.nr>,'G` - Laos':{^q=|~g`.la>,'G` - Isle of Man':{^q=|~g`.im>,'G` - Guyana':{^q=|~g`.gy>,'G` - Croatia':{^q=|~g`.hr>,'G` - Slovenia':{^q=|~g`.si>,'G` - Sri Lanka':{^q=|~g`.lk>,'G` - Azerbaijan':{^q=|~g`.az>,'G` - Bulgaria':{^q=|~g`.bg>,'G` - Bosnia-Hercegovina':{^q=|~g`.ba>,'G` - Tonga':{^q=|~g`.to>,'G` - Rep. Dem. du Congo':{^q=|~g`.cd>,'MSN - New Zea#':{^q=','mkt=en-nz|~msn.co.nz>,'G` - Djibouti':{^q=|~g`.dj>,'G` - Guadeloupe':{^q=|~g`.gp>,'G` - Estonia':{^q=|~g`.ee>,'G` - Samoa':{^q=|~g`.ws>,'G` - San Marino':{^q=|~g`.sm>,'MSN UK':{^q=|~msn.co.uk>,'Mobagee Search':{^q=|~s.mbga.jp>,'Lycos - Italy':{^;=|~lycos.it>,'Lycos - France':{^;=|~lycos.fr>,'Lycos - Spain':{^;=|~lycos.es>,'Lycos - Nether#s':{^;=|~lycol.nl>,'Lycos - Germany':{^;=|~lycol.de','$.lycos.de>,'Magellan':{^$=|~magellan>,'myGO':{^qry=|~mygo*>,'NBCi':{^<=','qkw=|~nbci*>,'Nate*':{^;=|~nate*','$.nate*>,'Crooz':{^;=|~crooz.jp>,'Ask Jeeves':{^ask=','q=|~ask*','ask.co.uk>,'MSN':{^q=|~msn*>,'AOL - France':{^q=|~aol.fr>,'MetaIQ*':{^$=','qry=|~metaiq>,'Web.de':{^su=|~web.de>,'Ask - Japan':{^q=|~ask.jp>,'Microsoft Bing':{^q=|~bing*>}}",e.isEntry=function(){try{var e,t,a=this,r=a.linkInternalFilters,n=a.referrer||void 0!==a.referrer?a.referrer:document.referrer,s=r.indexOf(","),o=0,i="";if(!n)return 1;for(n.indexOf("//")>-1&&(e=n.substring(n.indexOf("//")+2)).indexOf("/")>-1&&(e=e.substring(0,e.indexOf("/"))),t=n.split("?")[0],e||(e=t);s=r.indexOf(",");){if((i=s>-1?r.substring(0,s):r).indexOf("/")>-1){if(t.indexOf(i)>-1)return 0}else if("."==i||e.indexOf(i)>-1)return 0;if(-1==s)break;o=s+1,r=r.substring(o,r.length)}}catch(e){}return 1},e.channelManager=function(e,t,a){var r=this,n=!0,s=new Date;if(s.setTime(s.getTime()+18e5),r._channel)return"";var o="n/a",i="n/a",c="n/a",l="n/a",d="n/a",u="n/a";r.c_r("s_tbm")&&(n=!1),t&&r.c_r("s_tbm"+t.toString())&&(n=!1),r.c_w("s_tbm",!0,s);var m=r.referrer?r.referrer:document.referrer;"Typed/Bookmarked"===m&&(m="");var p=!1;if(m){p=!0;var f=m.split("/")[2].split("?")[0].toLowerCase(),g=r.linkInternalFilters.toLowerCase().split(","),h=g.length;for(P=0;P<h;P++)if(-1<f.indexOf(g[P])){p=!1;break}}if(p&&(l=m,d=f,i=(o="Other Natural Referrers")+": "+f,r._channelSEList))for(var v,_,b,y=(h=r._channelSEList.split(">")).length,P=0;P<y;P++){for(b=(_=(v=(g=h[P]).split("|"))[1].split(",")).length,g=0;g<b;g++)if(-1<f.indexOf(_[g].toLowerCase())){u=v[0];break}if("n/a"!==u)break}if(h="",e){for(g=e.split(","),e=g.length,P=0;P<e&&!(h=r.getQueryParam(g[P]));P++);h&&(c=i=h,o="n/a"!==u?"Paid Search":"Unknown Paid Channel")}if(h||"n/a"===u||(i=(o="Natural Search")+":"+u),!n||m||h||(l=d=i=o="Typed/Bookmarked"),r._channelDomain&&p)for(e=!1,m=(n=r._channelDomain.split(">")).length,P=0;P<m;P++){for(v=(y=(p=n[P]?n[P].split("|"):"")[1]?p[1].split(","):"").length,g=0;g<v;g++)if(_=y[g].toLowerCase(),-1<("/"+f).indexOf(_)){o=p[0],i=h?i:o+": "+f,e=!0;break}if(e)break}if(r._channelParameter)for(e=!1,m=(n=r._channelParameter.split(">")).length,P=0;P<m;P++){for(g=0,y=(v=(p=n[P]?n[P].split("|"):"")[1]?p[1].split(","):"").length;g<y;g++)if(r.getQueryParam(v[g])){o=p[0],i=h?i:o+": "+f,e=!0;break}if(e)break}if(r._channelPattern&&h)for(e=!1,m=(n=r._channelPattern.split(">")).length,P=0;P<m;P++){for(g=0,y=(f=(p=n[P]?n[P].split("|"):"")[1]?p[1].split(","):"").length;g<y;g++)if(!a&&0==h.toLowerCase().indexOf(f[g].toLowerCase())||a&&-1<h.toLowerCase().indexOf(f[g].toLowerCase())){o=p[0],c=i=h,e=!0;break}if(e)break}"n/a"!==o?(r._channel=o,r._campaign=i,r._campaignID=c,r._referrer=l,r._referringDomain=d,r._searchEngine=u,"Typed/Bookmarked"!==r._channel&&t&&(s.setTime(s.getTime()+864e5*Number(t)),r.c_w("s_tbm"+t.toString(),!0,s))):r._channel=r._campaign=r._campaignID=r._referrer=r._referringDomain=r._search,Engine=""},e.getQueryParam=function(e,t,a){var r=this,n="",s=function(e,t){-1<t.indexOf("#")&&(t=-1<t.indexOf("?")?t.indexOf("?")>t.indexOf("#")?(t=t.split("?").join("&")).split("#").join("?"):t.split("#").join("&"):t.split("#").join("?"));var a=t.indexOf("?"),n="";return e&&(-1<a||-1<t.indexOf("="))&&(a=t.substring(a+1),n=r.pt(a,"&","gpval",e)),n},o=(e=e.split(",")).length;if(r.gpval=function(e,t){if(e){var a=e.split("="),r=a[0];if(a=!a[1]||a[1],t.toLowerCase()==r.toLowerCase())return"boolean"==typeof a?a:this.unescape(a)}return""},t=t||"",a=(a||(r.pageURL?r.pageURL:location.href))+"",(4<t.length||-1<t.indexOf("="))&&a&&4>a.length){var i=t;t=a,a=i}for(var c=0;c<o;c++)"string"==typeof(i=s(e[c],a))?(i=-1<i.indexOf("#")?i.substring(0,i.indexOf("#")):i,n+=n?t+i:i):n=""===n?i:n+(t+i);return n},e._channelSEList="Google|.google.,googlesyndication.com,.googleadservices.com>Google Search App|googlequicksearchbox>Microsoft Bing|bing.com>Yahoo!|yahoo.com,yahoo.co.jp>Naver|naver.com,search.naver.com>Yandex.ru|yandex>DuckDuckGo|duckduckgo.com>Daum|daum.net,search.daum.net>Baidu|baidu.com>MyWay.com|myway.com>Ecosia|ecosia.org>Ask|ask.jp,ask.co>DogPile|dogpile.com>sm.cn|sm.cn>sogou.com|sogou.com>Haosou|so.com>Seznam.cz|Seznam.cz>AOL|search.aol.,suche.aolsvc.de>AltaVista|altavista.co,altavista.de>MyWebSearch|.mywebsearch.com>WebCrawler|webcrawler.com>Wow|wow.com>InfoSpace|infospace.com>Blekko|blekko.com>Docomo|docomo.ne.jp",e._channelDomain="Social Media|facebook.com,instagram.com,linkedin.com,twitter.com,plus.google.com,pinterest.com,orkut.com,friendster.com,livejournal.com,blogspot.com,lifestream.fm,blogger.com,wordpress.com,metacafe.com,friendfeed.com,myspace.com,blip.tv,viddler.com,plaxo.com,flicker.com,zvents.com,digg.com,reddit.com,stumbleupon.com,twine.com,yelp.com,mixx.com,delicious.com,tumblr.com,disqus.com,intensedebate.com,plurk.com,slideshare.net,backtype.com,netvibes.com,mister-wong.com,diigo.com,flixster.com,youtube.com,snapchat.com,instagram.com,l.instagram.com,tiktok.com,nextdoor.com,linkin.bio,vimeo.com,12seconds.tv,zooomr.com,identi.ca,jaiku.com,flickr.com,imeem.com,dailymotion.com,photobucket.com,fotolog.com,smugmug.com,classmates.com,myyearbook.com,mylife.com,tagged.com,brightkite.com,newsvine.com,ning.com,bebo.com,hi5.com,yuku.com,cafemom.com,xanga.com",e.wd=window,e.fl=new Function("x","l","return x?(''+x).substring(0,l):x"),e.pt=function(e,t,a,r){if(!e||!t||!this[a])return"";t=(e=e.split(t||",")).length;for(var n="",s=0;s<t&&!(n=this[a](e[s],r));s++);return n},e.rep=new Function("x","o","n","var a=new Array,i=0,j;if(x){if(x.split)a=x.split(o);else if(!o)for(i=0;i<x.length;i++)a[a.length]=x.substring(i,i+1);else while(i>=0){j=x.indexOf(o,i);a[a.length]=x.substring(i,j<0?x.length:j);i=j;if(i>=0)i+=o.length}}x='';j=a.length;if(a&&j>0){x=a[0];if(j>1){if(a.join)x=a.join(n);else for(i=1;i<j;i++)x+=n+a[i]}}return x"),e.ape=new Function("x","var s=this,h='0123456789ABCDEF',f='+~!*()\\'',i,c=s.charSet,n,l,e,y='';c=c?c.toUpperCase():'';if(x){x=''+x;if(s.em==3){x=encodeURIComponent(x);for(i=0;i<f.length;i++){n=f.substring(i,i+1);if(x.indexOf(n)>=0)x=s.rep(x,n,'%'+n.charCodeAt(0).toString(16).toUpperCase())}}else if(c=='AUTO'&&('').charCodeAt){for(i=0;i<x.length;i++){c=x.substring(i,i+1);n=x.charCodeAt(i);if(n>127){l=0;e='';while(n||l<4){e=h.substring(n%16,n%16+1)+e;n=(n-n%16)/16;l++}y+='%u'+e}else if(c=='+')y+='%2B';else y+=escape(c)}x=y}else x=s.rep(escape(''+x),'+','%2B');if(c&&c!='AUTO'&&s.em==1&&x.indexOf('%u')<0&&x.indexOf('%U')<0){i=x.indexOf('%');while(i>=0){i++;if(h.substring(8).indexOf(x.substring(i,i+1).toUpperCase())>=0)return x.substring(0,i)+'u00'+x.substring(i);i=x.indexOf('%',i)}}}return x"),e.epa=new Function("x","var s=this,y,tcf;if(x){x=s.rep(''+x,'+',' ');if(s.em==3){tcf=new Function('x','var y,e;try{y=decodeURIComponent(x)}catch(e){y=unescape(x)}return y');return tcf(x)}else return unescape(x)}return y"),e.parseUri=new Function("u","if(u){u=u+'';u=u.indexOf(':')<0&&u.indexOf('//')!=0?(u.indexOf('/')==0?'/':'//')+u:u}u=u?u+'':window.location.href;var e,a=document.createElement('a'),l=['href','protocol','host','hostname','port','pathname','search','hash'],p,r={href:u,toString:function(){return this.href}};a.setAttribute('href',u);for(e=1;e<l.length;e++){p=l[e];r[p]=a[p]||''}delete a;p=r.pathname||'';if(p.indexOf('/')!=0)r.pathname='/'+p;return r"),e.gtfs=new Function("var w=window,l=w.location,d=document,u;if(!l.origin)l.origin=l.protocol+'//'+l.hostname+(l.port?':'+l.port:'');u=l!=w.parent.location?d.referrer:d.location;return{location:s.parseUri(u)}")}},libraryCode:{type:"managed",accounts:{staging:["%report_suite_id%"],production:["%report_suite_id%"],development:["%report_suite_id%"]},useActivityMap:!1,scopeTrackerGlobally:!0},moduleProperties:{audienceManager:{config:{partner:"marriottinternationa",uuidCookie:{days:30,name:"aam_uuid"}}}},trackerProperties:{eVars:[{name:"eVar41",type:"value",value:"%site_id%"},{name:"eVar189",type:"value",value:"%user_agent%"}],props:[{name:"prop5",type:"alias",value:"eVar41"}],currencyCode:"USD",trackingServer:"metrics.marriott.com",trackInlineStats:!0,trackDownloadLinks:!0,trackExternalLinks:!0,trackingServerSecure:"smetrics.marriott.com",linkDownloadFileTypes:["doc","docx","eps","jpg","png","svg","xls","ppt","pptx","pdf","xlsx","tab","csv","zip","txt","vsd","vxd","xml","js","css","rar","exe","wma","mov","avi","wmv","mp3","wav","m4v"]}},modules:{"adobe-analytics/src/lib/actions/setVariables.js":{name:"set-variables",displayName:"Set Variables",script:function(e,t,a,r){"use strict";var n=a("../sharedModules/getTracker"),s=a("../helpers/applyTrackerVariables");e.exports=function(e,t){return n().then((function(a){r.logger.info("Set variables on the tracker."),s(a,e.trackerProperties),e.customSetup&&e.customSetup.source&&e.customSetup.source.call(t.element,t,a)}),(function(e){r.logger.error("Cannot set variables: "+e)}))}}},"adobe-analytics/src/lib/actions/sendBeacon.js":{name:"send-beacon",displayName:"Send Beacon",script:function(e,t,a,r){"use strict";var n=a("../sharedModules/getTracker"),s=function(e){return e&&e.nodeName&&"a"===e.nodeName.toLowerCase()},o=function(e){return s(e)?e.innerHTML:"link clicked"},i=function(e,t,a){if("page"===t.type)r.logger.info("Firing page view beacon."),e.t();else{var n={linkType:t.linkType||"o",linkName:t.linkName||o(a)};r.logger.info("Firing link track beacon using the values: "+JSON.stringify(n)+"."),e.tl(s(a)?a:"true",n.linkType,n.linkName)}};e.exports=function(e,t){return n().then((function(a){i(a,e,t.element)}),(function(e){r.logger.error("Cannot send beacon: "+e)}))}}},"adobe-analytics/src/lib/actions/clearVariables.js":{name:"clear-variables",displayName:"Clear Variables",script:function(e,t,a,r){"use strict";var n=a("../sharedModules/getTracker");e.exports=function(){return n().then((function(e){e.clearVars&&(r.logger.info("Clear variables."),e.clearVars())}),(function(e){r.logger.error("Cannot clear variables: "+e)}))}}},"adobe-analytics/src/lib/sharedModules/getTracker.js":{script:function(e,t,a,r){"use strict";var n,s=a("@adobe/reactor-cookie"),o=a("@adobe/reactor-promise"),i=a("@adobe/reactor-window"),c=a("../helpers/settingsHelper"),l=a("../helpers/augmenters"),d=a("../helpers/applyTrackerVariables"),u=a("../helpers/loadLibrary"),m=a("../helpers/generateVersion")(r.buildInfo.turbineBuildDate),p="beforeSettings",f=r.getSharedModule("adobe-mcid","mcid-instance"),g=function(e){return!e||"true"===s.get(e)},h=function(e){return o.all(l.map((function(t){var a;try{a=t(e)}catch(e){setTimeout((function(){throw e}))}return o.resolve(a)}))).then((function(){return e}))},v=function(e){return f&&(r.logger.info("Setting MCID instance on the tracker."),e.visitor=f),e},_=function(e){return r.logger.info('Setting version on tracker: "'+m+'".'),void 0!==e.tagContainerMarker?e.tagContainerMarker=m:"string"==typeof e.version&&e.version.substring(e.version.length-5)!=="-"+m&&(e.version+="-"+m),e},b=function(e,t,a){return t.loadPhase===p&&t.source&&(r.logger.info("Calling custom script before settings."),t.source.call(i,a)),d(a,e||{}),t.loadPhase!==p&&t.source&&(r.logger.info("Calling custom script after settings."),t.source.call(i,a)),a},y=function(e,t){return c.isAudienceManagementEnabled(e)&&(t.loadModule("AudienceManagement"),r.logger.info("Initializing AudienceManagement module"),t.AudienceManagement.setup(e.moduleProperties.audienceManager.config)),t},P=(n=r.getExtensionSettings(),g(n.trackingCookieName)?u(n).then(h).then(v).then(_).then(b.bind(null,n.trackerProperties,n.customSetup||{})).then(y.bind(null,n)):o.reject("EU compliance was not acknowledged by the user."));e.exports=function(){return P}},name:"get-tracker",shared:!0},"adobe-analytics/src/lib/sharedModules/augmentTracker.js":{name:"augment-tracker",shared:!0,script:function(e,t,a){"use strict";var r=a("../helpers/augmenters");e.exports=function(e){r.push(e)}}},"adobe-analytics/src/lib/helpers/applyTrackerVariables.js":{script:function(e,t,a,r){"use strict";var n=a("@adobe/reactor-query-string"),s=a("@adobe/reactor-window"),o=/eVar([0-9]+)/,i=/prop([0-9]+)/,c=new RegExp("^(eVar[0-9]+)|(prop[0-9]+)|(hier[0-9]+)|campaign|purchaseID|channel|server|state|zip|pageType$"),l=function(e,t,a){return a.indexOf(e)===t},d=function(e,t,a){var r=Object.keys(t).filter(c.test.bind(c));return a&&r.push("events"),(r=r.concat((e.linkTrackVars||"").split(","))).filter((function(e,t){return"None"!==e&&e&&l(e,t,r)})).join(",")},u=function(e,t){var a=t.map((function(e){return e.name}));return(a=a.concat((e.linkTrackEvents||"").split(","))).filter((function(e,t){return"None"!==e&&l(e,t,a)})).join(",")},m=function(e,t,a){e[t]=a[t].join(",")},p=function(e,t,a){var r=a.dynamicVariablePrefix||"D=";a[t].forEach((function(t){var a;if("value"===t.type)a=t.value;else{var n=o.exec(t.value);if(n)a=r+"v"+n[1];else{var s=i.exec(t.value);s&&(a=r+"c"+s[1])}}e[t.name]=a}))},f={linkDownloadFileTypes:m,linkExternalFilters:m,linkInternalFilters:m,hierarchies:function(e,t,a){a[t].forEach((function(t){e[t.name]=t.sections.join(t.delimiter)}))},props:p,eVars:p,campaign:function(e,t,a){if("queryParam"===a[t].type){var r=n.parse(s.location.search);e[t]=r[a[t].value]}else e[t]=a[t].value},events:function(e,t,a){var r=a[t].map((function(e){var t=e.name;return e.id&&(t=[t,e.id].join(":")),e.value&&(t=[t,e.value].join("=")),t}));e[t]=r.join(",")}};e.exports=function(e,t){var a={};t=t||{},Object.keys(t).forEach((function(e){var r=f[e],n=t[e];r?r(a,e,t):a[e]=n})),a.events&&e.events&&e.events.length>0&&(a.events=e.events+","+a.events);var n=t&&t.events&&t.events.length>0,s=d(e,a,n);s&&(a.linkTrackVars=s);var o=u(e,t.events||[]);o&&(a.linkTrackEvents=o),r.logger.info('Applying the following properties on tracker: "'+JSON.stringify(a)+'".'),Object.keys(a).forEach((function(t){e[t]=a[t]}))}}},"adobe-analytics/src/lib/helpers/settingsHelper.js":{script:function(e,t,a,r){"use strict";var n=a("@adobe/reactor-window"),s={LIB_TYPES:{MANAGED:"managed",PREINSTALLED:"preinstalled",REMOTE:"remote",CUSTOM:"custom"},MANAGED_LIB_PATHS:{APP_MEASUREMENT:"AppMeasurement.js",ACTIVITY_MAP:"AppMeasurement_Module_ActivityMap.js",AUDIENCE_MANAGEMENT:"AppMeasurement_Module_AudienceManagement.js"},getReportSuites:function(e){var t=e.production;return e[r.buildInfo.environment]&&(t=e[r.buildInfo.environment]),t.join(",")},isActivityMapEnabled:function(e){return!(e.libraryCode&&!e.libraryCode.useActivityMap&&!1===e.libraryCode.useActivityMap)},isAudienceManagementEnabled:function(e){var t=!1;return e&&e.moduleProperties&&e.moduleProperties.audienceManager&&e.moduleProperties.audienceManager.config&&n&&n._satellite&&n._satellite.company&&n._satellite.company.orgId&&(t=!0),t}};e.exports=s}},"adobe-analytics/src/lib/helpers/augmenters.js":{script:function(e){"use strict";e.exports=[]}},"adobe-analytics/src/lib/helpers/loadLibrary.js":{script:function(e,t,a,r){"use strict";var n=a("@adobe/reactor-load-script"),s=a("@adobe/reactor-window"),o=a("@adobe/reactor-promise"),i=a("./settingsHelper"),c=a("./pollHelper"),l=function(e,t){if(!s.s_gi)throw new Error("Unable to create AppMeasurement tracker, `s_gi` function not found."+s.AppMeasurement);r.logger.info('Creating AppMeasurement tracker with these report suites: "'+t+'"');var a=s.s_gi(t);return e.libraryCode.scopeTrackerGlobally&&(r.logger.info("Setting the tracker as window.s"),s.s=a),a},d=function(e){var t=[];switch(e.libraryCode.type){case i.LIB_TYPES.MANAGED:t.push(r.getHostedLibFileUrl(i.MANAGED_LIB_PATHS.APP_MEASUREMENT)),i.isActivityMapEnabled(e)&&t.push(r.getHostedLibFileUrl(i.MANAGED_LIB_PATHS.ACTIVITY_MAP));break;case i.LIB_TYPES.CUSTOM:t.push(e.libraryCode.source);break;case i.LIB_TYPES.REMOTE:t.push("https:"===s.location.protocol?e.libraryCode.httpsUrl:e.libraryCode.httpUrl)}if(i.isAudienceManagementEnabled(e)){var a={namespace:s._satellite.company.orgId};e.moduleProperties.audienceManager.config.visitorService=a,t.push(r.getHostedLibFileUrl(i.MANAGED_LIB_PATHS.AUDIENCE_MANAGEMENT))}return t},u=function(e){return o.all(d(e).map((function(e){return r.logger.info("Loading script: "+e),n(e)})))},m=function(e,t){if(e.libraryCode.accounts)if(t.sa){var a=i.getReportSuites(e.libraryCode.accounts);r.logger.info('Setting the following report suites on the tracker: "'+a+'"'),t.sa(a)}else r.logger.warn("Cannot set report suites on tracker. `sa` method not available.");return t},p=function(e){if(s[e])return r.logger.info('Found tracker located at: "'+e+'".'),s[e];throw new Error('Cannot find the global variable name: "'+e+'".')};e.exports=function(e){var t=u(e);switch(e.libraryCode.type){case i.LIB_TYPES.MANAGED:var a=i.getReportSuites(e.libraryCode.accounts);return t.then(l.bind(null,e,a));case i.LIB_TYPES.PREINSTALLED:return t.then(c.poll.bind(null,s,e.libraryCode.trackerVariableName)).then(m.bind(null,e));case i.LIB_TYPES.CUSTOM:case i.LIB_TYPES.REMOTE:return t.then(p.bind(null,e.libraryCode.trackerVariableName)).then(m.bind(null,e));default:throw new Error("Cannot load library. Type not supported.")}}}},"adobe-analytics/src/lib/helpers/generateVersion.js":{script:function(e){"use strict";var t=8,a=function(e){return e.getUTCDate().toString(36)},r=function(e){return e.substr(e.length-1)},n=function(e){return Math.floor(e.getUTCHours()/t)},s=function(e){var t=(e.getUTCMonth()+1+12*n(e)).toString(36);return r(t)},o=function(e){return(e.getUTCFullYear()-2010).toString(36)};e.exports=function(e){var t=new Date(e);if(isNaN(t))throw new Error("Invalid date provided");return("L"+o(t)+s(t)+a(t)).toUpperCase()}}},"adobe-analytics/src/lib/helpers/pollHelper.js":{script:function(e,t,a,r){"use strict";var n=a("@adobe/reactor-promise"),s=40,o=250,i=function(e,t,a){r.logger.info('Found property located at: "'+t+'"].'),e(a)},c=function(e,t){return new n((function(a,r){if(e[t])return i(a,t,e[t]);var n=1,c=setInterval((function(){e[t]&&(i(a,t,e[t]),clearInterval(c)),n>=s&&(clearInterval(c),r(new Error('Bailing out. Cannot find the variable name: "'+t+'"].'))),n++}),o)}))};e.exports={poll:function(e,t){return r.logger.info('Waiting for the property to become accessible at: "'+t+'"].'),c(e,t)}}}}}}},company:{orgId:"664516D751E565010A490D4C@AdobeOrg",dynamicCdnEnabled:!1},property:{name:"Aries - marriott.com",settings:{domains:["marriott.com"],undefinedVarsReturnEmpty:!0,ruleComponentSequencingEnabled:!1},id:"PR93b1c52890864a2dba412d8403a39ae7"},rules:[{id:"RL00ccc3246cd443c19cf21f452cf57b5d",name:"Marketing | Floodlight 1359549| AmexCreditCard Apply Now-Update",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".card-overview-bordered a.custom_click_track",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/credit-cards/american-express-credit-cards",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC807a6d518e77441c9da26b2ed77103e6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL02273a424efd4f2da44f58e47fcef591",name:"Analytics | Destination Field | Recent Viewed ",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:1}],conditions:[{
modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels.mi",valueIsRegex:!0},{value:"/reservation/rateListMenu.mi",valueIsRegex:!0},{value:"/search/default.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!0,t=_satellite.getVar("env_platform"),a=window.location.pathname;return t.indexOf("phoenix")>-1&&a.indexOf("/search/findHotels.mi")>-1&&(e=!1),e}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar11",type:"value",value:"%search_type%"}]}}}]},{id:"RL0346a69db65a4068b1377d8498d32d40",name:"Core | Salesforce Chat | select pages Prod",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%env_site_id%",rightOperand:"US"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%page_domain_name%",rightOperand:"www.marriott.com"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return void 0!==_satellite.getVar("browser_akamai_loc_country")&&"US"===_satellite.getVar("browser_akamai_loc_country")&&(-1!==_satellite.getVar("page_pathname").indexOf("/loyalty.mi")||"true"==sessionStorage.chatIsOpen)}}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!location.hostname.includes("engage")&&!location.hostname.includes("lightning")}}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status_functional%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loyalty/where-can-we-take-you.mi|/reservation/confirmation.mi",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC40333f73c97c4e628344a1f0aac6da3c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL04c31cc05efe41ed97a297486cf80ad7",name:"Analytics | Base Code | Review Details copy",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/reviewDetails.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){(null!=_satellite.getVar("pts_confirmation_number")&&""!=_satellite.getVar("pts_confirmation_number")||null!=_satellite.getVar("pts_total_points_purchase")&&""!=_satellite.getVar("pts_total_points_purchase")||null!=_satellite.getVar("pts_total_points_rev")&&""!=_satellite.getVar("pts_total_points_rev"))&&(t.events=t.events?t.events+"event294,event289=1":"event294,event289=1")}},trackerProperties:{eVars:[{name:"eVar42",type:"value",value:"%res_room_rate_tab%"}],events:[{name:"event1"}]}}}]},{id:"RL0629ffcb0328450fbd22fc8091420b12",name:"Marketing | Floodlight | group-travel.mi",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meeting-event-hotels/group-travel.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC0e8e98799ab94b189319dad82ec630cd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL066e72f583874a6a872ab4152aa8de23",name:"Dedup ID",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"pageView",count:1}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"\nfunction generateUUID() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n        var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\n        return v.toString(16);\n    });\n}\n\nlet ddupVal = generateUUID();\nfunction setDdupCookie(ddupVal) {\n        var cookieDomain = location.hostname.substring(location.hostname.indexOf(\"marriott\"));\n        _satellite.cookie.set(\"Ddup\", ddupVal, {\n            expires: 7,\n            domain: cookieDomain\n        })\n}\nsetDdupCookie(ddupVal);",language:"javascript"}}]},{id:"RL0686d2523f2b4cda8c823492ef89b842",name:"Analytics | Page Load Call | Send Beacon (Phoenix - SERP AvailabilityCalendar)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"searchDataFire"},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotContain"},leftOperand:"%page_domain_name%",rightOperand:"engage"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/availabilityCalendar.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!0;return""===location.hash.substr(1)&&(e=!1),e}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){if(t.eVar1="",t.events="",location.pathname.indexOf("/search/findHotels.mi")>-1){t.eVar150=_satellite.getVar("search_currency_type"),t.prop33=_satellite.getVar("search_results_view"),"true"==_satellite.getVar("search_availability_search")&&(t.events=t.apl(t.events,"event3",",",1),t.events=t.apl(t.events,"event212",",",1)),t.events=t.apl(t.events,"event203="+_satellite.getVar("res_num_adults"),",",1),t.events=t.apl(t.events,"event204="+_satellite.getVar("res_num_children"),",",1),t.events=t.apl(t.events,"event202="+_satellite.getVar("res_rooms_per_night"),",",1);let e=_satellite.getVar("mr_prof_authentication_state");void 0!==e&&"authenticated"===e&&(t.events=t.apl(t.events,"event8",",",1))}if(_satellite.getVar("pagename").length>100&&(t.events=t.apl(t.events,"event58",",",1)),"function"==typeof getCookie&&(void 0===t.marketingCloudVisitorID||""==t.marketingCloudVisitorID)){var a=getCookie("AMCV_664516D751E565010A490D4C%40AdobeOrg").split("|");a.length>0&&-1!==a.indexOf("MCMID")&&(t.marketingCloudVisitorID=a[a.indexOf("MCMID")+1])}-1!==location.hostname.indexOf("engage.marriott")&&("production"==_satellite.buildInfo.environment?t.setAccount("marriottengage"):t.setAccount("marriottengagestage")),t.contextData.env_site_id=_satellite.getVar("env_site_id"),t.contextData.chk_in=_satellite.getVar("search_date_check_in"),t.contextData.srch_adv_prchs_days=_satellite.getVar("search_advance_purchase_days"),t.contextData.res_stay_len=_satellite.getVar("res_stay_length"),t.contextData.prop_addr_city_state_cntry=_satellite.getVar("prop_address_city_state_country"),t.contextData.prop_marsha_cd=_satellite.getVar("prop_marsha_code"),t.contextData.prop_brand_cd=_satellite.getVar("prop_brand_code"),t.contextData.mr_prof_pref_pgm=_satellite.getVar("mr_prof_preferred_program"),t.contextData.mr_prof_rewards_lvl=_satellite.getVar("mr_prof_rewards_level"),t.contextData.mr_prof_earning_pref=_satellite.getVar("mr_prof_earning_pref"),t.contextData.mr_prof_addr_state_abbr=_satellite.getVar("mr_prof_address_state_abbr"),t.contextData.mr_prof_addr_cntry_abbr=_satellite.getVar("mr_prof_address_country_abbr"),t.contextData.res_conf_num=_satellite.getVar("res_confirmation_number"),t.contextData.mr_cei_SttBhvSeg=_satellite.getVar("mr_cei_SttBhvSeg"),t.contextData.mr_cei_PurBrand=_satellite.getVar("mr_cei_PurBrand"),t.contextData.mr_cei_SttValSeg=_satellite.getVar("mr_cei_SttValSeg"),t.contextData.mr_cei_PurActvty=_satellite.getVar("mr_cei_PurActvty"),t.contextData.mr_cei_PurProp=_satellite.getVar("mr_cei_PurProp"),t.contextData.mr_cei_PurMkt=_satellite.getVar("mr_cei_PurMkt"),t.contextData.mr_cei_NerMkt=_satellite.getVar("mr_cei_NerMkt"),t.contextData.mr_cei_NewMkt=_satellite.getVar("mr_cei_NewMkt"),t.contextData.mr_cei_ResMkt=_satellite.getVar("mr_cei_ResMkt"),t.contextData.mr_cei_PmoTaste=_satellite.getVar("mr_cei_PmoTaste"),t.contextData.mr_prof_cc_all=_satellite.getVar("mr_prof_cc_all"),t.contextData.mhr="",t.contextData.mhr.bookinglengthofstay=_satellite.getVar("res_stay_length")}},trackerProperties:{eVars:[{name:"eVar15",type:"value",value:"%res_rate_is_member_rate%"},{name:"eVar53",type:"value",value:"%iscid%"},{name:"eVar101",type:"value",value:"%env_onetrust_cookie_selection%"},{name:"eVar151",type:"value",value:"%search_keyword%"},{name:"eVar204",type:"value",value:"%ota_res_details%"},{name:"eVar237",type:"value",value:"%env_onetrust_language%"},{name:"eVar240",type:"value",value:"%server_id_scrape%"},{name:"eVar241",type:"value",value:"%session_id_cookie%"}],props:[{name:"prop23",type:"value",value:"%search_list_setting_sort_order%"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}}]},{id:"RL06f9fbd42feb4a36910aab081ae7bd5c",name:"Marketing | Floodlight 1359549 | Resort Escape Explore",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".navigation-btns.mpo-mbo-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/offers/resort-escapes",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC9882d3c1014c4777941a72d764644823-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL07adab4f3c194d2ca2b5e4bbaadfde39",name:"Marketing | Floodlight | Loyalty Earn Reward",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loyalty/earn/rewarding-events",valueIsRegex:!0}]}}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"Page View",options:[["non_interaction",!0]],accounts:{1570639551011:{label:"DC-9035495/b2bma0/globa000+standard",enabled:!0}},callback:null}}]},{id:"RL084973a8f3634d7d8ddd7d80e2a1cb8f",name:"Marketing | Floodlight 9035495 | Programs Business Access Apply Now",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".m-button-primary.d-flex",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%page_pathname%",rightOperand:"/programs/business-access-by-marriott-bonvoy"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC98c275480e9b40d092d97c2448f1f1b1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL08755e5cf7a244bc854648263ee04729",name:"Analytics | Click Tracking | Optin Status Modal",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#ot-sdk-btn,#onetrust-pc-btn-handler,.save-preference-btn-handler,#ot-pc-refuse-all-handler",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC375a54ee6dd7466eba7df28e64d7d382-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL098b02ce07c042f589a177b9d848b5e2",name:"Core | demdex cookie | All pages",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC1d05573869414045ae977b5055c8723b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0a1f09f15c724172810b3288aed04f96",name:"Marketing | Twitter | All Pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC05caa812055c4d47b33d8bcab71039c1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0a5d4a19958f423c8e066c72342ee99d",name:"Analytics | Search | clickTracking |  Multirate",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[data-view='compare']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC77a6ae62735d4a4f8f02a95c591132d1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0b1ced651b7e4502b64a8d2b1200ab5b",name:"Analytics | HWS-RateList | tracking ",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/rateListMenu.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return new URL(document.referrer),window.location.pathname,document.referrer.indexOf("/hotels/")>-1||document.referrer.indexOf("/reservation/availabilityCalendar")>-1}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{props:[{name:"prop19",type:"value",value:"Launch Rule : Analytics | HWS-RateList | tracking"}],events:[{name:"event3"}]}}}]},{id:"RL0b4e5ac7775d4a7da88ffeb605066d8d",name:"Target | DNAT-2890 mBox parameter | HP Localized KR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels",valueIsRegex:!0},{value:"/search/filterSearch",valueIsRegex:!0},{value:"/search/default",valueIsRegex:!0},{value:"/default",valueIsRegex:!0},{value:"/error",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%page_domain_name%",rightOperand:"marriott.co.kr"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC2d22b3b47d1f4c039e5f6cc29bc1f917-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0b8df08e705b4508bed32311429b5d20",name:"Analytics | Page Load | Promo Confirmation",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loyalty/promotion.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){const a=new URLSearchParams(window.location.search).get("promotion"),r=window.dataLayer.mr_enrollment_form==a&&window.dataLayer.promoIDsRegistered.includes(a)&&"authenticated"==window.dataLayer.memState,n=window.dataLayer.mr_id+a;(""!==_satellite.getVar("mr_register_for_promo")||r)&&(t.linkTrackVars="prop44,events",t.linkTrackEvents="event553",t.events=`event553:${n}`,t.prop44=a||_satellite.getVar("mr_register_for_promo"))}},trackerProperties:{}}}]},{id:"RL0c385dc463484c54bd9dbf8207b0ad63",name:"Marketing | GA4 | Successful Sign Up",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/confirmation.mi",valueIsRegex:!0},{value:"/loyalty/findReservationList.mi",valueIsRegex:!0},{value:"/loyalty/myAccount/profile.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%mr_enrolled%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotMatchRegex"},leftOperand:"%env_site_id%",rightOperand:"CN|TW"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"sign_up",options:[["event_category","member"],["event_label","success"]],accounts:{1727890546729:{enabled:!0}},callback:null}}]},{id:"RL0d108376fe2844d2b0ba1f80bb0d3d71",name:"Analytics | custom_analytics function | All",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"spaTrigger"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'window.customAnalyticsCall = function(x) {\n\n    var tempValue = "";\n    var varValue = "";\n    var tempEvents = "";\n    var tempEvars = "";\n    var tempProps = "";\n    var tempLists = "";\n    var tempLinkTrackVars = "";\n    var tempLinkTrackEvents = "";\n\n    s.origLTV = s.linkTrackVars;\n    s.origLTE = s.linkTrackEvents;\n    s.origEvents = s.events;\n    s.linkTrackVars="";\n    s.linkTrackEvents="";\n    s.events="";\n\n    /*check for events, evars, props*/\n    if (typeof x != "undefined") {\n        /*check capitalization of event, eVar, prop*/\n        var regexE = /event/i;\n        var regexV = /evar/i;\n        var regexP = /prop/i;\n        var regexL = /list/i;\n        tempEvents = x.split("^");\n        tempEvents.forEach(function(value, index) {\n            /*test which variable type*/\n            var varType = "";\n            if (/^event/i.test(value) == true) {\n                varType = "event";\n            } else if (/^evar/i.test(value) == true) {\n                varType = "eVar";\n            } else if (/^prop/i.test(value) == true) {\n                varType = "prop";\n            } else if (/^list/i.test(value) == true) {\n                varType = "list";\n            }\n            switch (varType) {\n                case "event":\n                    var eventVal = value.replace(regexE, "event");\n                    s.events = s.apl(s.events, eventVal, ",", 2);\n                    /*grab only the event name in case there is an incrementor also passed*/\n                    var eventName = value.replace("=","@@").split("@@");\n                    tempLinkTrackEvents = s.apl(tempLinkTrackEvents, eventName[0], ",", 2);\n                    break;\n                case "eVar":\n                    /*split the evar and value*/\n                    var varName = value.replace("=","@@").split("@@");\n                    tempLinkTrackVars = s.apl(tempLinkTrackVars, varName[0].replace(regexV, "eVar"), ",", 2);\n                    s[varName[0].replace(regexV, "eVar")] = varName[1];\n                    break;\n                case "prop":\n                    /*split the prop and value*/\n                    var propName = value.replace("=","@@").split("@@");\n                    tempLinkTrackVars = s.apl(tempLinkTrackVars, propName[0].replace(regexP, "prop"), ",", 2);\n                    s[propName[0].replace(regexP, "prop")] = propName[1];\n                    break;\n                case "list":\n                    /*split the prop and value*/\n                    var listName = value.replace("=", "@@").split("@@");\n                    tempLinkTrackVars = s.apl(tempLinkTrackVars, listName[0].replace(regexL, "list"), ",", 2);\n                    s[listName[0].replace(regexL, "list")] = listName[1].replace(/\\^/g, "|").replace(/\\;/g, ",");\n                    break;\n                default:\n                    // add nothing\n            }\n        });\n    }\n    s.linkTrackEvents = tempLinkTrackEvents;\n    s.linkTrackVars = tempLinkTrackVars;\n    s.tl(this, "o", "Custom Analytics Call");\n    s.events = s.origEvents;\n    s.linkTrackVars = s.origLTV;\n    s.linkTrackEvents = s.origLTE;\n}',language:"javascript"}}]},{id:"RL0d960402b2f24e96beb88019dd0a1990",name:"Analytics | Impression Tracking Function | All Pages | Direct Call",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"impressTrack"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return window.impressionTrack?_satellite.logger.warn("DNAT-3785 : in else"):(_satellite.logger.warn("DNAT-3785 : !window.impressionTrack"),window.impressionTrack=function(e){setTimeout((()=>{function t(){let t=_satellite.getVar("user_optin_status_analytics");"undefined"!=typeof s&&null!=t&&("optout"!==t?(_satellite.logger.warn("DNAT-3785 : s object defined sending impression optInAnalytics = "+t),clearInterval(a),sendImpressionTrack(e)):(_satellite.logger.warn("DNAT-3785 :optInAnalytics = "+t+" do NOT send impressionTrack"),clearInterval(a)))}var a=setInterval(t,10)}),2e3)},sendImpressionTrack=function(e){_satellite.logger.warn("DNAT-3785 : window.sendImpressionTrack = "+e);var t=[],a="",r="",n="",o="",i="";if(void 0!==e){"authenticated"==dataLayer.mr_prof_authentication_state?o="|evar22=logged in":"remembered"==dataLayer.mr_prof_authentication_state?o="|evar22=remembered":"unauthenticated"==dataLayer.mr_prof_authentication_state&&(o="|evar22=unauthenticated"),"undefined"!=mvpOffers.source&&(i="|evar212="+mvpOffers.source);var c=/event/i,l=/evar/i,d=/prop/i,u=/link/i;(e=e+o+i).split("|").forEach((function(e){var o="";switch(1==/^event/i.test(e)?o="event":1==/^evar/i.test(e)?o="eVar":1==/^prop/i.test(e)?o="prop":1==/^list/i.test(e)&&(o="list"),void 0===s.apl&&(_satellite.logger.warn("DNAT-3785 : s.apl is NOT defined - Creating Definition"),s.getValOnce=new Function("v","c","e","var s=this,a=new Date,v=v?v:v='',c=c?c:c='s_gvo',e=e?e:0,k=s.c_r(c);if(v){a.setTime(a.getTime()+e*86400000);s.c_w(c,v,e?a:0);}return v==k?'':v"),s.apl=new Function("l","v","d","u","var s=this,m=0;if(!l)l='';if(u){var i,n,a=s.split(l,d);for(i=0;i<a.length;i++){n=a[i];m=m||(u==1?(n==v):(n.toLowerCase()==v.toLowerCase()));}}if(!m)l=l?l+d+v:v;return l"),s.getTimeParting=new Function("t","z","y","l","var s=this,d,A,U,X,Z,W,B,C,D,Y;d=new Date();A=d.getFullYear();Y=U=String(A);if(s.dstStart&&s.dstEnd){B=s.dstStart;C=s.dstEnd}else{;U=U.substring(2,4);X='090801|101407|111306|121104|131003|140902|150801|161306|171205|181104|191003';X=s.split(X,'|');for(W=0;W<=10;W++){Z=X[W].substring(0,2);if(U==Z){B=X[W].substring(2,4);C=X[W].substring(4,6)}}if(!B||!C){B='08';C='01'}B='03/'+B+'/'+A;C='11/'+C+'/'+A;}D=new Date('1/1/2000');if(D.getDay()!=6||D.getMonth()!=0){return'Data Not Available'}else{z=z?z:'0';z=parseFloat(z);B=new Date(B);C=new Date(C);W=new Date();if(W>B&&W<C&&l!='0'){z=z+1}W=W.getTime()+(W.getTimezoneOffset()*60000);W=new Date(W+(3600000*z));X=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];B=W.getHours();C=W.getMinutes();D=W.getDay();Z=X[D];U='AM';A='Weekday';X='00';if(C>30){X='30'}if(B>=12){U='PM';B=B-12};if(B==0){B=12};if(D==6||D==0){A='Weekend'}W=B+':'+X+U;if(y&&y!=Y){return'Data Not Available'}else{if(t){if(t=='h'){return W}if(t=='d'){return Z}if(t=='w'){return A}}else{return Z+', '+W}}}"),s.getAndPersistValue=new Function("v","c","e","var s=this,a=new Date;e=e?e:0;a.setTime(a.getTime()+e*86400000);if(v)s.c_w(c,v,e?a:0);return s.c_r(c);"),s.getDaysSinceLastVisit=new Function("c","var s=this,e=new Date(),es=new Date(),cval,cval_s,cval_ss,ct=e.getTime(),day=24*60*60*1000,f1,f2,f3,f4,f5;e.setTime(ct+3*365*day);es.setTime(ct+30*60*1000);f0='Cookies Not Supported';f1='First Visit';f2='More than 30 days';f3='More than 7 days';f4='Less than 7 days';f5='Less than 1 day';cval=s.c_r(c);if(cval.length==0){s.c_w(c,ct,e);s.c_w(c+'_s',f1,es);}else{var d=ct-cval;if(d>30*60*1000){if(d>30*day){s.c_w(c,ct,e);s.c_w(c+'_s',f2,es);}else if(d<30*day+1 && d>7*day){s.c_w(c,ct,e);s.c_w(c+'_s',f3,es);}else if(d<7*day+1 && d>day){s.c_w(c,ct,e);s.c_w(c+'_s',f4,es);}else if(d<day+1){s.c_w(c,ct,e);s.c_w(c+'_s',f5,es);}}else{s.c_w(c,ct,e);cval_ss=s.c_r(c+'_s');s.c_w(c+'_s',cval_ss,es);}}cval_s=s.c_r(c+'_s');if(cval_s.length==0) return f0;else if(cval_s!=f1&&cval_s!=f2&&cval_s!=f3&&cval_s!=f4&&cval_s!=f5) return '';else return cval_s;"),s.getPageName=new Function("u","var s=this,v=u?u:''+s.w.location,x=v.indexOf(':'),y=v.indexOf('/',x+4),z=v.indexOf('?'),c=s.pathConcatDelim,e=s.pathExcludeDelim,g=s.queryVarsList,d=s.siteID,n=d?d:'',q=z<0?'':v.substring(z+1),p=v.substring(y+1,q?z:v.length);z=p.indexOf('#');p=z<0?p:s.fl(p,z);x=e?p.indexOf(e):-1;p=x<0?p:s.fl(p,x);p+=!p||p.charAt(p.length-1)=='/'?s.defaultPage:'';y=c?c:'/';while(p){x=p.indexOf('/');x=x<0?p.length:x;z=s.fl(p,x);if(!s.pt(s.pathExcludeList,',','p_c',z))n+=n?y+z:z;p=p.substring(x+1)}y=c?c:'?';while(g){x=g.indexOf(',');x=x<0?g.length:x;z=s.fl(g,x);z=s.pt(q,'&','p_c',z);if(z){n+=n?y+z:z;y=c?c:'&'}g=g.substring(x+1)}return n"),s.p_c=new Function("v","c","var x=v.indexOf('=');return c.toLowerCase()==v.substring(0,x<0?v.length:x).toLowerCase()?v:0"),s.join=new Function("v","p","var s = this;var f,b,d,w;if(p){f=p.front?p.front:'';b=p.back?p.back:'';d=p.delim?p.delim:'';w=p.wrap?p.wrap:'';}var str='';for(var x=0;x<v.length;x++){if(typeof(v[x])=='object' )str+=s.join( v[x],p);else str+=w+v[x]+w;if(x<v.length-1)str+=d;}return f+str+b;"),s.split=new Function("l","d","var i,x=0,a=new Array;while(l){i=l.indexOf(d);i=i>-1?i:l.length;a[x++]=l.substring(0,i);l=l.substring(i+d.length);}return a")),o){case"event":var i=e.replace(c,"event");n=s.apl(n,i,",",2);var m=e.split("=");a=s.apl(a,"events",",",2),r=s.apl(r,m[0],",",2);break;case"eVar":var p=e.split("=");a=s.apl(a,p[0].replace(l,"eVar"),",",2),s[p[0].replace(l,"eVar")]=p[1],t.push(p[0].replace(l,"eVar"));break;case"prop":var f=e.split("=");a=s.apl(a,f[0].replace(d,"prop"),",",2),s[f[0].replace(d,"prop")]=f[1],t.push(f[0].replace(d,"prop"));break;case"list":var g=e.replace("=","@@").split("@@");a=s.apl(a,g[0].replace(u,"list"),",",2),s[g[0].replace(u,"list")]=g[1].replace(/\^/g,"|"),t.push(g[0].replace(u,"list"))}}))}"undefined"!=typeof visitor&&(s.marketingCloudVisitorID=visitor.getMarketingCloudVisitorID()),s.origLTV=s.linkTrackVars,s.origEvents=s.events,s.events=n,s.linkTrackVars=a,s.linkTrackEvents=r,s.tl(this,"o","Impression View"),t.forEach((function(e){s[e]=""})),s.events=s.origEvents,s.linkTrackEvents="None",s.linkTrackVars=s.origLTV}),!0}}}],actions:[]},{id:"RL0e36d30fe49d4e99804892ffed6995c9",name:"Marketing | Linkedin | Add to RFP Meeting Event",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".property-cta",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/search/find-hotels.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCdf199b3a14254b79a30a00b759b105dd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0e928f51b5834c6ab9d253e31d1b3706",name:"Marketing | Yahoo COM | Default Pixel",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"US"===dataLayer.env_site_id}}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC187fef2c371b4a92836abc3d169c169e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0ec908fee102426cb229b6dc1eb497ab",name:"Marketing | Floodlight 1359549 | Loyalty The Eras Tour Enter Now",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".enter-now-cta",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loyalty/sweepstakes/TSTheErasTour.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC277fe78def75434aa631167e190c7d1f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0f3fb6e102734932821d2c450729d98f",name:"Core | Promotion ID | /loyalty/promotion.mi",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loyalty/promotion.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCaf97e087575d477d94354d90356fd8a7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL10323a14dd2f4732ba605090153eb98a",name:"Marketing | Floodlight 10218395 | All",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/confirmation.mi",valueIsRegex:!0},{value:"/hotels/travel/",valueIsRegex:!0},{value:"/search/findHotels.mi",valueIsRegex:!0},{value:"/reservation/reviewDetails.mi",valueIsRegex:!0},{value:"/reservation/rateListMenu.mi",valueIsRegex:!0},{value:"/reservation/reviewDetails.mi",valueIsRegex:!0},{value:"/reservation/guestInfo.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCf4786f8deb1045b9b39dcf101c91ef5c-source.min.js",language:"html",isExternal:!0}}]},{id:"RL103dd6488d0a41f09c2b007686e5354a",name:"Core | TrustArc Country Code | HWS AEM pages",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"startsWith"},leftOperand:"%page_pathname%",rightOperand:"/en-us/hotels/"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotMatchRegex"},leftOperand:"%browser_akamai_loc_country%",rightOperand:"."}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'/*keep checking for TrustArc country code, when found place into dataLayer*/\nvar trusteCCCheck = setInterval(function() {\n    if (typeof truste !== "undefined" && typeof truste.eu !== "undefined" && typeof truste.eu.bindMap !== "undefined" && typeof truste.eu.bindMap.country !== "undefined" && typeof dataLayer !== "undefined" && dataLayer.browser_akamai_loc_country==undefined) {\n        clearInterval(trusteCCCheck);\n      dataLayer.browser_akamai_loc_country=truste.eu.bindMap.country.toUpperCase();\n    }\n}, 25)',language:"javascript"}}]},{id:"RL10d5001b6a294757b6b79daeb0f7a73f",name:"Marketing | Floodlight 1359549| India Free Night Credit Card",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".m-button-primary-inverse",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",
caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/credit-cards/india-credit-cards",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCdae3b82276714222870c450afe5ca67e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL121d0074a94c4803b37a383a3f2119a6",name:"Analytics | Contactless | Available ",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){console.log("contactless");var e=document.querySelectorAll(".contactless-container").length,t=document.querySelectorAll(".contactless").length;return e>0&&t>0}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar202",type:"value",value:"Yes"}]}}}]},{id:"RL12d1b1032d6a481c8beacae5b5471558",name:"Analytics | Quick Group | Confirmation",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/group-booking/submitted.mi",valueIsRegex:!0},{value:"/meetings-events/group-booking-phx/submitted.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.products=";"+_satellite.getVar("prop_marsha_code")+";;"}},trackerProperties:{eVars:[{name:"eVar26",type:"value",value:"%res_stay_length%"},{name:"eVar29",type:"value",value:"%search_advance_purchase_days%"},{name:"eVar33",type:"value",value:"%group_event_type%"},{name:"eVar34",type:"value",value:"%group_room_attendee_count%"},{name:"eVar141",type:"value",value:"%group_qg_submission_type%"},{name:"eVar155",type:"value",value:"%group_contract_type%"}],props:[{name:"prop17",type:"value",value:"%search_date_check_in%"},{name:"prop18",type:"value",value:"%search_date_check_out%"},{name:"prop21",type:"value",value:"%group_search_options%"},{name:"prop68",type:"value",value:"%group_opportunity_id%"}],events:[{name:"event37",value:"%group_revenue_total_usd%"},{name:"event18"}]}}}]},{id:"RL14611c6b1b394761b2c77ece0a5dacd7",name:"Marketing | Floodlight | Meeting Event Hotel Planning",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meeting-event-hotels/meeting-planning",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCb9bb7216b25d4f7ebe9512376972caef-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL15e2ba21e5ae445fb3baf12017dca26e",name:"Target | OffersHub | ClickTracking",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'[id*="offers-cards"] .glide .glide__slides li a',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return-1!==_satellite.getVar("page_requested_uri").indexOf("/offers")}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC2028799e630640b5bca5bcd026518390-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1639480884004207ae339ed00c73f7ad",name:"Core | Dynatrace | All pages",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:4}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=!1;return 1==["www.mi-perftest1.marriott.com.cn","www.mi-perftest1.com","www.uat05.marriott.com","www.uat05.marriott.com.cn","www.ram-preprod.marriott.com","www.marriott.com.cn","www.marriott.com"].includes(location.hostname)&&(e=!0),e}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'let src;\nif(location.hostname=="www.marriott.com.cn"){\n  src = "https://js-cdn.dynatrace.com/jstag/1773f6577b3/bf88204ffh/137b3f25c4cf0aa0_complete.js";\n} else if (location.hostname=="www.mi-perftest1.marriott.com.cn"){\n  src = "https://js-cdn.dynatrace.com/jstag/1773f6577b3/bf10688kvk/54cdd7c2c3a5633_complete.js"\n} else if (location.hostname=="www.mi-perftest1.com"){\n  src="https://js-cdn.dynatrace.com/jstag/1773f6577b3/bf10688kvk/46bda54234220a6_complete.js";\n} else if(location.hostname=="www.uat05.marriott.com"){\n  src="https://js-cdn.dynatrace.com/jstag/1773f6577b3/bf10688kvk/b2cda24c08072ff6_complete.js";\n} else if(location.hostname=="www.uat05.marriott.com.cn"){\n  src="https://js-cdn.dynatrace.com/jstag/1773f6577b3/bf10688kvk/b2cda24c08072ff6_complete.js";\n} else if(location.hostname=="www.ram-preprod.marriott.com"){\n  src="https://js-cdn.dynatrace.com/jstag/1773f6577b3/bf10688kvk/1b0fbca2f9654f5a_complete.js";\n} else if (location.hostname=="www.marriott.com"){\n  src = "https://js-cdn.dynatrace.com/jstag/1773f6577b3/bf88204ffh/220110cf75551a30_complete.js";\n}\n\nif (src!==undefined){\n  var newScript = document.createElement(\'script\');\n    newScript.type = \'text/javascript\';\n    newScript.src = src; //URL\n    newScript.async = (typeof async !== "undefined") ? async: true;\n    newScript.setAttribute("crossorigin", "anonymous");\n\n    document.head.appendChild(newScript);\n}',language:"javascript"}}]},{id:"RL165b3681a36f4d2d9a4c6446bbc001a8",name:"Analytics | Click Tracking | Review Click To Pay",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".l-visa-container",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/reviewDetails.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"uri=www.marriott.com/reservation/reviewDetails.mi:loc=Payment Options:linkDescription=Alternate Payment - Visa SRC"}],events:[{name:"event2"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Visa Tile Clicked",linkType:"o"}}]},{id:"RL16e22108a7954e4e95452d80b6b7a9ed",name:"Analytics | OneTrust Modal Clicks | All Pages",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#close-pc-btn-handler",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCbfc00092abac46a7b81f7b632aa991a7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1727349235de4996bbd5087e7e49d0bb",name:"Marketing | Floodlight 9035495 | Meeting Events Join For Free",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".m-button-primary-inverse",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meeting-event-hotels/group-reservations/your-vision-our-commitment",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCab8cbabb2bad49e99e5e4bfe2e0fe79a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL178c32c71942401891fcee5edd87a0e8",name:"User's Analytics Opt-In/Opt-Out Status",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"spaTrigger"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!1;return _satellite.getVar("env_site_id").indexOf("US")>-1&&(e=!0),e}}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!1;return void 0!==_satellite.cookie.get("exitIntentShown")&&(e=!0),e}},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"function setCookie(name, value, days) {\n\tlet expires = '';\n\tif (days) {\n\t\tconst date = new Date();\n\t\tdate.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n\t\texpires = '; expires=' + date.toUTCString();\n\t}\n\tdocument.cookie = name + '=' + (value || '') + expires + ';' + 'path=/;';\n}\n\nfunction setOptValue() {\n\t/*check for onetrust cookie*/\n\tlet optCookie = _satellite.cookie.get(\"OptanonConsent\");\n\tif (optCookie != null && optCookie.indexOf('groups')>-1 && (typeof s !=='undefined' && typeof s.tl ==='function') ) {\n        let ckVal = decodeURIComponent(optCookie);\n        let interactValue = ckVal.slice(\n          ckVal.indexOf('interactionCount=')+17 ,\n          ckVal.lastIndexOf('&lan')\n        );\n\t   let theReferrer = document.referrer;\n       let theOverRide = _satellite.getVar('overideOptOut');\n       _satellite.logger.warn(\"setOptValue Cookie exists - theReferrer = \"+theReferrer+ \" interactValue = \"+interactValue+\" overideOptOut = \"+ theOverRide);\n\t\tif (!_satellite.cookie.get('exitIntentShown') && (theReferrer!=='' && theReferrer.indexOf('marriott.com/')>-1) && interactValue>0 ) {\n\t\t\t_satellite.logger.warn(\"DNAT-4018::CAPTURE OPT-IN \");\n          if(!theOverRide){\n            _satellite.setVar('overideOptOut', 'true');\n          }\n\t\t\tsetCookie('exitIntentShown', true);\n\t\t\twindow.sendOptInStatusToAnalytics();\n\t\t}\n      return null;\n\t} else {\n\t\tsetTimeout(function(){\n\t\t    setOptValue();\n\t\t}, 300);\n\t}\n}\nsetOptValue();\n",language:"javascript"}}]},{id:"RL1803eb1e91e543a6a3e83412388ef29d",name:"Analytics | Reviews | MultiRate",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/reviewDetails.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar4",type:"value",value:"%search_cluster_code%"},{name:"eVar136",type:"value",value:"%search_multiRate_lowest_rate%"}]}}}]},{id:"RL182ec581c8f44f20884d075211ccb3e2",name:"Marketing | GA4 | Group Search",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:40}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotMatchRegex"},leftOperand:"%env_site_id%",rightOperand:"CN|TW"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/search/find-hotels.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"group_search",options:[["event_category","group"],["dimension22","%search_date_check_in%"],["dimension23","%search_date_check_out%"],["dimension52","%group_event_type%"],["metric5","1"]],accounts:{1727890546729:{enabled:!0}},callback:null}}]},{id:"RL187ad2cfb4ad41ed87ca663c97b89f3c",name:"Marketing | TripAdvisor | All Pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/hotels/",valueIsRegex:!0},{value:"/search/",valueIsRegex:!0},{value:"/reservation/guestInfo.mi",valueIsRegex:!0},{value:"/reservation/rateListMenu.mi",valueIsRegex:!0},{value:"/reservation/reviewDetails.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCbd6317d7049f4ff3bc27623b24c12871-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1908e3c1d894413196c72ca389e92b28",name:"Marketing | Floodlight 1359549 | Shinhan Cobrand Credit Card KR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".mt-carddeatils-component__container__content .button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/ko/credit-cards/shinhan-cobrand.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCc10ad2de67a043d09320e435327a972f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL19bd0b3491294e5fac66d809a795f6e5",name:"Marketing | Linkedin | All Pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC19a07d8f57cf418585764a1691a71563-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL19c1f13d00824d5daddee8eb911063be",name:"Analytics | clicktracking | HWS Photos",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".slider-slide picture",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".view-photos",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/hotels/travel/",valueIsRegex:!0},{value:"/hotels/",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.products=";"+_satellite.getVar("prop_marsha_code")+";;"}},trackerProperties:{eVars:[{name:"eVar143",type:"value",value:"%prop_brand_name%"},{name:"eVar144",type:"value",value:"%prop_brand_tier%"}],props:[{name:"prop20",type:"value",value:"Hotel Photos"}],events:[{name:"event24"},{name:"event65"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%Hotel Photo%",linkType:"o"}}]},{id:"RL1c05795e2cc2433e93e5822be7da108f",name:"Base Test",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC0e388f8739ea4f89a857fb050609093b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1c2a4bf932d84c14b47e4da9cdf5cfdc",name:"Analytics | Create RFP | Sign In Modal",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/rfp/event-profile.mi",valueIsRegex:!0},{value:"/meetings-events/rfp-phx/event-profile.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!document.referrer.includes("/meetings-events/search/")}}},{modulePath:"core/src/lib/conditions/queryStringParameter.js",settings:{name:"erfpSignInOverlay",value:"true"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{props:[{name:"prop20",type:"value",value:"Login Modal"}],events:[{name:"event24"}]}}}]},{id:"RL1c8f640301c84018b8bf840479b91f38",name:"Marketing | Floodlight 1359549 | Gaylord HWS Reserve Button",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".marriott-header-subnav__menu__reserve__button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-us/hotels/",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%prop_marsha_code%",rightOperand:"BNAGO|DALGT|DENGR|MCOGP|WASGN|SATJW"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCa2e9abe5392b4f4084375ae766fee91d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1d22a73cbb0940c5a99384d996950165",name:"Marketing | Floodlight 9035495 | Meeting Events Search RFP click",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".m-button-primary.property-cta",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/search/find-hotels",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCb8c5318f38154b5389872d6069a5a7bd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1de161c4d0ae423ca11864139fb88755",name:"Marketing | Measure Engagement | Adara | Aeries ",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/sign-in.mi",valueIsRegex:!0},{value:"/default.mi",valueIsRegex:!0},{value:"/reservation/rateListMenu.mi",valueIsRegex:!0},{value:"/(zh|pl-PL|tr-TR)/default.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!0,t=_satellite.getVar("browser_akamai_loc_state").toLowerCase(),a=_satellite.getVar("mr_prof_address_state").toLowerCase();return void 0!==t&&("california"!==t&&"virginia"!==t&&"nevada"!==t&&"utah"!==t&&"iowa"!==t&&"ca"!==t&&"va"!==t&&"nv"!==t&&"ut"!==t&&"ia"!==t||(e=!1)),e&&void 0!==a&&("ca"!==a&&"va"!==a&&"nv"!==a&&"ut"!==a&&"ia"!==a||(e=!1)),e}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC7755ee82acf04e809814c0ce3fdee877-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1dfc3233db1f4ac7b83d5a9a5bcd66a7",name:"Marketing | Floodlight 1359549 | Credit Card JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%env_site_id%",rightOperand:"JP"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/credit-cards.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCe943a3b21b8c4b4baaee1a560fd4e3b5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1e74ad94e035431994a1aa98650fd5d5",name:"Analytics | Page Load | /dining/restaurant-bar/ ",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"(\\/dining\\/restaurant-bar\\/)",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a="false",r="",n=document.getElementsByClassName("outlet-primary-details__cta");if(n.length>0)for(let e=0;e<n.length;e++)0==n[e].innerHTML.indexOf("Reserve")&&(tempValue=n[e].getAttribute("data-custom_click_track_value").split("|"),varValue="uri="+location.hostname+location.pathname+":loc="+(tempValue[0]||"undefined")+":linkDescription="+(tempValue[1]||"undefined"),r=varValue,a="true");"true"==a&&(t.linkTrackVars="events,eVar1",t.linkTrackEvents="event28",t.events="event28",t.eVar1=r)}},trackerProperties:{}}}]},{id:"RL1ece49aa66c246169e9ff174a05ad789",name:"Marketing | Line | Marriott JP Confirmation",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%env_site_id%",rightOperand:"JP"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/confirmation.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC0cdeab4ea4864629b75c8dce2c4213fe-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1fa4f9dc48394baeab0ce8868d429000",name:"Analytics | Property Page | Save Hotel",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".save-info a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/hotels/travel/",valueIsRegex:!0},{value:"/reservation/availabilityCalendar.mi",valueIsRegex:!0},{value:"/reservation/rateListMenu.mi",valueIsRegex:!0},{value:"/reservation/reviewDetails.mi",valueIsRegex:!0},{value:"/reservation/guestInfo.mi",valueIsRegex:!0},{value:"/reservation/confirmReservationCancellation.mi",valueIsRegex:!0},{value:"/reservation/findReservationDetail.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){console.log("Property Page evennt23/event216 : "+$(this).text().trim()),"Save"===$(this).text().trim()?(t.linkTrackEvents="event23",t.events=t.apl(t.events,"event23",",",2)):(t.linkTrackEvents="event216",t.events=t.apl(t.events,"event216",",",2)),void 0!==dataLayer.prop_marsha_code&&(t.products=";"+dataLayer.prop_marsha_code+";;")}},trackerProperties:{eVars:[{name:"eVar143",type:"value",value:"%prop_brand_name%"},{name:"eVar144",type:"value",value:"%prop_brand_tier%"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Hotel Save Link Clicked",linkType:"o"}}]},{id:"RL1fd0cb6edc2849bd8c16b5742a79d091",name:"Analytics | Non-Modal click Tracking | All pages | Phoenix Platform",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"spaTrigger"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%env_platform%",rightOperand:"Phoenix"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC5c4dced471074b24a557c2848c386db5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL20046cc43dac40b08aec7447b7da5af9",name:"Analytics | Flexible Dates | AvailabilityCalendar",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/availabilityCalendar.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{props:[{name:"prop39",type:"value",value:"%search_flexible_date_tab%"}]}}}]},{id:"RL20916c1a26ef43818d350f2967c281c2",name:"Analytics|Res path | Multi Rate (Phoenix - SERP)",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%env_platform%",rightOperand:"phoenix"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!1;return""!==location.hash.substr(1)&&(e=!0),e}}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels.mi",valueIsRegex:!0},{value:"/search/availabilityCalendar",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar130",type:"value",value:"%search_res_path_type%"},{name:"eVar132",type:"value",value:"%search_multiRate_rates_available%"},{name:"eVar133",type:"value",value:"%search_multiRate_rate_selected%"},{name:"eVar134",type:"value",value:"%search_multiRate_or_single%"}]}}}]},{id:"RL2148909d86c24514886ee5286af60a7f",name:"Marketing | Floodlight | RFP Event Contact",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/rfp/event-contact",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCb8378dfd1c1b4f86b01ceaafe0cf771b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL214d7899f82349a7a9d5bc3e12d21a46",name:"Patch | Email Subscribe Buttons | ES DE BR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%page_hostname%",rightOperand:"www.marriott.de|www.espanol.marriott.com|www.marriott.com.br"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%page_pathname%",rightOperand:"/profile/email/unsubscribe.mi|/profile/email/unsubscribeChallenge.mi|/profile/email/unsubscribeSubmit.mi"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC3965fe8a98224dc9b908e7ac41eaeeed-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2214e2624c1244a6a7dc1400e7164bca",name:"Marketing | Epsilon | All pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC33775c4701764f8baa4c1f7e5f3d60fd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL22d1ae98d91a47c28da6c77763223c05",name:"Analytics | Search - Availability | All Pages",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobepage"},ruleOrder:25}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/availabilityCalendar.mi",valueIsRegex:!0},{value:"/search/findHotels.mi",valueIsRegex:!0},{value:"/search/filterSearch.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!0,t=_satellite.getVar("env_platform"),a=window.location.pathname;return t.indexOf("phoenix")>-1&&a.indexOf("/search/findHotels.mi")>-1&&(e=!1),e}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar2",type:"value",value:"%search_is_weekend_stay%"},{name:"eVar4",type:"value",value:"%search_cluster_code%"},{name:"eVar10",type:"value",value:"%search_date_check_in_day_of_week%"},{name:"eVar12",type:"value",value:"%search_destination_city_state_country%"},{name:"eVar14",type:"value",value:"%search_filter_type%"},{name:"eVar26",type:"value",value:"%Length%"},{name:"eVar29",type:"value",value:"%Advance Purchase Window%"},{name:"eVar70",type:"value",value:"%search_list_marshas_on_page%"},{name:"eVar93",type:"value",value:"%search_date_type%"},{name:"eVar161",type:"value",value:"Selected Filter:%search_criteria_filter_selected_ids%"},{name:"eVar168",type:"value",value:"%search_show_available_hotels%"}],props:[{name:"prop16",type:"value",value:"%res_rooms_per_night%"},{name:"prop17",type:"value",value:"%search_date_check_in%"},{name:"prop18",type:"value",value:"%search_date_check_out%"},{name:"prop23",type:"value",value:"%search_list_setting_sort_order%"},{name:"prop34",type:"value",value:"%search_list_records_total%"},{name:"prop66",type:"value",value:"%search_impression_criteria3%"}]}}}]},{id:"RL22d83f8c6c2543a498302ad9109a91d3",name:"Marketing | Snapchat | All Pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC11d055fca463470b87fec80b19d7eb6a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL234cbb2cd5cf40fa972bc2d05f1b116f",name:"Target | Base Call | HP Only",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!1;return _satellite.logger.warn("config value = "+typeof config),"undefined"==typeof config&&(e=!0),e}}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!1;return location.href.indexOf("/default.mi")>-1&&(e=!0),e}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC10077adcf1d9487d92d028a55d518442-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-mcid/src/lib/actions/setCustomerIds.js",settings:{customerIds:[{value:"%mr_id_alternate_authenticated%",hashType:"",authState:1,integrationCode:"adf7dd8sd"},{value:"%mr_id_alternate_authenticated%",authState:1,integrationCode:"cobrand"}]}},{modulePath:"adobe-target-v2/lib/loadTarget.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC568093aeb4b54e3589f8ce8ab321422a-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-target-v2/lib/addParams.js",settings:{params:{rpcCode:{value:"%rpcCode%",checked:!0},offerCode:{value:"%offerCode%",checked:!0},page_type:{value:"%page_type%",checked:!0},at_property:{value:"%at_property%",checked:!0},env_is_prod:{value:"%env_is_prod%",checked:!0},env_site_id:{value:"%env_site_id%",checked:!0},mr_enrolled:{value:"%mr_enrolled%",checked:!0},prop_is_ers:{value:"%prop_is_ers%",checked:!0},env_platform:{value:"%env_platform%",
checked:!0},daysToCheckin:{value:"%daysToCheckin%",checked:!0},firstTimeUser:{value:"%firstTimeUserCopy%",checked:!0},prop_hws_tier:{value:"%prop_hws_tier%",checked:!0},mbox3rdPartyId:{value:"%mbox3rdPartyId%",checked:!0},mr_prof_cc_all:{value:"%mr_prof_cc_all%",checked:!0},specialMessage:{value:"%specialMessage%",checked:!0},prop_brand_code:{value:"%prop_brand_code%",checked:!0},prop_brand_tier:{value:"%prop_brand_tier%",checked:!0},res_stay_length:{value:"%res_stay_length%",checked:!0},res_stay_nights:{value:"%res_stay_nights%",checked:!0},daysSinceJoining:{value:"%daysSinceJoining%",checked:!1},mvpOffers_source:{value:"%mvpOffers_source%",checked:!0},promoIDsEligible:{value:"%promoIDsEligible%",checked:!0},prop_marsha_code:{value:"%prop_marsha_code%",checked:!0},res_isRedemption:{value:"%res_isRedemption%",checked:!0},res_rate_program:{value:"%res_rate_program%",checked:!0},res_room_rate_tab:{value:"%res_room_rate_tab%",checked:!0},cookie_merchViewed:{value:"%cookie_merchViewed%",checked:!0},oneTrust_isNewUser:{value:"%oneTrust_isNewUser%",checked:!1},promoIDsRegistered:{value:"%promoIDsRegistered%",checked:!0},prop_currency_type:{value:"%prop_currency_type%",checked:!0},suppressedRpcCodes:{value:"%suppressedRpcCodes%",checked:!0},coBrandControlGroup:{value:"%coBrandControlGroup%",checked:!0},res_rooms_per_night:{value:"%res_rooms_per_night%",checked:!0},search_cluster_code:{value:"%search_cluster_code%",checked:!0},search_date_check_in:{value:"%search_date_check_in%",checked:!0},mr_prof_address_state:{value:"%mr_prof_address_state%",checked:!0},mr_prof_upcoming_stay:{value:"%mr_prof_upcoming_stay%",checked:!0},mr_register_for_promo:{value:"%mr_register_for_promo%",checked:!0},page_url_query_string:{value:"%page_url_query_string_&_patch%",checked:!0},prop_address_lat_long:{value:"%prop_address_lat_long%",checked:!0},search_date_check_out:{value:"%search_date_check_out%",checked:!0},mr_prof_points_balance:{value:"%mr_prof_points_balance%",checked:!1},mr_nights_to_next_level:{value:"%mr_nights_to_next_level%",checked:!0},mr_prof_address_country:{value:"%mr_prof_address_country%",checked:!0},res_rate_is_member_rate:{value:"%res_rate_is_member_rate%",checked:!0},mr_prof_stay_in_progress:{value:"%mr_prof_stay_in_progress%",checked:!0},search_is_dates_flexible:{value:"%search_is_dates_flexible%",checked:!0},prop_address_country_abbr:{value:"%prop_address_country_abbr%",checked:!0},miRecentlyViewedProperties:{value:"%miRecentlyViewedProperties%",checked:!1},search_multiRate_or_single:{value:"%search_multiRate_or_single%",checked:!0},search_list_marshas_on_page:{value:"%search_list_marshas_on_page%",checked:!0},mr_prof_authentication_state:{value:"%mr_prof_authentication_state%",checked:!0},mr_prof_member_program_level:{value:"%mr_prof_member_program_level%",checked:!0},search_advance_purchase_days:{value:"%search_advance_purchase_days%",checked:!1},search_is_rewards_redemption:{value:"%search_is_rewards_redemption%",checked:!1},prop_address_city_state_country:{value:"%prop_address_city_state_country%",checked:!1},search_google_places_destination:{value:"%search_google_places_destination%",checked:!1},mr_prof_upcoming_stay_consolidated:{value:"%mr_prof_upcoming_stay_consolidated%",checked:!1}}}},{modulePath:"adobe-target-v2/lib/firePageLoad.js",settings:{bodyHiddenStyle:"body {opacity: 0}",bodyHidingEnabled:!1}}]},{id:"RL24c376c8fdbc45de846fcfed9ade5a7d",name:"Analytics | Search | MultiRate",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"spaTrigger"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar4",type:"value",value:"%search_cluster_code%"},{name:"eVar131",type:"value",value:"%search_number_of_rates_submitted%"},{name:"eVar135",type:"value",value:"%search_rate_types%"}]}}}]},{id:"RL259f40fae0e64df5b4a2f5ffe6894908",name:"Marketing | Facebook | Base Code",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=!0;return-1!==location.hostname.indexOf(".cn")&&(e=!1),e}}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual",caseInsensitive:!0},leftOperand:"%browser_akamai_loc_country%",rightOperand:"CN"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCea2794323b0a492f887dd65231c6a8e2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL25b6c40da2c14bbbab28ebc2fcdd7655",name:"Marketing | Gtag | Meeting Events Group Reservation",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-us/meeting-event-hotels/group-reservations/US-Canada-SpringHill-Suites-By-Marriott-Group-Leisure-Small-Meeting.mi",valueIsRegex:!0},{value:"/en-us/meeting-event-hotels/group-reservations/US-Canada-Fairfield-by-Marriott-Group-Leisure-Small-Meetings.mi",valueIsRegex:!0},{value:"/en-us/meeting-event-hotels/group-reservations/US-Canada-Renaissance-Group-Leisure-Small-Meetings.mi",valueIsRegex:!0},{value:"/en-us/meeting-event-hotels/group-reservations/US-Canada-Autograph-Collection-Group-Leisure-Small-Meetings.mi",valueIsRegex:!0},{value:"/en-us/meeting-event-hotels/group-reservations/US-Canada-Sheraton-Group-Leisure-Small-Meetings.mi",valueIsRegex:!0},{value:"/en-us/meeting-event-hotels/group-reservations/US-Canada-Courtyard-Group-Leisure-Small-Meeting.mi",valueIsRegex:!0},{value:"/en-us/meeting-event-hotels/group-reservations/US-Canada-Westin-Group-Leisure-Small-Meeting.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"conversion",options:[["u1","%page_url_query_string%"],["u66","%group_event_type%"],["u8","%page_url_query_string_255%"]],accounts:{1571082123935:{label:"DC-9035495/b2bma0/globa009+unique",enabled:!0}},callback:null}}]},{id:"RL2638db88081f400eb8673eb4bb0bedb3",name:"Target | Base Call | all AEM pages (Phoenix - SERP)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"baseTargetCall"},ruleOrder:50},{modulePath:"core/src/lib/events/elementExists.js",settings:{elementSelector:"div.container.property-card-outer-container.pr-0 > div > div:nth-child(1)"},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){let t=location.pathname;void 0!==t&&null!=t&&t.includes("/search/availabilityCalendar")&&e()}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels",valueIsRegex:!0},{value:"/search/filterSearch",valueIsRegex:!0},{value:"/search/availabilityCalendar.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!0;return""===location.hash.substr(1)&&(e=!1),e}}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!0,t=location.hash.substr(1),a=location.pathname,r=_satellite.getVar("search_list_marshas_on_page"),n=_satellite.getVar("search_list_records_total");return a.includes("/search/availabilityCalendar")||""!=r&&""!=n||!t.includes("/0/")||(e=!1),e}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC3f9025a08aaa453ca09910341cf59122-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-mcid/src/lib/actions/setCustomerIds.js",settings:{customerIds:[{value:"%mr_id_alternate_authenticated%",hashType:"",authState:1,integrationCode:"adf7dd8sd"},{value:"%mr_id_alternate_authenticated%",authState:1,integrationCode:"cobrand"}]}},{modulePath:"adobe-target-v2/lib/loadTarget.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCbce9776fe231409ab8b9608f177cd648-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-target-v2/lib/addParams.js",settings:{params:{rpcCode:{value:"%rpcCode%",checked:!0},offerCode:{value:"%offerCode%",checked:!0},page_type:{value:"%page_type%",checked:!0},at_property:{value:"%at_property%",checked:!0},env_is_prod:{value:"%env_is_prod%",checked:!0},env_site_id:{value:"%env_site_id%",checked:!0},mr_enrolled:{value:"%mr_enrolled%",checked:!0},prop_is_ers:{value:"%prop_is_ers%",checked:!0},env_platform:{value:"%env_platform%",checked:!0},daysToCheckin:{value:"%daysToCheckin%",checked:!0},firstTimeUser:{value:"%firstTimeUserCopy%",checked:!0},prop_hws_tier:{value:"%prop_hws_tier%",checked:!0},mbox3rdPartyId:{value:"%mbox3rdPartyId%",checked:!1},mr_prof_cc_all:{value:"%mr_prof_cc_all%",checked:!0},specialMessage:{value:"%specialMessage%",checked:!0},prop_brand_code:{value:"%prop_brand_code%",checked:!0},prop_brand_tier:{value:"%prop_brand_tier%",checked:!0},res_stay_length:{value:"%res_stay_length%",checked:!0},res_stay_nights:{value:"%res_stay_nights%",checked:!0},daysSinceJoining:{value:"%daysSinceJoining%",checked:!1},mvpOffers_source:{value:"%mvpOffers_source%",checked:!0},promoIDsEligible:{value:"%promoIDsEligible%",checked:!0},prop_marsha_code:{value:"%prop_marsha_code%",checked:!0},res_isRedemption:{value:"%res_isRedemption%",checked:!0},res_rate_program:{value:"%res_rate_program%",checked:!0},res_room_rate_tab:{value:"%res_room_rate_tab%",checked:!0},cookie_merchViewed:{value:"%cookie_merchViewed%",checked:!0},oneTrust_isNewUser:{value:"%oneTrust_isNewUser%",checked:!1},promoIDsRegistered:{value:"%promoIDsRegistered%",checked:!0},prop_currency_type:{value:"%prop_currency_type%",checked:!0},suppressedRpcCodes:{value:"%suppressedRpcCodes%",checked:!0},coBrandControlGroup:{value:"%coBrandControlGroup%",checked:!0},res_rooms_per_night:{value:"%res_rooms_per_night%",checked:!0},search_cluster_code:{value:"%search_cluster_code%",checked:!0},search_date_check_in:{value:"%search_date_check_in%",checked:!0},mr_prof_address_state:{value:"%mr_prof_address_state%",checked:!0},mr_prof_upcoming_stay:{value:"%mr_prof_upcoming_stay%",checked:!0},mr_register_for_promo:{value:"%mr_register_for_promo%",checked:!0},page_url_query_string:{value:"%page_url_query_string_&_patch%",checked:!0},prop_address_lat_long:{value:"%prop_address_lat_long%",checked:!0},search_date_check_out:{value:"%search_date_check_out%",checked:!0},mr_nights_to_next_level:{value:"%mr_nights_to_next_level%",checked:!0},mr_prof_address_country:{value:"%mr_prof_address_country%",checked:!0},res_rate_is_member_rate:{value:"%res_rate_is_member_rate%",checked:!0},mr_prof_stay_in_progress:{value:"%mr_prof_stay_in_progress%",checked:!0},search_is_dates_flexible:{value:"%search_is_dates_flexible%",checked:!0},prop_address_country_abbr:{value:"%prop_address_country_abbr%",checked:!0},miRecentlyViewedProperties:{value:"%miRecentlyViewedProperties%",checked:!1},search_multiRate_or_single:{value:"%search_multiRate_or_single%",checked:!0},search_list_marshas_on_page:{value:"%search_list_marshas_on_page%",checked:!0},mr_prof_authentication_state:{value:"%mr_prof_authentication_state%",checked:!0},mr_prof_member_program_level:{value:"%mr_prof_member_program_level%",checked:!0},search_advance_purchase_days:{value:"%search_advance_purchase_days%",checked:!1},prop_address_city_state_country:{value:"%prop_address_city_state_country%",checked:!1},search_google_places_destination:{value:"%search_google_places_destination%",checked:!1},mr_prof_upcoming_stay_consolidated:{value:"%mr_prof_upcoming_stay_consolidated%",checked:!1},search_criteria_filter_selected_ids:{value:"%search_criteria_filter_selected_ids%",checked:!0}}}},{modulePath:"adobe-target-v2/lib/firePageLoad.js",settings:{bodyHiddenStyle:"body {opacity: 0}",bodyHidingEnabled:!1}}]},{id:"RL26e2b5949d784466a21a0b50e5ff8b0b",name:"Marketing | Floodlight 1359549 | Discover Hidden Gems",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".navigation-btns.mpo-sbo-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".navigation-btns.FI ",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/offers/discover-hidden-gems-across-japan-room-only-off-115865",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCb95d9b2d5ff941e4b4b1329b8ecb8108-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL26fd87de92d74a0aa63b29cc6cee070d",name:"Analytics | Click Tracking | Guest Info Click To Pay",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".l-visa-container",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/guestInfo.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"uri=www.marriott.com/reservation/guestInfo.mi:loc=Payment Options:linkDescription=Alternate Payment - Visa SRC"}],events:[{name:"event2"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Visa Tile Clicked",linkType:"o"}}]},{id:"RL27a416581b0b4f3eaef22a244df0ea20",name:"Analytics | HWS | Gues Room Photos",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".mi-slider a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/hotels/travel/",valueIsRegex:!0},{value:"/hotels/",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar143",type:"value",value:"%prop_brand_name%"},{name:"eVar144",type:"value",value:"%prop_brand_tier%"}],props:[{name:"prop20",type:"value",value:"Guest Room Photos & Check Rates"}],events:[{name:"event24"},{name:"event65"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Guest Room Photos",linkType:"o"}}]},{id:"RL28cb60628bb3456a810ea8c7be256edd",name:"Analytics | Destination Field | Recent Viewed  (Phoenix - SERP)",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels.mi",valueIsRegex:!0},{value:"/reservation/rateListMenu.mi",valueIsRegex:!0},{value:"/search/default.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!1,t=_satellite.getVar("env_platform"),a=window.location.pathname;return t.indexOf("phoenix")>-1&&a.indexOf("/search/findHotels.mi")>-1&&(e=!0),e}}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!1;return""!==location.hash.substr(1)&&(e=!0),e}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar11",type:"value",value:"%search_type%"}]}}}]},{id:"RL298e942d235945e98eb7082984c5e358",name:"Marketing | Epsilon | RFP Confirmation",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/rfp/submitted.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC286e05aa1e5b4774ad30c0ae2af5550d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2a5f85f0b0ec4a83b159220b659df248",name:"Analytics | Base Code | Review Details Points Trigger",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".stf-receipt__button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/reviewDetails.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{(null!=_satellite.getVar("pts_confirmation_number")&&""!=_satellite.getVar("pts_confirmation_number")||null!=_satellite.getVar("pts_total_points_purchase")&&""!=_satellite.getVar("pts_total_points_purchase")||null!=_satellite.getVar("pts_total_points_rev")&&""!=_satellite.getVar("pts_total_points_rev"))&&(t.events=t.events?t.events+",event294,event289":",event294,event289");let e=_satellite.getVar("pts_total_points_rev").replace(/,/g,"");"undefined"!=typeof dataLayer&&(t.products="Points;Points"+_satellite.getVar("pts_total_points_purchase")+";"+_satellite.getVar("pts_total_points_purchase")+";"+e+";event289=1|event291="+e+"|event292="+_satellite.getVar("pts_total_points_purchase")+"|event293="+e+"|event294;eVar210=m.com_respath:points_purchase|eVar247="+_satellite.getVar("pts_confirmation_number"),t.eVar158=t.products,t.currencyCode=_satellite.getVar("res_revenue_currency_type"),t.purchaseID=_satellite.getVar("pts_confirmation_number"))}catch(e){_satellite.logger.log("Error in Points Purchase : "+e)}}},trackerProperties:{events:[{name:"event291"},{name:"event292"},{name:"event293"},{name:"purchase"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}}]},{id:"RL2a6087cde51e46269ab0abbdeaa69c0c",name:"Core | Mart Functions | All",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:7}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return void 0===window.mart}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:'//console.log("mart functions created by Launch");\n\n    window.mart = (function() {\n        \'use strict\';\n        var trackBehaviorData = "";\n        var offrListMsg = \'\';\n\n        function cookieDel(cname) {\n            var d = new Date();\n            d.setTime(d.getTime() - (1000 * 60 * 60 * 24));\n            var expires = "expires=" + d.toGMTString();\n            var myPath = window.location.pathname;\n            document.cookie = cname + "=" + "; " + expires + ";path=" + myPath;\n        }\n\n        function cookieGet(cname) {\n            var name = cname + "=";\n            var ca = document.cookie.split(\';\');\n            for (var i = 0; i < ca.length; i++) {\n                var c = ca[i];\n                while (c.charAt(0) == \' \') {\n                    c = c.substring(1);\n                }\n                if (c.indexOf(name) == 0) {\n                    return c.substring(name.length, c.length);\n                }\n            }\n            return "";\n        }\n\n        var cookieSet = function(ckName, listvar1, exdays) {\n            var ckValue = cookieGet(ckName);\n            if (ckValue != "" && ckValue != null) {\n                if (ckValue.indexOf(listvar1) < 0) {\n                    ckValue = ckValue + listvar1;\n                }\n            } else {\n                ckValue = listvar1;\n            }\n\n            if (exdays) {\n                var date = new Date();\n                date.setTime(date.getTime() + (exdays * 24 * 60 * 60 * 1000));\n                var expires = "; expires=" + date.toGMTString();\n            } else var expires = "";\n\n            var myPath = window.location.pathname;\n            document.cookie = ckName + "=" + ckValue + ";" + expires + ";path=" + myPath;\n        };\n\n        /**\n\t\t   Specify and log adhoc target/monetate events that capture Target/monetate specific events and Segments ListVar1\n\t\t   Requires tool identity (Monetate or Target), campaign title, recipe and segment. The s.tl() call will not be made without all four arguments.  Special characters are excluded from being sent.\n\t\t   setAndFireCampEvent() -  gathers inputted data into concatenated variable. A check to see if analytics s.t() call has fired, if so then an additional analytics s.tl() call will fire with the listvar1 variable populated with the targetted campaign data. This method is dependent on the window.s.preCall method existing in the s_code.js file:\n\t\t\t   //test callback function\n\t\t\t  s.registerPreTrackCallback(function() {\n\t\t\t\tconsole.log(\'s call about to be made\');\n\t\t\t\twindow.s.preCall = true;\n\t\t\t  });\n\t\t\t  s.registerPostTrackCallback(function() {\n\t\t\t\tconsole.log(\'s call was successful\');\n\t\t\t\twindow.s.postCall = true;\n\t\t\t  });\n\t\t\t  !!should listvar1 be reset to blank in getCampaign method??\n\t **/\n\n        var setAndFireCampEvent = function(campaign, recipe, segment, tool) {\n            var analytics_listvar1 = \'\' + tool + \'*\' + campaign + \'*\' + recipe + \'*\' + segment + "|";\n            var rawlistvar1 = analytics_listvar1;\n            analytics_listvar1 = analytics_listvar1.replace(/[^\\-\\*\\w\\s]/gi, \'\');\n\n            if (trackBehaviorData !== \'\') {\n                trackBehaviorData = trackBehaviorData + \'|\' + analytics_listvar1;\n            } else {\n                trackBehaviorData = analytics_listvar1;\n            }\n            Function.prototype.data = trackBehaviorData;\n            var ckName = "mart-behavior";\n            var exdays = 1;\n            cookieSet(ckName, rawlistvar1, exdays);\n        };\n\n        function trackBehaviorInit(tool, campaign, recipe, segment) {\n            if ((typeof campaign != "undefined" && campaign !== "") && (typeof recipe != "undefined" && recipe !== "") && (typeof segment != "undefined" && segment !== "") && (typeof tool != "undefined" && tool !== "")) {\n                setAndFireCampEvent(campaign, recipe, segment, tool);\n            } else {\n                console.log("Mart Extension - trackBehavior: Failed to set Listvar1");\n            }\n        }\n\n        function trackMonetate() {\n            var monetate_listvar1 = "";\n            var monetateDate = dataLayer.mtCampaignsArray;\n            if (monetateDate) {\n                for (var k in monetateDate) {\n                    mart.log(monetateDate[k].id + ", " + monetateDate[k].key + ", " + monetateDate[k].split);\n                    monetate_listvar1 += \'Monetate*\';\n                    monetate_listvar1 += monetateDate[k].id + \'*\';\n                    monetate_listvar1 += monetateDate[k].split + \'*\';\n                    monetate_listvar1 += monetateDate[k].key + \'|\';\n                }\n                fireCampaignEvent2(monetate_listvar1, "Monetate");\n            }\n        }\n\n        var fireCampaignEvent2 = function(LVar1, tool) {\n            mart.log("In fireCampaignEvent2---------");\n            if ((typeof LVar1 != "undefined" && LVar1 !== "") && (typeof tool != "undefined" && tool !== "")) {\n                if (typeof window.s.list1 != \'undefined\' && window.s.list1 !== \'\') {\n                    window.s.list1 = \'\';\n                }\n                mart.log("LVar1---------" + LVar1);\n                var pCall = window.s.preCall;\n                if (typeof window.s === \'object\' && typeof window.s.tl === \'function\' && typeof pCall !== \'undefined\' && pCall) {\n                    mart.log("Inside window.s and window.stl---------");\n                    var ltv = window.s.linkTrackVars;\n                    var lte = window.s.linkTrackEvents;\n                    window.s.list1 = LVar1;\n                    window.s.linkTrackVars = \'list1\';\n                    window.s.linkTrackEvents = tool; /* if we need to pass any events, add them here. */\n                    window.s.tl(true, \'o\', tool);\n                    /** Capture listvar1 value in cookie **/\n                    var ckName = "lvar1";\n                    var exdays = 1;\n                    cookieSet(ckName, LVar1, exdays);\n                    /** Reset vars and events to original S object values **/\n                    window.s.linkTrackVars = ltv;\n                    window.s.linkTrackEvents = lte;\n                    mart.log("Target if LVar1 = " + LVar1);\n                } else {\n                    mart.log("Target If = " + window.analytics_listvar1);\n                    if (!window.analytics_listvar1) {\n                        window.analytics_listvar1 = LVar1;\n                    } else {\n                        window.analytics_listvar1 = window.analytics_listvar1 + "|" + LVar1 + "|";\n                    }\n                    mart.log("Target EXT set analytics_listvar1 = " + window.analytics_listvar1);\n                }\n            }\n        };\n\n        function bindObjLoad(selector, fn) {\n            // Store the selector and callback to be monitored\n            listeners.push({\n                selector: selector,\n                fn: fn\n            });\n            if (!observer) {\n                // Watch for changes in the document\n                observer = new MutationObserver(bindObjLoadCheck);\n                observer.observe(doc.documentElement, {\n                    childList: true,\n                    subtree: true\n                });\n            }\n            // bindObjLoadCheck if the element is currently in the DOM\n            bindObjLoadCheck();\n        }\n\n        function bindOn(selector, type, target, action) {\n            switch (type) {\n                case \'click\':\n                case "keyup":\n                case "mousedown":\n                    bindOnClick(selector, type, target, action);\n                    break;\n                case \'method\':\n                    bindOnMethod(selector, type, target, action);\n                    break;\n            }\n        }\n\n        function bindOnClick(selector, type, target, action) {\n            var someInput = document.querySelector(selector);\n            someInput.addEventListener(type, function(evt) {\n                handleClick(evt, target, action);\n            });\n        }\n\n        function bindOnMethod(obj, actionType, func, args) {\n            mart.log(\'obj : \' + typeof obj);\n            mart.log(\'actionType : \' + actionType);\n            mart.log(\'func : \' + typeof func);\n            func.apply(obj, args);\n        }\n\n        function handleClick(event, target, action) {\n            var someOutput = document.querySelector(target);\n            switch (action[0]) {\n                case \'style.cssText\':\n                    someOutput.style.cssText = action[1];\n                    break;\n                case \'style.setProperty\':\n                    someOutput.style.setProperty = action[1];\n                    break;\n                case \'style.background\':\n                    someOutput.style.background = action[1];\n                    break;\n                case \'innerHTML\':\n                    someOutput.innerHTML = action[1];\n                    break;\n                case \'textContent\':\n                    someOutput.textContent = action[1];\n                    break;\n                case \'addClass\':\n                    someOutput.classList.add(action[1]);\n                    break;\n                case \'removeClass\':\n                    someOutput.classList.remove(action[1]);\n                    break;\n                case \'function\':\n                    console.log("action1 is " + action[1]);\n                    console.log("inside a function @@@@" + typeof action[1]);\n                    //console.log(eval(action[1]));\n                    eval(action[1]);\n                    break;\n            }\n        }\n\n        function bindObjLoadCheck() {\n            // bindObjLoadCheck the DOM for elements matching a stored selector\n            for (var i = 0, len = listeners.length, listener, elements; i < len; i++) {\n                listener = listeners[i];\n                // Query for elements matching the specified selector\n                elements = doc.querySelectorAll(listener.selector);\n                for (var j = 0, jLen = elements.length, element; j < jLen; j++) {\n                    element = elements[j];\n                    // Make sure the callback isn\'t invoked with the\n                    // same element more than once\n                    if (!element.bindObjLoad) {\n                        element.bindObjLoad = true;\n                        // Invoke the callback with the element\n                        listener.fn.call(element, element);\n                    }\n                }\n            }\n        }\n        /** Custom error log object for Target **/\n        if (!window.mart_loglevel) {\n            window.mart_loglevel = 0;\n        }\n\n        function log(mssg) {\n            var offrMssg = mssg;\n            if (offrMssg && (mart_loglevel == "true" || mart_loglevel == 1)) {\n                //console.log(offrMssg);\n                offrListMsg = "Log : " + offrMssg;\n                if (!window.offerLog) {\n                    offerLog = [];\n                    offerLog.push(offrMssg);\n                    logList(\'log\', offrListMsg);\n                    console.log("MART offerLog : " + offrMssg);\n                } else {\n                    offerLog.push(offrMssg);\n                    logList(\'log\', offrListMsg);\n                    console.log("MART offerLog in else : " + offerLog);\n                }\n            }\n        }\n\n        function error(mssg) {\n            var errorMssg = mssg;\n            if (errorMssg && (mart_loglevel == "true" || mart_loglevel == 1 || mart_loglevel == "errors")) {\n                //console.log(offrMssg);\n                offrListMsg = "Error : " + errorMssg;\n                if (!window.errorLog) {\n                    errorLog = [];\n                    errorLog.push(errorMssg);\n                    logList(\'error\', offrListMsg);\n                    console.log("MART errorLog : " + errorMssg);\n                } else {\n                    errorLog.push(errorMssg);\n                    //Error Pushing into List\n                    logList(\'error\', offrListMsg);\n                    console.log("MART errorLog in else : " + errorLog);\n                }\n            }\n        }\n\n        function logList(type, msg) {\n            if (!window.mart.log.list) {\n                console.log("MART Log List not set");\n                mart.log.list = [];\n                mart.log.list.push(msg);\n                console.log("MART Log List : " + mart.log.list);\n            } else {\n                mart.log.list.push(msg);\n                console.log("MART Log List in else : " + mart.log.list);\n            }\n        }\n\n        /*if (window.offerLog && (window.mart_loglevel == 1 || window.mart_loglevel == "errors")) {\n          //console.log("offerLog exists = " + offerLog);\n          var arryLngth = offerLog.length;\n          console.log("in arryLngth" + arryLngth);\n          for (var i = 0; i < arryLngth; i++) {\n            console.log("MART offerLog Lenth : " + offerLog[i]);\n          }\n        }*/\n\n        function hashMd5(d) {\n            result = M(V(Y(X(d), 8 * d.length)));\n            return result.toLowerCase();\n        }\n\n        function M(d) {\n            for (var _, m = "0123456789ABCDEF", f = "", r = 0; r < d.length; r++) _ = d.charCodeAt(r), f += m.charAt(_ >>> 4 & 15) + m.charAt(15 & _);\n            return f;\n        }\n\n        function X(d) {\n            for (var _ = Array(d.length >> 2), m = 0; m < _.length; m++) _[m] = 0;\n            for (m = 0; m < 8 * d.length; m += 8) _[m >> 5] |= (255 & d.charCodeAt(m / 8)) << m % 32;\n            return _;\n        }\n\n        function V(d) {\n            for (var _ = "", m = 0; m < 32 * d.length; m += 8) _ += String.fromCharCode(d[m >> 5] >>> m % 32 & 255);\n            return _;\n        }\n\n        function Y(d, _) {\n            d[_ >> 5] |= 128 << _ % 32, d[14 + (_ + 64 >>> 9 << 4)] = _;\n            for (var m = 1732584193, f = -271733879, r = -1732584194, i = 271733878, n = 0; n < d.length; n += 16) {\n                var h = m,\n                    t = f,\n                    g = r,\n                    e = i;\n                f = md5_ii(f = md5_ii(f = md5_ii(f = md5_ii(f = md5_hh(f = md5_hh(f = md5_hh(f = md5_hh(f = md5_gg(f = md5_gg(f = md5_gg(f = md5_gg(f = md5_ff(f = md5_ff(f = md5_ff(f = md5_ff(f, r = md5_ff(r, i = md5_ff(i, m = md5_ff(m, f, r, i, d[n + 0], 7, -680876936), f, r, d[n + 1], 12, -389564586), m, f, d[n + 2], 17, 606105819), i, m, d[n + 3], 22, -1044525330), r = md5_ff(r, i = md5_ff(i, m = md5_ff(m, f, r, i, d[n + 4], 7, -176418897), f, r, d[n + 5], 12, 1200080426), m, f, d[n + 6], 17, -1473231341), i, m, d[n + 7], 22, -45705983), r = md5_ff(r, i = md5_ff(i, m = md5_ff(m, f, r, i, d[n + 8], 7, 1770035416), f, r, d[n + 9], 12, -1958414417), m, f, d[n + 10], 17, -42063), i, m, d[n + 11], 22, -1990404162), r = md5_ff(r, i = md5_ff(i, m = md5_ff(m, f, r, i, d[n + 12], 7, 1804603682), f, r, d[n + 13], 12, -40341101), m, f, d[n + 14], 17, -1502002290), i, m, d[n + 15], 22, 1236535329), r = md5_gg(r, i = md5_gg(i, m = md5_gg(m, f, r, i, d[n + 1], 5, -165796510), f, r, d[n + 6], 9, -1069501632), m, f, d[n + 11], 14, 643717713), i, m, d[n + 0], 20, -373897302), r = md5_gg(r, i = md5_gg(i, m = md5_gg(m, f, r, i, d[n + 5], 5, -701558691), f, r, d[n + 10], 9, 38016083), m, f, d[n + 15], 14, -660478335), i, m, d[n + 4], 20, -405537848), r = md5_gg(r, i = md5_gg(i, m = md5_gg(m, f, r, i, d[n + 9], 5, 568446438), f, r, d[n + 14], 9, -1019803690), m, f, d[n + 3], 14, -187363961), i, m, d[n + 8], 20, 1163531501), r = md5_gg(r, i = md5_gg(i, m = md5_gg(m, f, r, i, d[n + 13], 5, -1444681467), f, r, d[n + 2], 9, -51403784), m, f, d[n + 7], 14, 1735328473), i, m, d[n + 12], 20, -1926607734), r = md5_hh(r, i = md5_hh(i, m = md5_hh(m, f, r, i, d[n + 5], 4, -378558), f, r, d[n + 8], 11, -2022574463), m, f, d[n + 11], 16, 1839030562), i, m, d[n + 14], 23, -35309556), r = md5_hh(r, i = md5_hh(i, m = md5_hh(m, f, r, i, d[n + 1], 4, -1530992060), f, r, d[n + 4], 11, 1272893353), m, f, d[n + 7], 16, -155497632), i, m, d[n + 10], 23, -1094730640), r = md5_hh(r, i = md5_hh(i, m = md5_hh(m, f, r, i, d[n + 13], 4, 681279174), f, r, d[n + 0], 11, -358537222), m, f, d[n + 3], 16, -722521979), i, m, d[n + 6], 23, 76029189), r = md5_hh(r, i = md5_hh(i, m = md5_hh(m, f, r, i, d[n + 9], 4, -640364487), f, r, d[n + 12], 11, -421815835), m, f, d[n + 15], 16, 530742520), i, m, d[n + 2], 23, -995338651), r = md5_ii(r, i = md5_ii(i, m = md5_ii(m, f, r, i, d[n + 0], 6, -198630844), f, r, d[n + 7], 10, 1126891415), m, f, d[n + 14], 15, -1416354905), i, m, d[n + 5], 21, -57434055), r = md5_ii(r, i = md5_ii(i, m = md5_ii(m, f, r, i, d[n + 12], 6, 1700485571), f, r, d[n + 3], 10, -1894986606), m, f, d[n + 10], 15, -1051523), i, m, d[n + 1], 21, -2054922799), r = md5_ii(r, i = md5_ii(i, m = md5_ii(m, f, r, i, d[n + 8], 6, 1873313359), f, r, d[n + 15], 10, -30611744), m, f, d[n + 6], 15, -1560198380), i, m, d[n + 13], 21, 1309151649), r = md5_ii(r, i = md5_ii(i, m = md5_ii(m, f, r, i, d[n + 4], 6, -145523070), f, r, d[n + 11], 10, -1120210379), m, f, d[n + 2], 15, 718787259), i, m, d[n + 9], 21, -343485551), m = safe_add(m, h), f = safe_add(f, t), r = safe_add(r, g), i = safe_add(i, e);\n            }\n            return Array(m, f, r, i);\n        }\n\n        function md5_cmn(d, _, m, f, r, i) {\n            return safe_add(bit_rol(safe_add(safe_add(_, d), safe_add(f, i)), r), m);\n        }\n\n        function md5_ff(d, _, m, f, r, i, n) {\n            return md5_cmn(_ & m | ~_ & f, d, _, r, i, n);\n        }\n\n        function md5_gg(d, _, m, f, r, i, n) {\n            return md5_cmn(_ & f | m & ~f, d, _, r, i, n);\n        }\n\n        function md5_hh(d, _, m, f, r, i, n) {\n            return md5_cmn(_ ^ m ^ f, d, _, r, i, n);\n        }\n\n        function md5_ii(d, _, m, f, r, i, n) {\n            return md5_cmn(m ^ (_ | ~f), d, _, r, i, n);\n        }\n\n        function safe_add(d, _) {\n            var m = (65535 & d) + (65535 & _);\n            return (d >> 16) + (_ >> 16) + (m >> 16) << 16 | 65535 & m;\n        }\n\n        function bit_rol(d, _) {\n            return d << _ | d >>> 32 - _;\n        }\n\n        function hashSha256(ascii) {\n            function rightRotate(value, amount) {\n                return (value >>> amount) | (value << (32 - amount));\n            }\n\n            var mathPow = Math.pow;\n            var maxWord = mathPow(2, 32);\n            var lengthProperty = \'length\';\n            var i, j; // Used as a counter across the whole file\n            var result = \'\';\n\n            var words = [];\n            var asciiBitLength = ascii[lengthProperty] * 8;\n\n            //* caching results is optional - remove/add slash from front of this line to toggle\n            // Initial hash value: first 32 bits of the fractional parts of the square roots of the first 8 primes\n            // (we actually calculate the first 64, but extra values are just ignored)\n            var hash = hashSha256.h = hashSha256.h || [];\n            // Round constants: first 32 bits of the fractional parts of the cube roots of the first 64 primes\n            var k = hashSha256.k = hashSha256.k || [];\n            var primeCounter = k[lengthProperty];\n            /*/\n            var hash = [], k = [];\n            var primeCounter = 0;\n            //*/\n\n            var isComposite = {};\n            for (var candidate = 2; primeCounter < 64; candidate++) {\n                if (!isComposite[candidate]) {\n                    for (i = 0; i < 313; i += candidate) {\n                        isComposite[i] = candidate;\n                    }\n                    hash[primeCounter] = (mathPow(candidate, 0.5) * maxWord) | 0;\n                    k[primeCounter++] = (mathPow(candidate, 1 / 3) * maxWord) | 0;\n                }\n            }\n\n            ascii += \'\\x80\'; // Append \u0187\' bit (plus zero padding)\n            while (ascii[lengthProperty] % 64 - 56) ascii += \'\\x00\';\n            for (i = 0; i < ascii[lengthProperty]; i++) {\n                j = ascii.charCodeAt(i);\n                if (j >> 8) return; // ASCII check: only accept characters in range 0-255\n                words[i >> 2] |= j << ((3 - i) % 4) * 8;\n            }\n            words[words[lengthProperty]] = ((asciiBitLength / maxWord) | 0);\n            words[words[lengthProperty]] = (asciiBitLength);\n\n            // process each chunk\n            for (j = 0; j < words[lengthProperty];) {\n                var w = words.slice(j, j += 16); // The message is expanded into 64 words as part of the iteration\n                var oldHash = hash;\n                // This is now the undefinedworking hash", often labelled as variables a...g\n                // (we have to truncate as well, otherwise extra entries at the end accumulate\n                hash = hash.slice(0, 8);\n\n                for (i = 0; i < 64; i++) {\n                    var i2 = i + j;\n                    // Expand the message into 64 words\n                    // Used below if \n                    var w15 = w[i - 15],\n                        w2 = w[i - 2];\n\n                    // Iterate\n                    var a = hash[0],\n                        e = hash[4];\n                    var temp1 = hash[7] + (rightRotate(e, 6) ^ rightRotate(e, 11) ^ rightRotate(e, 25)) + ((e & hash[5]) ^ ((~e) & hash[6])) + k[i] + (w[i] = (i < 16) ? w[i] : (w[i - 16] + (rightRotate(w15, 7) ^ rightRotate(w15, 18) ^ (w15 >>> 3)) + w[i - 7] + (rightRotate(w2, 17) ^ rightRotate(w2, 19) ^ (w2 >>> 10))) | 0);\n                    // This is only used once, so *could* be moved below, but it only saves 4 bytes and makes things unreadble\n                    var temp2 = (rightRotate(a, 2) ^ rightRotate(a, 13) ^ rightRotate(a, 22)) + ((a & hash[1]) ^ (a & hash[2]) ^ (hash[1] & hash[2])); // maj\n\n                    hash = [(temp1 + temp2) | 0].concat(hash); // We don\'t bother trimming off the extra ones, they\'re harmless as long as we\'re truncating when we do the slice()\n                    hash[4] = (hash[4] + temp1) | 0;\n                }\n\n                for (i = 0; i < 8; i++) {\n                    hash[i] = (hash[i] + oldHash[i]) | 0;\n                }\n            }\n\n            for (i = 0; i < 8; i++) {\n                for (j = 3; j + 1; j--) {\n                    var b = (hash[i] >> (j * 8)) & 255;\n                    result += ((b < 16) ? 0 : \'\') + b.toString(16);\n                }\n            }\n            return result;\n        }\n\n        return {\n            trackBehaviorInit: trackBehaviorInit,\n            trackMonetate: trackMonetate,\n            bindObjLoad: bindObjLoad,\n            bindOn: bindOn,\n            log: log,\n            error: error,\n            logList: logList,\n            hashMd5: hashMd5,\n            hashSha256: hashSha256,\n            cookieDel: cookieDel,\n            cookieGet: cookieGet,\n            cookieSet: cookieSet\n        };\n    })();',language:"javascript"}}]},{id:"RL2a9bf5a49a0c478cb2f34df8ad2f728c",name:"Analytics | Page Load Call | Base Variables",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobepage"},ruleOrder:1},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"spaTrigger"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!0,t=_satellite.getVar("env_platform"),a=window.location.pathname;return t.indexOf("phoenix")>-1&&(a.indexOf("/search/findHotels.mi")>-1||a.indexOf("/search/default.mi")>-1||a.indexOf("/meetings-events/rfp-phx/")>-1)&&(e=!1),e}}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/search/find-hotels.mi"},{value:"/meetings-events/rfp-phx/event-profile.mi"},{value:"/meetings-events/group-booking-phx/review-details.mi"},{value:"/meetings-events/review-details.mi"}]},negate:!0},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%page_requested_uri%",rightOperand:"/roominglist/"},negate:!0}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{"smetrics.marriott.com"!=t.trackingServerSecure&&(_satellite.track("s_test"),console.log(t))}catch(e){_satellite.track("s_test"),console.log(t)}var a,r,n,s=dataLayer.search_filters_applied;if(t.list1=s,t.contextData["dtm.no_block"]="true",t.prop71=_satellite.property.name,"authenticated"==_satellite.getVar("mr_prof_authentication_state")?t.eVar22="logged in":"unauthenticated"==_satellite.getVar("mr_prof_authentication_state")&&(t.eVar22="unauthenticated"),"/logout.mi"==location.pathname&&(t.eVar22="logged out"),_satellite.getVar("prop_marsha_code")&&!window.location.pathname.includes("/reservation/confirmation.mi")&&(t.products=`;${_satellite.getVar("prop_marsha_code")};;${_satellite.getVar("res_confirmation_number")?`eVar247=${_satellite.getVar("res_confirmation_number")}`:""}`),void 0===(a=_satellite.getVar("mr_prof_ic_approved"))||"Chase_Boundless"!=a&&"Chase_Bold"!=a&&"Amex_Brilliant"!=a&&"Amex_Business"!=a||(t.eVar156="Approved"),""!=(r=window.mvpOffers&&window.mvpOffers.source?window.mvpOffers.source:"")&&(t.eVar212=r),""!=(n=window.mvpOffers&&window.mvpOffers.acid?window.mvpOffers.acid:"")&&(t.eVar244=n),!t.eVar31){t.Util.getQueryParam("pid")&&(t.eVar31=t.Util.getQueryParam("pid")),!t.eVar31&&t.Util.getQueryParam("affname")&&(t.eVar31="affname="+t.Util.getQueryParam("affname"));var o=t.Util.cookieRead("Affname");!t.eVar31&&o&&(o=o.split("|")[0].replace(/pid=/gi,""))&&(t.eVar31=o)}try{"smetrics.marriott.com"!=t.trackingServerSecure&&(_satellite.track("s_test"),console.log(t))}catch(e){_satellite.track("s_test"),console.log(t)}s=dataLayer.search_filters_applied,t.list1=s,t.contextData["dtm.no_block"]="true",t.prop71=_satellite.property.name,"authenticated"==_satellite.getVar("mr_prof_authentication_state")?t.eVar22="logged in":"unauthenticated"==_satellite.getVar("mr_prof_authentication_state")&&(t.eVar22="unauthenticated"),"/logout.mi"==location.pathname&&(t.eVar22="logged out"),navigator.userAgent.indexOf("iPhone")>-1&&(t.eVar78=screen.width+"x"+screen.height),void 0===(a=_satellite.getVar("mr_prof_ic_approved"))||"Chase_Boundless"!=a&&"Chase_Bold"!=a&&"Amex_Brilliant"!=a&&"Amex_Business"!=a||(t.eVar156="Approved"),""!=(r=window.mvpOffers&&window.mvpOffers.source?window.mvpOffers.source:"")&&(t.eVar212=r),""!=(n=window.mvpOffers&&window.mvpOffers.acid?window.mvpOffers.acid:"")&&(t.eVar244=n);try{const e=_satellite.cookie.get("data-custom_click_track_value");if(e){["eVar1","eVar22","eVar41","eVar212"].map((e=>{t.linkTrackVars=t.apl(t.linkTrackVars,e,",")})),["event2","event1000"].map((e=>{t.linkTrackEvents=t.apl(t.linkTrackEvents,e,","),t.events=t.apl(t.events,e,",")}));const[a,r]=e.split(":extra=");t.eVar1=a;const n=window?.dataLayer?.mr_prof_authentication_state;t.eVar22=n,t.eVar41=t.prop5=_satellite.getVar("env_site_id");const s=window?.mvpOffers?.source;if(s&&(t.eVar212=s),r){const e=decodeURIComponent(r).split(","),a=e.filter((e=>e.startsWith("event"))),n=e.filter((e=>e.startsWith("eVar")||e.startsWith("prop"))),s=e.filter((e=>e.startsWith("list")));n.map((e=>{const[a,r]=e.split("=");t.linkTrackVars=t.apl(t.linkTrackVars,a,","),t[a]=r})),a.map((e=>{t.linkTrackEvents=t.apl(t.linkTrackEvents,e,","),t.events=t.apl(t.events,e,",")})),s.map((e=>{const[a,r]=e.split(/(?<=list\d)=/);t.linkTrackVars=t.apl(t.linkTrackVars,a,","),t[a]=r.replaceAll(";",",")}))}_satellite.cookie.remove("data-custom_click_track_value")}}catch(e){_satellite.logger.warn(e)}_satellite.getVar("prearrival_form_added_to_plan")&&(t.linkTrackVars=t.apl(t.linkTrackVars,"prop75",",",!1),t.prop75=_satellite.getVar("prearrival_form_added_to_plan").replaceAll("|",";"))}},trackerProperties:{eVars:[{name:"eVar9",type:"value",value:"%mr_prof_member_program_level%"},{name:"eVar15",type:"value",value:"%res_rate_is_member_rate%"},{name:"eVar16",type:"value",value:"%mr_prof_points_balance%"},{name:"eVar22",type:"value",value:"%mr_prof_authentication_state%"},{name:"eVar41",type:"value",value:"%env_site_id%"},{name:"eVar109",type:"value",value:"%mr_prof_cc_all%"},{name:"eVar139",type:"value",value:"%mr_prof_address_country%"},{name:"eVar140",type:"value",value:"%mr_prof_address_state%"},{name:"eVar176",type:"value",value:"%rnb_outlet_id%"},{name:"eVar191",type:"value",value:"%mr_prof_address_city%"},{name:"eVar230",type:"value",value:"%mr_prof_nights_booked_this_year%"},{name:"eVar235",type:"value",value:"%Glassbox_unionID%"},{name:"eVar238",type:"value",value:"%cookie_segmentID%"}],props:[{name:"prop19",type:"value",value:"%Credit_Card_Compare_List%"},{name:"prop25",type:"value",value:"%env_server_id%"},{name:"prop26",type:"value",value:"%env_platform%"},{name:"prop45",type:"value",value:"%Credit_Card_Compare_List%"},{name:"prop48",type:"value",value:"%env_analytics_code_version%"},{name:"prop56",type:"value",value:"%session_jsession_id%"},{name:"prop73",type:"value",value:"%res_confirmation_number%"}]}}}]},{id:"RL2b87f708240148d291671d4542fd1037",name:"OFFER_LIST_FIX",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:30}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"^/offers/",valueIsRegex:!0},{value:"/offers/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC7708cfd53c3048bba7df245cd530dc50-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2c36711a94dc445a94da242e67ac4783",name:"Marketing | Floodlight 1359549| Japanese Credit Card Apply Now",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".custom_click_track.m-button-s.m-button-external",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/ja/credit-cards",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCac0f61563fdf4b97bd898fe0140c7deb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2cbc1265a2bd47ed97e1489c2ecec556",name:"Marketing | Facebook | Credit Card JP",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href*="https://www.americanexpress.com/jp/credit-cards/marriott-bonvoy-base"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%env_site_id%",rightOperand:"JP"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/credit-cards.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC34cc87935fc143debd640fa48db36c0d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2ce2fec2fc424820ab8f96b0c1e93dcc",name:"Marketing | TTD Pixel | Promo Register Button",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:".l-description-heading .m-button-primary",elementProperties:[{name:"innerHTML",value:"Register",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%page_hostname%",rightOperand:"marriott.co.uk"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loyalty/promotion.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/queryStringParameter.js",settings:{
name:"promotion",value:"EM21",valueIsRegex:!0}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC666065474cf547f09aac4a9264539b72-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2d3b29676f63482da2e4d5eb0b618e72",name:"Marketing | LinkedIn | India Credit Card",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".mt-auto.d-md-inline-block",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".m-button-primary-inverse",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/credit-cards/india-credit-cards",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCbbdc60bc7678413082184e46ca89be85-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2d7abc1dd9ae4b68a02f5eaef509882c",name:"Target |RLM 2.0 mBox parameter | GuestInfo",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/rateListMenu.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%isRewardRedemption%",rightOperand:"false"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotContain",caseInsensitive:!0},leftOperand:"%fullURL%",rightOperand:"isresLink="}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC3eba5cca7fbb431eb741ce82c0a2a733-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2e6fe4ff1a7e4e64a6cbbfa046ac4ff1",name:"Marketing | Hook Logic | Confirmation",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/confirmation.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"var ensVar0 = function() {\n    return _satellite.getVar(\"prop_marsha_code\");\n};\nvar ensVar1 = function() {\n    return _satellite.getVar(\"search_date_check_in\");\n};\nvar ensVar2 = function() {\n    return _satellite.getVar(\"search_date_check_out\");\n};\nvar ensVar3 = function() {\n    return _satellite.getVar(\"res_revenue_stay_total_usd_api_conversion_error_default\");\n};\nvar ensVar4 = function() {\n    return _satellite.getVar(\"page_domain_name\");\n};\nvar ensVar5 = function() {\n    return \"USD\";\n};\nvar ensVar6 = function() {\n    return _satellite.getVar(\"cookie_personalization_guid\");\n};\nvar ensVar7 = function() {\n    return _satellite.getVar(\"res_confirmation_number\");\n};\nvar ensVar8 = function() {\n    return _satellite.getVar(\"res_rooms_per_night\");\n};\nvar ensVar9 = function() {\n    return _satellite.getVar(\"res_room_nights_total\");\n};\nvar ensVar10 = function() {\n    return _satellite.getVar(\"gclid_query\");\n};\n\nvar hotelID = ensVar0.call(this) ? '&hotelId=' + ensVar0.call(this) : '';\nvar checkIn = ensVar1.call(this) ? '&checkIn=' + ensVar1.call(this) : '';\nvar checkOut = ensVar2.call(this) ? '&checkOut=' + ensVar2.call(this) : '';\nvar price = ensVar3.call(this) ? '&totalPrice=' + ensVar3.call(this) : '';\nvar partnerDomain = ensVar4.call(this) ? '&domain=' + ensVar4.call(this) : '';\nvar currency = ensVar5.call(this) ? '&currency=' + ensVar5.call(this) : '';\nvar userGUID = ensVar6.call(this) ? '&userGUID=' + ensVar6.call(this) : '';\nvar bookingId = ensVar7.call(this) ? '&bookingId=' + ensVar7.call(this) : '';\nvar rooms = ensVar8.call(this) ? '&rooms=' + ensVar8.call(this) : '';\nvar roomNights = ensVar9.call(this) ? '&roomNights=' + ensVar9.call(this) : '';\nvar gclid = ensVar10.call(this) ? '&gclid=' + ensVar10.call(this) : '';\nvar source = '//' + 'beam.koddi.com/travel?action=booking&tm_hmGUID=' + _satellite.getVar(\"hooklogic_hmGUID\") + '&clientName=Marriott&ProgramId=3' + hotelID + checkIn + checkOut + price + partnerDomain + currency + userGUID + bookingId + rooms + roomNights + gclid;\nlaunchImage(source);",language:"javascript"}}]},{id:"RL2f57f6d2b9c440839169f74913dee8eb",name:"Analytics | Click Tracking | Extended Search International",events:[{modulePath:"core/src/lib/events/entersViewport.js",settings:{frequency:"everyEntry",elementSelector:".international-dest-cities"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/error.mi",valueIsRegex:!0},{value:"/default.mi",valueIsRegex:!0},{value:"/search/default.mi",valueIsRegex:!0},{value:"/search/findHotels.mi",valueIsRegex:!0},{value:"/search/filterSearch.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!0}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCae235d3ccfca4623abd3df09a98bfae8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3082741051634d208c40c423fc3c558e",name:"Marketing | GA4 | Ratelist Select Button",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".js-select-segment-rate",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotMatchRegex"},leftOperand:"%env_site_id%",rightOperand:"CN|TW"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/rateListMenu.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"add_to_cart",options:[["event_category","ecommerce"],["dimension22","%search_date_check_in%"],["dimension23","%search_date_check_out%"],["dimension24","%search_day_check_in%"],["dimension25","%search_day_check_out%"],["dimension26","%search_is_weekend_stay%"],["dimension27","%res_room_nights_total%"],["dimension28","%search_advance_purchase_days%"],["dimension30","%search_number_guest%"],["dimension32","%search_date_type%"],["items","%items_on_purchase%"],["dimension19","%prop_name%"],["dimension20","%prop_brand_code%"],["dimension21","%prop_address_city_state_country%"]],accounts:{1727890546729:{enabled:!0}},callback:null}}]},{id:"RL317b0ecce12a4851b7b5541742680de8",name:"Marketing | Floodlight 1359549| Credit Card Comparison Apply Now",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".m-button-m.custom_click_track",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/credit-cards/card-comparison",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC4be92c9ada0f4e9d808c29009ecf1907-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL31b6757c0f494ef9afa5a8ecbf7ad6f5",name:"Analytics | Header | click Tracking Phase1",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCb67fd8bd996c483f89a52aa2a7e0817d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL31c58e620f4d4c95a7050cf4c2692502",name:"Marketing | Floodlight | RFP Event Profile",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/rfp/event-profile",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCb7344542ee7d4646827a63e0e76df363-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL31fd420f1e7c41eea8d0685b8b0ee5d0",name:"Marketing | Floodlight | RFP Submitted",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:400},{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:400}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/rfp/submitted.mi",valueIsRegex:!0},{value:"/meetings-events/group-booking/submitted.mi",valueIsRegex:!0},{value:"/meetings-events/rfp/event-info-submitted.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/hash.js",settings:{hashes:[{value:"\\d",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC18358bfe51864ec792e2608b8d5e2af2-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCde0696de6ac9474e9f399448bbfb34a5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3281a667539c4c63be819cfbe1a9c4e0",name:"Marketing | Facebook | All Confirmation",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/confirmation.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=!0;return-1!==location.hostname.indexOf(".cn")&&(e=!1),e}}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual",caseInsensitive:!0},leftOperand:"%browser_akamai_loc_country%",rightOperand:"CN"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCd38e6f10e48a4d58a369aa29a42e17a2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL32e4cd981f4f4cffb544426a4e1a5c8d",name:"Marketing | Line | Marriott JP Search",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%env_site_id%",rightOperand:"JP"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/ja/search/findHotels.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCefbe89b3d8ee4792a37f68553c3331d5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL34251c98463346baa78e7b56a6e39b23",name:"Marketing | LinkedIn Conversion | AmexCreditCard Apply Now",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".card-overview-bordered a.custom_click_track",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".d-md-inline-block.custom_click_track",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/credit-cards/american-express-credit-cards",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC1e1cc618fb684ca7af5a0c6e5549668e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL344387713cdd45508c8dfe29df1b592b",name:"Analytics | Page Load Call | Base Variables (Groups - RFP - Details/Contact) ",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/rfp/event-details.mi",valueIsRegex:!0},{value:"/meetings-events/rfp/event-contact.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!1,t=location.hash.substr(1);return""!==t&&null!=t||(e=!0),e}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{"smetrics.marriott.com"!=t.trackingServerSecure&&(_satellite.track("s_test"),console.log(t))}catch(e){_satellite.track("s_test"),console.log(t)}var a=dataLayer.search_filters_applied;t.list1=a,t.contextData["dtm.no_block"]="true",t.prop71=_satellite.property.name,"authenticated"==_satellite.getVar("mr_prof_authentication_state")?t.eVar22="logged in":"unauthenticated"==_satellite.getVar("mr_prof_authentication_state")&&(t.eVar22="unauthenticated"),"/logout.mi"==location.pathname&&(t.eVar22="logged out"),void 0===dataLayer.prop_marsha_code||window.location.pathname.includes("/reservation/confirmation.mi")||(t.products=";"+_satellite.getVar("prop_marsha_code")+";;"),navigator.userAgent.indexOf("iPhone")>-1&&(t.eVar78=screen.width+"x"+screen.height),void 0===_satellite.getVar("mr_prof_ic_approved")||"Chase_Boundless"!=_satellite.getVar("mr_prof_ic_approved")&&"Chase_Bold"!=_satellite.getVar("mr_prof_ic_approved")&&"Amex_Brilliant"!=_satellite.getVar("mr_prof_ic_approved")&&"Amex_Business"!=_satellite.getVar("mr_prof_ic_approved")||(console.log("eVar156 should be approved"),t.eVar156="Approved");var r=window.mvpOffers&&window.mvpOffers.source?window.mvpOffers.source:"";if(""!=r&&(t.eVar212=r),!t.eVar31){t.Util.getQueryParam("pid")&&(t.eVar31=t.Util.getQueryParam("pid")),!t.eVar31&&t.Util.getQueryParam("affname")&&(t.eVar31="affname="+t.Util.getQueryParam("affname"));var n=t.Util.cookieRead("Affname");!t.eVar31&&n&&(n=n.split("|")[0].replace(/pid=/gi,""))&&(t.eVar31=n)}}},trackerProperties:{eVars:[{name:"eVar9",type:"value",value:"%mr_prof_member_program_level%"},{name:"eVar22",type:"value",value:"%mr_prof_authentication_state%"},{name:"eVar41",type:"value",value:"%env_site_id%"},{name:"eVar95",type:"value",value:"%mr_id_alternate_filtered%"},{name:"eVar109",type:"value",value:"%mr_prof_cc_all%"},{name:"eVar139",type:"value",value:"%mr_prof_address_country%"},{name:"eVar140",type:"value",value:"%mr_prof_address_state%"},{name:"eVar191",type:"value",value:"%mr_prof_address_city%"},{name:"eVar235",type:"value",value:"%Glassbox_unionID%"},{name:"eVar238",type:"value",value:"%cookie_segmentID%"}],props:[{name:"prop25",type:"value",value:"%env_server_id%"},{name:"prop26",type:"value",value:"%env_platform%"},{name:"prop48",type:"value",value:"%env_analytics_code_version%"},{name:"prop56",type:"value",value:"%session_jsession_id%"}]}}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCca6d9319d45f44bc84ff7a3af636f0b2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3466d290a394484196a55370da1e84b1",name:"Marketing | Floodlight | Promo Join Confirmation Existing Members m1m_e0",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loyalty/promotion.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%page_referrer%",rightOperand:"/sign-in.mi?returnTo=/loyalty/promotion.mi"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCd969a4718ee446c5a579fe57b5265039-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL349e4b2e127e4570ae5d8ed5ad166493",name:"Analytics | Page Load Call | Base Variables (GROUPS - Phoenix) ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"groupsBaseTrigger"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{"smetrics.marriott.com"!=t.trackingServerSecure&&(_satellite.track("s_test"),console.log(t))}catch(e){_satellite.track("s_test"),console.log(t)}var a=dataLayer.search_filters_applied;t.list1=a,t.contextData["dtm.no_block"]="true",t.prop71=_satellite.property.name,"authenticated"==_satellite.getVar("mr_prof_authentication_state")?t.eVar22="logged in":"unauthenticated"==_satellite.getVar("mr_prof_authentication_state")&&(t.eVar22="unauthenticated"),"/logout.mi"==location.pathname&&(t.eVar22="logged out"),void 0===_satellite.getVar("prop_marsha_code")||window.location.pathname.includes("/reservation/confirmation.mi")?void 0!==_satellite.getVar("group_marsha_list")&&window.location.pathname.includes("/meetings-events/")&&(t.products=";"+_satellite.getVar("group_marsha_list")+";;"):t.products=";"+_satellite.getVar("prop_marsha_code")+";;",navigator.userAgent.indexOf("iPhone")>-1&&(t.eVar78=screen.width+"x"+screen.height),void 0===_satellite.getVar("mr_prof_ic_approved")||"Chase_Boundless"!=_satellite.getVar("mr_prof_ic_approved")&&"Chase_Bold"!=_satellite.getVar("mr_prof_ic_approved")&&"Amex_Brilliant"!=_satellite.getVar("mr_prof_ic_approved")&&"Amex_Business"!=_satellite.getVar("mr_prof_ic_approved")||(console.log("eVar156 should be approved"),t.eVar156="Approved");var r=window.mvpOffers&&window.mvpOffers.source?window.mvpOffers.source:"";if(""!=r&&(t.eVar212=r),!t.eVar31){t.Util.getQueryParam("pid")&&(t.eVar31=t.Util.getQueryParam("pid")),!t.eVar31&&t.Util.getQueryParam("affname")&&(t.eVar31="affname="+t.Util.getQueryParam("affname"));var n=t.Util.cookieRead("Affname");!t.eVar31&&n&&(n=n.split("|")[0].replace(/pid=/gi,""))&&(t.eVar31=n)}"undefined"!=typeof dataLayer&&window.dataLayer.search_destination_city&&window.dataLayer.search_destination_state&&(t.linkTrackVars="eVar12",t.eVar12=dataLayer.search_destination_city+":"+dataLayer.search_destination_state+":"+dataLayer.search_destination_country);try{const e=_satellite.cookie.get("data-custom_click_track_value");if(e){["eVar1","eVar22","eVar41","eVar212"].map((e=>{t.linkTrackVars=t.apl(t.linkTrackVars,e,",")})),["event2","event1000"].map((e=>{t.linkTrackEvents=t.apl(t.linkTrackEvents,e,","),t.events=t.apl(t.events,e,",")}));const[a,r]=e.split(":extra=");t.eVar1=a;const n=window?.dataLayer?.mr_prof_authentication_state;t.eVar22=n,t.eVar41=t.prop5=_satellite.getVar("env_site_id");const s=window?.mvpOffers?.source;if(s&&(t.eVar212=s),r){const e=decodeURIComponent(r).split(","),a=e.filter((e=>e.startsWith("event"))),n=e.filter((e=>e.startsWith("eVar")||e.startsWith("prop"))),s=e.filter((e=>e.startsWith("list")));n.map((e=>{const[a,r]=e.split("=");t.linkTrackVars=t.apl(t.linkTrackVars,a,","),t[a]=r})),a.map((e=>{t.linkTrackEvents=t.apl(t.linkTrackEvents,e,","),t.events=t.apl(t.events,e,",")})),s.map((e=>{const[a,r]=e.split(/(?<=list\d)=/);t.linkTrackVars=t.apl(t.linkTrackVars,a,","),t[a]=r.replaceAll(";",",")}))}_satellite.cookie.remove("data-custom_click_track_value")}}catch(e){_satellite.logger.warn(e)}}},trackerProperties:{eVars:[{name:"eVar2",type:"value",value:"%search_is_weekend_stay%"},{name:"eVar9",type:"value",value:"%mr_prof_member_program_level%"},{name:"eVar10",type:"value",value:"%search_date_check_in_day_of_week%"},{name:"eVar17",type:"value",value:"%search_google_places_destination%"},{name:"eVar22",type:"value",value:"%mr_prof_authentication_state%"},{name:"eVar26",type:"value",value:"%res_stay_length%"},{name:"eVar33",type:"value",value:"%group_event_type%"},{name:"eVar34",type:"value",value:"%group_room_attendee_count%"},{name:"eVar41",type:"value",value:"%env_site_id%"},{name:"eVar95",type:"value",value:"%mr_id_alternate_filtered%"},{name:"eVar109",type:"value",value:"%mr_prof_cc_all%"},{name:"eVar139",type:"value",value:"%mr_prof_address_country%"},{name:"eVar140",type:"value",value:"%mr_prof_address_state%"},{name:"eVar191",type:"value",value:"%mr_prof_address_city%"},{name:"eVar235",type:"value",value:"%Glassbox_unionID%"},{name:"eVar238",type:"value",value:"%cookie_segmentID%"}],props:[{name:"prop16",type:"value",value:"%res_rooms_per_night%"},{name:"prop17",type:"value",value:"%search_date_check_in%"},{name:"prop18",type:"value",value:"%search_date_check_out%"},{name:"prop21",type:"value",value:"%group_search_options%"},{name:"prop25",type:"value",value:"%env_server_id%"},{name:"prop26",type:"value",value:"%env_platform%"},{name:"prop48",type:"value",value:"%env_analytics_code_version%"},{name:"prop56",type:"value",value:"%session_jsession_id%"},{name:"prop69",type:"value",value:"%group_qg_rfp_serp_summary%"}],events:[{name:"event211"}],pageName:"%Adobe Pagename%"}}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC7abb945ef43b4af0ad6b0453b3d44725-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL34e34836d9ca418ea1129b1b597b3dc0",name:"Marketing | Kantar | All Pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC7edcc3cd0e834bb08a3145ca308e6151-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL35dc7cf2e22f4de398d36191d2efe096",name:"Marketing | Verizon Retargeting | All Pages Except Conf",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!window.location.pathname.includes("/reservation/confirmation")}}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC459f97bdd2634714b2e76e1eb2ce02d9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3613032854bd4fc69b4de702a5fa27cc",name:"Marketing | Floodlight  | Event Business Meeting",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/hotels/event-planning/business-meeting/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCeae3e2356a6e4812b1c86f5d5e47b013-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL37aa786f37ee472b92474e0bf80a5c80",name:"Marketing | Tradedesk | All Pages Except Conf",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!window.location.pathname.includes("/reservation/confirmation")}}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"CN"!==dataLayer.env_site_id&&"KR"!==dataLayer.env_site_id&&"JP"!==dataLayer.env_site_id}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCf95f394085a046bfa8fae0d280b15269-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL38d355cdec934909851c1b5fb8fd7eef",name:"Marketing | Yahoo JP | Default Pixel",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"JP"===dataLayer.env_site_id}}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC8c5d7fbd5e6743df87487ed06aec4a52-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL396d24b5822846468904f0e769c280da",name:"Target | QUICK JOIN NOW mBox parameter |  JOIN NOW ",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/confirmation.mi",valueIsRegex:!0},{value:"/reservation/confirmation.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCea2a35dd64394b4c86cb4399abb71e04-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL39fe21bf54144843b01bfab03455d9c2",name:"Analytics | Loyalty Enrollment | Activate Online",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loyalty/myAccount/profile.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"window.dataLayer.mr_activated",value:".",valueIsRegex:!0}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event50"}]}}}]},{id:"RL3a4ae6c4f9804113b46ae03de93af385",name:"Marketing | Floodlight | Promo SN24 Join Confirmation Existing Members",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loyalty/promotion.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%page_referrer%",rightOperand:"/sign-in.mi?returnTo=/loyalty/promotion.mi?promotion=SN24"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC12052a352de843139425ffce4c66ffdf-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3a63b44a6fa245bfb6af38d647147711",name:"Marketing | GA4 | Group Quick Booking",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:40}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotMatchRegex"},leftOperand:"%env_site_id%",rightOperand:"CN|TW"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/group-booking/submitted.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"group_quick_booking",options:[["event_category","group"],["dimension22","%search_date_check_in%"],["dimension23","%search_date_check_out%"],["dimension50","%group_opportunity_id%"],["dimension51","%Group_Marsha | Marsha%"],["dimension52","%group_event_type%"],["metric6","1"],["metric7","%group_revenue_total_usd%"]],accounts:{1727890546729:{enabled:!0}},callback:null}}]},{id:"RL3b0bedbf37584903953bde55254cca5e",name:"Analytics | ReviewDetails | CheckBox",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".js-redeem-points-container input[type=checkbox]",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/reviewDetails.mi"}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar1",type:"value",value:'uri="www.marriott.com/reservation/reviewDetails.mi"|loc="Body checkbox" | linkDescription="Purchase Points"'}],events:[{name:"event2"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}}]},{id:"RL3b54900039ef41519e165ed97b4cb3a5",name:"Marketing | Naver | All Pages except Conf",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotContain"},leftOperand:"%page_pathname%",rightOperand:"/reservation/confirmation.mi"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCddbd5c4c720e4a598ee648c8d79243ce-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3b6e8d3e89484a6bb0c22e11ca4d5f02",name:"Analytics | Search - Availability | All Pages (Phoenix - SERP)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobepage"},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"updates_search_call_counter"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/availabilityCalendar.mi",valueIsRegex:!0},{value:"/search/findHotels.mi",valueIsRegex:!0},{value:"/search/filterSearch.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!0;return""===location.hash.substr(1)&&(e=!1),e}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar2",type:"value",value:"%search_is_weekend_stay%"},{name:"eVar4",type:"value",value:"%search_cluster_code%"},{name:"eVar10",type:"value",value:"%search_date_check_in_day_of_week%"},{name:"eVar12",type:"value",value:"%search_destination_city_state_country%"},{name:"eVar14",type:"value",value:"%search_filter_type%"},{name:"eVar26",type:"value",value:"%Length%"},{name:"eVar29",type:"value",value:"%Advance Purchase Window%"},{name:"eVar70",type:"value",value:"%search_list_marshas_on_page%"},{name:"eVar93",type:"value",value:"%search_date_type%"},{name:"eVar161",type:"value",value:"Selected Filter:%search_criteria_filter_selected_ids%"},{name:"eVar168",type:"value",
value:"%search_show_available_hotels%"}],props:[{name:"prop16",type:"value",value:"%res_rooms_per_night%"},{name:"prop17",type:"value",value:"%search_date_check_in%"},{name:"prop18",type:"value",value:"%search_date_check_out%"},{name:"prop34",type:"value",value:"%search_list_records_total%"},{name:"prop66",type:"value",value:"%search_impression_criteria3%"}]}}}]},{id:"RL3bca931573b247bcb100e8096c0db8e8",name:"Marketing | Facebook | Promo Pages",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'.m-button-primary[href*="/loyalty/promotionConfirmation.mi"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'.m-button-primary[href*="/loyalty/join/joinConfirmationPromotion.mi"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loyalty/join/joinConfirmationPromotion.mi",valueIsRegex:!0},{value:"/loyalty/join/joinPromotion.mi",valueIsRegex:!0},{value:"loyalty/promotionConfirmation.mi",valueIsRegex:!0},{value:"/loyalty/promotion.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=!0;return-1!==location.hostname.indexOf(".cn")&&(e=!1),e}}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual",caseInsensitive:!0},leftOperand:"%browser_akamai_loc_country%",rightOperand:"CN"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCbdec6e6bf4f84cb6a9f28965c544efe7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3c6d224d8ba24444ae2814983484a5c2",name:"Marketing | Chase Boundless | Credit Card",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".m-button-m.mt-md-3",elementProperties:[{name:"data-tracking-description",value:"-0513-",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".d-md-inline-block.mt-auto",elementProperties:[{name:"data-tracking-description",value:"-0513-",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/credit-cards/chase-credit-cards.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCb0138ce8aa6243218573a40edea52b29-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3d4faf2959654641beaa5ab6d827bffb",name:"Marketing | Floodlight | social-events.mi",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meeting-event-hotels/social-events.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC1cdfdeaf477d423b98d94f958fcd6802-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3d61f7feda614575b59d9f6234aca5f2",name:"Analytics | Non-Modal click Tracking | All pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC2c44c9f07a72495cb2f592ba5d6c6ac5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3db1dc3145184035af417f7f0599cb17",name:"Marketing | Floodlight Co-Brand | select pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loyalty/earn/credit-card-rewards.mi",valueIsRegex:!0},{value:"/loyalty/member-benefits.mi",valueIsRegex:!0},{value:"/loyalty/earn.mi",valueIsRegex:!0},{value:"/loyalty.mi",valueIsRegex:!0},{value:"/loyalty/redeem.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"page_view",options:[],accounts:{1570639551011:{enabled:!0},1571082055199:{enabled:!0},1571082085182:{enabled:!0},1571082123935:{enabled:!0},1586199522871:{label:"chase006/pagev00+standard",enabled:!0}},callback:null}}]},{id:"RL3dc89f61809c41ec91ce123187b9d557",name:"Marketing | Yahoo | Meetings & Loyalty",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loyalty/earn/credit-card-rewards.mi",valueIsRegex:!0},{value:"/loyalty/earn.mi",valueIsRegex:!0},{value:"/loyalty/member-benefits.mi",valueIsRegex:!0},{value:"/meeting-event-hotels/meetings.mi",valueIsRegex:!0},{value:"/meeting-event-hotels/meetings/planning-and-services.mi",valueIsRegex:!0},{value:"/meeting-event-hotels/meetings/mobility-and-tech.mi",valueIsRegex:!0},{value:"/meeting-event-hotels/meetings/catering-services.mi",valueIsRegex:!0},{value:"/meeting-event-hotels/meetings/rooms-and-spaces.mi",valueIsRegex:!0},{value:"/meeting-event-hotels/meetings/destinations.mi",valueIsRegex:!0},{value:"/meeting-event-hotels/meetings/sizes-big-to-small.mi",valueIsRegex:!0},{value:"/meeting-event-hotels/meetings/innovation.mi",valueIsRegex:!0},{value:"/meeting-event-hotels/meetings/conventions.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC6d43c217f0444cb1b9aa5f758eba2c6b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3df97dfe170b4f6ea1598ac2b0ea709f",name:"Analytics | Base Code | Confirmation",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/confirmation.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.purchaseID=_satellite.getVar("res_confirmation_number"),"undefined"!=typeof dataLayer&&(t.products=_satellite.getVar("confirmation_detail")),"undefined"==typeof dataLayer||void 0!==dataLayer.res_revenue_total_usd&&""!=dataLayer.res_revenue_total_usd||void 0!==dataLayer.res_revenue_adr_rate_usd&&""!=dataLayer.res_revenue_adr_rate_usd||void 0!==dataLayer.res_revenue_currency_type&&"USD"!=dataLayer.res_revenue_currency_type&&void 0!==dataLayer.res_revenue_stay_total_usd&&void 0!==dataLayer.res_revenue_total&&window.dataLayer.res_revenue_stay_total_usd==window.dataLayer.res_revenue_total&&(t.eVar108="fail",t.currencyCode=_satellite.getVar("res_revenue_currency_type")),""!==_satellite.getVar("messaging_upsell_display_count")&&(t.events=t.events?t.events+",event94":"event94"),""!==_satellite.getVar("res_num_children")&&(t.events=t.events?t.events+",event204="+_satellite.getVar("res_num_children"):"event204="+_satellite.getVar("res_num_children")),""!==_satellite.getVar("res_num_adults")&&(t.events=t.events?t.events+",event203="+_satellite.getVar("res_num_adults"):"event203="+_satellite.getVar("res_num_adults")),void 0!==dataLayer.res_offerId&&""!==_satellite.getVar("res_offerId")&&(t.events=t.events?t.events+",event245":"event245"),void 0!==dataLayer.res_cash_points_mix_nights&&""!==_satellite.getVar("res_cash_points_mix_nights")&&(t.events=t.events?t.events+",event302="+_satellite.getVar("res_cash_points_mix_nights"):"event302="+_satellite.getVar("res_cash_points_mix_nights")),void 0!==dataLayer.res_total_points_for_stay&&""!==_satellite.getVar("res_total_points_for_stay")&&(t.events=t.events?t.events+",event176="+_satellite.getVar("res_total_points_for_stay"):"event176="+_satellite.getVar("res_total_points_for_stay")),void 0!==_satellite.getVar("mr_prof_cc_instant_credit_booking")&&_satellite.getVar("mr_prof_cc_instant_credit_booking").includes("Chase")&&(t.eVar156="Chase Instant Credit");var a=sessionStorage.getItem("offerList");void 0!==dataLayer.promo_special_offer_id&&(t.events=t.events=t.events?t.events+",event310":"event310",null!==a&&a.includes(dataLayer.promo_special_offer_id)&&(t.events=t.events?t.events+",event311":"event311"));try{var r={res_fna_nights:"event296",res_fnatopoff_nights:"event298",res_freenights_nights:"event300",res_pointsadvance_nights:"event299",res_cash_nights:"event297",res_points_nights:"event295",res_cashpoints_nights:"event302"};for(var n of Object.keys(r))_satellite.getVar(n)&&_satellite.getVar(n)>0&&(t.events=t.events+","+r[n]+"="+_satellite.getVar(n));_satellite.getVar("res_fnatopoff_points")&&(t.events=t.events+",event301="+_satellite.getVar("res_fnatopoff_points")),","==t.events[0]&&t.events.replace(",","")}catch(e){}}},trackerProperties:{eVars:[{name:"eVar2",type:"value",value:"%search_is_weekend_stay%"},{name:"eVar4",type:"value",value:"%search_cluster_code%"},{name:"eVar5",type:"value",value:"%res_rate_program%"},{name:"eVar10",type:"value",value:"%search_date_check_in_day_of_week%"},{name:"eVar18",type:"value",value:"%messaging_upsell_display_count%"},{name:"eVar23",type:"value",value:"%res_offerId%"},{name:"eVar25",type:"value",value:"%res_market_prefix%"},{name:"eVar26",type:"value",value:"%res_stay_length%"},{name:"eVar27",type:"value",value:"%res_payment_type%"},{name:"eVar28",type:"value",value:"%reservation_iata_number%"},{name:"eVar29",type:"value",value:"%search_advance_purchase_days%"},{name:"eVar37",type:"value",value:"%res_room_pool_code%"},{name:"eVar72",type:"value",value:"%res_cash_points_mix%"},{name:"eVar143",type:"value",value:"%prop_brand_name%"},{name:"eVar144",type:"value",value:"%prop_brand_tier%"},{name:"eVar148",type:"value",value:"%res_num_adults%"},{name:"eVar149",type:"value",value:"%res_num_children%"},{name:"eVar150",type:"value",value:"%res_revenue_currency_type%"},{name:"eVar158",type:"value",value:"%confirmation_detail%"},{name:"eVar215",type:"value",value:"%housekeeping_conf%"}],props:[{name:"prop16",type:"value",value:"%res_rooms_per_night%"},{name:"prop17",type:"value",value:"%search_date_check_in%"},{name:"prop18",type:"value",value:"%search_date_check_out%"}],events:[{name:"event31"},{name:"event1"},{name:"purchase"},{name:"event202",value:"%res_rooms_per_night%"}],transactionID:"%res_confirmation_number%"}}}]},{id:"RL3eed41c7f3be4c4cb5006d57eca5723e",name:"Marketing | Jivox | Booking funnel | Universal",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC6f1a42b8153a426f8f1d5f886bc203fe-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3f75b33c31ab45288fb86a9fcccc8179",name:"Marketing | Facebook | Sign In The Eras Tour",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".m-button-primary",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/sign-in.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%page_url_query_string%",rightOperand:"/loyalty/sweepstakes/TSTheErasTour"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC67eac57725bb4c07a8d84f109708d915-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4086ec3d525547f5aa16e7fb504b542d",name:"Marketing | Line | Social Marriott JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%page_domain_name%",rightOperand:"marriott.co.jp"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC1d2a0aec69234ada8a99e6dfb7f80dba-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL416e2ae4f8e746d6b797a6a8b8ecee9f",name:"Analytics | SPO - MPO | Offer Search",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/hotels/hotel-deals/details/",valueIsRegex:!0},{value:"/specials/mesOffer.mi",valueIsRegex:!0},{value:"^/offers/",valueIsRegex:!0},{value:"/offers/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCf2e498778b0b4963970393346d348fd3-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a="";if(""===(a=_satellite.getVar("promo_special_offer_id"))&&""!==window.location.pathname){var r=window.location.pathname;r.split("/").length>5&&(a=r.split("/")[5])}""===a&&""!==window.location.search&&(a=new URLSearchParams(window.location.search).get("marrOfferId")),t.eVar23=a}},trackerProperties:{eVars:[{name:"eVar205",type:"value",value:"%promo_single_or_multi_property%"}]}}}]},{id:"RL41701354e23648c7b2e4693f55625c37",name:"Core | Guest Count Unhide | RLM on Aries",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%env_platform%",rightOperand:"ram"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCdcdef114f00948b591cefb4afba7c992-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL417a022d48f44cc4b0b1103d319d3a83",name:"Marketing | Facebook | Cobrand multiple pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loyalty/earn/credit-card-rewards.mi"},{value:"/loyalty/earn.mi"},{value:"/loyalty/member-benefits.mi"},{value:"/meeting-event-hotels/meetings.mi"},{value:"/meeting-event-hotels/meetings/planning-and-services.mi"},{value:"/meeting-event-hotels/meetings/mobility-and-tech.mi"},{value:"/meeting-event-hotels/meetings/catering-services.mi"},{value:"/meeting-event-hotels/meetings/rooms-and-spaces.mi"},{value:"/meeting-event-hotels/meetings/destinations.mi"},{value:"/meeting-event-hotels/meetings/sizes-big-to-small.mi"},{value:"/meeting-event-hotels/meetings/innovation.mi"},{value:"/meeting-event-hotels/meetings/conventions.mi"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC42c048ab7f1f4e0a93f2356823ffa289-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4247dcd5c0ab422a822c2447c36c2f2f",name:"Analytics | Click Tracking | Clear Recent Search",events:[{modulePath:"core/src/lib/events/mousedown.js",settings:{elementSelector:".clear-recent-search",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/default.mi",valueIsRegex:!0},{value:"/search/findHotels.mi",valueIsRegex:!0},{value:"/search/default.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){console.log("Nimisha - testing if this fires - clear result")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"uri=%page_hostname%%page_pathname%:loc=header:linkDescription=HotelSearchBar-Clear Recent"}],events:[{name:"event2"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"HotelSearchBar-Clear Recent",linkType:"o"}}]},{id:"RL42affe08e951407f8e5ed70089745b66",name:"Marketing | Twitter | Confirmation",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/confirmation.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCb7f999cc3995430c948a8d7be72cf196-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL430ea665ed234df9ac73eeacfdeed53f",name:"Marketing | Floodlight 9035495 | All",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:120}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/rfp/submitted.mi",valueIsRegex:!0},{value:"/meeting-event-hotels/meeting-planning.mi",valueIsRegex:!0},{value:"/meetings-events/search/find-hotels.mi",valueIsRegex:!0},{value:"/meetings-events/rfp/event-profile.mi",valueIsRegex:!0},{value:"/meetings-events/rfp/event-details.mi",valueIsRegex:!0},{value:"/meetings-events/rfp/event-contact.mi",valueIsRegex:!0},{value:"/meeting-event-hotels/meetings.mi",valueIsRegex:!0},{value:"/meeting-event-hotels/weddings",valueIsRegex:!0},{value:"/meeting-event-hotels/social-events.mi",valueIsRegex:!0},{value:"/meeting-event-hotels/group-travel.mi",valueIsRegex:!0},{value:"/meetings-events/rfp/event-info.mi",valueIsRegex:!0},{value:"/credit-cards.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCd6a039f4a3624b068507ba34be54567d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL44f8186ecb5c41cf8495d35021195962",name:"Marketing | Floodlight | Hotel Travel",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/hotels/",valueIsRegex:!0}]}}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"Page View",options:[["non_interaction",!0]],accounts:{1570639551011:{label:"DC-1359549/shera0/m1m_h0+standard",enabled:!0}},callback:null}}]},{id:"RL454dd55ddad54f1bb023b0c3ef571776",name:"Marketing | Yahoo | Credit Card JP",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".mt-carddeatils-component__container .button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%env_site_id%",rightOperand:"JP"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/credit-cards.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCdd9cad496a034bc19e1c98c99c1ed850-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL459969842c504094a16a7d250b95025d",name:"Target | Base Call | all AEM pages",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!1;return _satellite.logger.warn("config value = "+typeof config),"undefined"==typeof config&&(e=!0),e}}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!0,t=location.pathname,a=_satellite.getVar("env_platform");return(t.indexOf("/search/findHotels")>-1||t.indexOf("/search/filterSearch")>-1||t.indexOf("/search/availabilityCalendar")>-1)&&(a.indexOf("phoenix-prod")>-1||a.indexOf("phoenix-uat")>-1)&&(e=!1),e}}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!0;return location.href.includes("/default.mi")&&(e=!1),e}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC81b9fc9b688e46ea924d16dbbca3a406-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-target-v2/lib/loadTarget.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC38bc58b48baf47cf9e7ad5a5435f9377-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-target-v2/lib/addParams.js",settings:{params:{rpcCode:{value:"%rpcCode%",checked:!0},offerCode:{value:"%offerCode%",checked:!0},page_type:{value:"%page_type%",checked:!0},at_property:{value:"%at_property%",checked:!0},env_is_prod:{value:"%env_is_prod%",checked:!0},env_site_id:{value:"%env_site_id%",checked:!0},mr_enrolled:{value:"%mr_enrolled%",checked:!0},prop_is_ers:{value:"%prop_is_ers%",checked:!0},canBuyPoints:{value:"%canBuyPoints%",checked:!0},env_platform:{value:"%env_platform%",checked:!0},daysToCheckin:{value:"%daysToCheckin%",checked:!0},firstTimeUser:{value:"%firstTimeUserCopy%",checked:!0},prop_hws_tier:{value:"%prop_hws_tier%",checked:!0},mbox3rdPartyId:{value:"%mbox3rdPartyId%",checked:!0},mr_prof_cc_all:{value:"%mr_prof_cc_all%",checked:!0},specialMessage:{value:"%specialMessage%",checked:!0},prop_brand_code:{value:"%prop_brand_code%",checked:!0},prop_brand_tier:{value:"%prop_brand_tier%",checked:!0},res_stay_length:{value:"%res_stay_length%",checked:!0},res_stay_nights:{value:"%res_stay_nights%",checked:!0},daysSinceJoining:{value:"%daysSinceJoining%",checked:!1},mvpOffers_source:{value:"%mvpOffers_source%",checked:!0},promoIDsEligible:{value:"%promoIDsEligible%",checked:!0},prop_marsha_code:{value:"%prop_marsha_code%",checked:!0},res_isRedemption:{value:"%res_isRedemption%",checked:!0},res_rate_program:{value:"%res_rate_program%",checked:!0},res_room_rate_tab:{value:"%res_room_rate_tab%",checked:!0},cookie_merchViewed:{value:"%cookie_merchViewed%",checked:!0},oneTrust_isNewUser:{value:"%oneTrust_isNewUser%",checked:!1},promoIDsRegistered:{value:"%promoIDsRegistered%",checked:!0},prop_currency_type:{value:"%prop_currency_type%",checked:!0},suppressedRpcCodes:{value:"%suppressedRpcCodes%",checked:!0},coBrandControlGroup:{value:"%coBrandControlGroup%",checked:!0},res_rooms_per_night:{value:"%res_rooms_per_night%",checked:!0},search_cluster_code:{value:"%search_cluster_code%",checked:!0},search_date_check_in:{value:"%search_date_check_in%",checked:!0},mr_prof_address_state:{value:"%mr_prof_address_state%",checked:!0},mr_prof_upcoming_stay:{value:"%mr_prof_upcoming_stay%",checked:!0},mr_register_for_promo:{value:"%mr_register_for_promo%",checked:!0},page_url_query_string:{value:"%page_url_query_string_&_patch%",checked:!0},prop_address_lat_long:{value:"%prop_address_lat_long%",checked:!0},search_date_check_out:{value:"%search_date_check_out%",checked:!0},mr_nights_to_next_level:{value:"%mr_nights_to_next_level%",checked:!0},mr_prof_address_country:{value:"%mr_prof_address_country%",checked:!0},res_rate_is_member_rate:{value:"%res_rate_is_member_rate%",checked:!0},mr_prof_stay_in_progress:{value:"%mr_prof_stay_in_progress%",checked:!0},search_is_dates_flexible:{value:"%search_is_dates_flexible%",checked:!0},prop_address_country_abbr:{value:"%prop_address_country_abbr%",checked:!0},miRecentlyViewedProperties:{value:"%miRecentlyViewedProperties%",checked:!1},search_multiRate_or_single:{value:"%search_multiRate_or_single%",checked:!0},search_list_marshas_on_page:{value:"%search_list_marshas_on_page%",checked:!0},mr_prof_authentication_state:{value:"%mr_prof_authentication_state%",checked:!0},mr_prof_member_program_level:{value:"%mr_prof_member_program_level%",checked:!0},search_advance_purchase_days:{value:"%search_advance_purchase_days%",checked:!1},prop_address_city_state_country:{value:"%prop_address_city_state_country%",checked:!1},search_google_places_destination:{value:"%search_google_places_destination%",checked:!1},mr_prof_upcoming_stay_consolidated:{value:"%mr_prof_upcoming_stay_consolidated%",checked:!1}}}},{modulePath:"adobe-target-v2/lib/firePageLoad.js",settings:{bodyHiddenStyle:"body {opacity: 0}",bodyHidingEnabled:!1}},{modulePath:"adobe-mcid/src/lib/actions/setCustomerIds.js",settings:{customerIds:[{value:"%mr_id_alternate_authenticated%",hashType:"",authState:1,integrationCode:"adf7dd8sd"},{value:"%mr_id_alternate_authenticated%",authState:1,integrationCode:"cobrand"}]}}]},{id:"RL462fec70c70d437db57df3ea8c2e8d2e",name:"Marketing | Jivox (jvxpxl.marriott) Retargeting | All Pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC5932f54d87804a94ad85a179ed34a7ef-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL47b78ab20cf546c18c784eb4b20ea2e6",name:"Analytics | Click Tracking | Guest Info Another Payment",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".js-alternative-payment-header",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/guestInfo.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"uri=www.marriott.com/reservation/guestInfo.mi:loc=Payment Options:linkDescription=Click to Pay"}],events:[{name:"event2"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Another Payment Method Clicked",linkType:"o"}}]},{id:"RL480c12d4de874839a7e4063b9b74d0eb",name:"Analytics | AEM - History Change | Dining Search ",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/dining/search-results.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%env_platform%",rightOperand:"AEM"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar12",type:"value",value:"%search_destination_city_state_country%"},{name:"eVar151",type:"value",value:"%Search Term Query String%"}],events:[{name:"event283"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL483c111c6f464147a0ddd362adb14a30",name:"Marketing | Floodlight | Search",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCd19b01f494074d6aa5d8c7b05c8a118b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL489a44a96f30459c97042c5c6a658533",name:"Analytics | RateList Menu | Flexible Dates",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/rateListMenu.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%search_dates_flexible%",rightOperand:"true"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar93",type:"value",value:"Flexible Dates"}]}}}]},{id:"RL48eb613841294136919a244a073bc6df",name:"Analytics | Flexible Date Calendar | Dates |ClickTracking",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/search/findHotels.mi?multiRateSearch=true",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCb204f16e2d98483ebb962fa59046dfc0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL48fd5a9509a34bea93880da6a0193888",name:"Marketing | Facebook | Review Page",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/reviewDetails.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=!0;return-1!==location.hostname.indexOf(".cn")&&(e=!1),e}}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual",caseInsensitive:!0},leftOperand:"%browser_akamai_loc_country%",rightOperand:"CN"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC63be300d65cb4410997399237188f39f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4adb857af07a4e17a4f129cf2a610a27",name:"Marketing | Floodlight 1359549 | Gaylord HWS View Rates Button",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".marriott-header-subnav-reserve__subsec__button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-us/hotels/",valueIsRegex:!0}]}},{
modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%prop_marsha_code%",rightOperand:"BNAGO|DALGT|DENGR|MCOGP|WASGN|SATJW"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC4e2ecaab2a8040d484dff3edd7808784-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4adf3e63fbe14501854ac3ee0c1d7ddc",name:"Analytics | Login Event Details Changed | Login Page",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"dataLayer.loginEventDetails"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/hash.js",settings:{hashes:[{value:"#page_name=login",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{const[e,a,r,n]=_satellite.getVar("dataLayer.loginEventDetails").split("|"),s=n.replace(/[^a-zA-Z0-9]/g,"").slice(0,20);t.linkTrackVars=t.apl(t.linkTrackVars,"eVar21,eVar223,eVar224"),t.eVar21=e,t.eVar223=r,t.eVar224=a,t.linkTrackEvents=t.apl(t.linkTrackEvents,"event314,event315,event316",",");const o=a.includes("LOGIN_SUC_200")?`event315:${s}`:`event316:${s}`;t.events=t.apl(t.events,`event314:${s},${o}`,",")}catch(e){}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Login Event",linkType:"o"}}]},{id:"RL4babf0c6c6914b4eaf9d8bbc4661968b",name:"Marketing | Floodlight | Review Detail",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/reviewDetails",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCb6819ba1ee8744e887a551249e9bb3fc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4cda3be223fb40889c6e28f5e721f70d",name:"Analytics | Click tracking | Group Attachment",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".t-download-url",bubbleFireIfParent:!1,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/associate-sales-portal/rfp",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"uri=www.marriott.com/meetings-events/associate-sales-portal/rfp.mi:loc=body:linkDescription=Download Attachment"}],events:[{name:"event2"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Download Attachment",linkType:"o"}}]},{id:"RL4cdaa5b77e4d4228be88678ba67eb831",name:"Analytics | Groups | Quick Groups",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/group-booking/guest-rooms",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCd207e38d25c14ea4968af83c806195ab-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4d1494c3e80847a4864f6ac1264f6acc",name:"Analytics | Click Tracking | Show More Less",events:[{modulePath:"core/src/lib/events/mousedown.js",settings:{elementSelector:".show-more-less",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/default.mi",valueIsRegex:!0},{value:"/search/findHotels.mi",valueIsRegex:!0},{value:"/search/default.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){console.log("Nimisha - testing if this is clicked - show more less")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"uri=%page_hostname%%page_pathname%:loc=header:linkDescription=HotelSearchBar-%this.textContent%"}],events:[{name:"event2"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"HotelSearchBar-Show More Less",linkType:"o"}}]},{id:"RL4d6ff3bc67dc44d08d475c4b7fcecf9c",name:"Analytics | Property Card Impression | Beacon",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Property Card Visible"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{const{codes:e,prices:a,currencies:r}=sessionStorage.getItem("visibleCards").split(",").reduce(((e,t,a)=>(a%3==0?e.codes.push(t):a%3==1?e.prices.push(t):e.currencies.push(t),e)),{codes:[],prices:[],currencies:[]});t.linkTrackVars="eVar4,eVar12,eVar29,eVar69,eVar70,eVar71,prop17,prop18",t.eVar4=_satellite.getVar("rk_clusterCode"),t.eVar12=_satellite.getVar("search_destination_city_state_country"),t.eVar29=_satellite.getVar("Advance Purchase Window"),t.eVar69=r.join(";"),t.eVar70=e.join(";"),t.eVar71=a.join(";"),t.prop17=_satellite.getVar("search_date_check_in"),t.prop18=_satellite.getVar("search_date_check_out")}catch(e){_satellite.logger.warn(e)}}},trackerProperties:{events:[{name:"event304"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Search Card Visible",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL4d857f2d14104cf2ab9b42bcc6416648",name:"Marketing | Google | AdWords 10969336942| Confirmation",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/confirmation.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC855712afa2bf4525aa967623d9788b58-source.min.js",language:"html",isExternal:!0}}]},{id:"RL4dc274a233ad4e40af7159a1c786bcba",name:"Analytics | Impression Tracking Function | All Pages",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:2}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){window.impressionTrack||(window.impressionTrack=function(e){function t(){"undefined"!=typeof s&&(sendImpressionTrack(e),clearInterval(a))}var a=setInterval(t,10)},window.sendImpressionTrack=function(e){var t=[],a="",r="",n="",o="";if(void 0!==e){"authenticated"==dataLayer.mr_prof_authentication_state?o="|evar22=logged in":"remembered"==dataLayer.mr_prof_authentication_state?o="|evar22=remembered":"unauthenticated"==dataLayer.mr_prof_authentication_state&&(o="|evar22=unauthenticated"),e+=o;var i=window.mvpOffers&&window.mvpOffers.source?window.mvpOffers.source:"";""!=i&&(e+="|evar212="+i);var c=/event/i,l=/evar/i,d=/prop/i,u=/link/i;e.split("|").forEach((function(e){var o="";switch(1==/^event/i.test(e)?o="event":1==/^evar/i.test(e)?o="eVar":1==/^prop/i.test(e)?o="prop":1==/^list/i.test(e)&&(o="list"),o){case"event":var i=e.replace(c,"event");n=s.apl(n,i,",",2);var m=e.split("=");a=s.apl(a,"events",",",2),r=s.apl(r,m[0],",",2);break;case"eVar":var p=e.split("=");a=s.apl(a,p[0].replace(l,"eVar"),",",2),s[p[0].replace(l,"eVar")]=p[1],t.push(p[0].replace(l,"eVar"));break;case"prop":var f=e.split("=");a=s.apl(a,f[0].replace(d,"prop"),",",2),s[f[0].replace(d,"prop")]=f[1],t.push(f[0].replace(d,"prop"));break;case"list":var g=e.replace("=","@@").split("@@");a=s.apl(a,g[0].replace(u,"list"),",",2),s[g[0].replace(u,"list")]=g[1].replace(/\^/g,"|"),t.push(g[0].replace(u,"list"))}}))}"undefined"!=typeof visitor&&(s.marketingCloudVisitorID=visitor.getMarketingCloudVisitorID()),s.origLTV=s.linkTrackVars,s.origEvents=s.events,s.events=n,s.linkTrackVars=a,s.linkTrackEvents=r,s.tl(this,"o","Impression View"),t.forEach((function(e){s[e]=""})),s.events=s.origEvents,s.linkTrackEvents="None",s.linkTrackVars=s.origLTV})}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'if (!window.impressionTrack) {\n    /*Impression Tracking, such as used by Monetate to track CC ad impressions*/\n    window.impressionTrack = function(a) {\n        /*check for "s" object, if not found then put on timer*/\n        var id = setInterval(frame, 10);\n\n        function frame() {\n            if (typeof s !== "undefined") {\n                sendImpressionTrack(a);\n                clearInterval(id);\n            }\n        }\n    };\n    window.sendImpressionTrack = function(a) {\n        //build evar1 string\n        var tempArray = "";\n        var variableArray = [];\n        var linkTrackVars = "";\n        var linkTrackEvents = "";\n        var events = "";\n        var mtLoginStatus = "";\n        var mvpOffer = "";\n        /*cycle through events, evars, props*/\n        if (typeof a != "undefined") {\n            /*set login status*/\n        if (dataLayer.mr_prof_authentication_state == "authenticated") {\n            mtLoginStatus = "|evar22=logged in";\n        } else if (dataLayer.mr_prof_authentication_state == "remembered") {\n            mtLoginStatus = "|evar22=remembered";\n        }else if (dataLayer.mr_prof_authentication_state == "unauthenticated") {\n            mtLoginStatus = "|evar22=unauthenticated";\n        }\n        a = a + mtLoginStatus\n          \n          var mvpOffers = window.mvpOffers ? (window.mvpOffers.source ? window.mvpOffers.source : \'\') : \'\';\n            if(mvpOffers != \'\'){\n              mvpOffer = "|eVar212=" +mvpOffers;\n              a = a + mvpOffer;\n            }\n\n            /*check capitalization of event, eVar, prop*/\n            var regexE = /event/i;\n            var regexV = /evar/i;\n            var regexP = /prop/i;\n            var regexL = /link/i;\n            tempArray = a.split("|");\n            tempArray.forEach(function(value) {\n                /*test which variable type*/\n                var varType = "";\n                if (/^event/i.test(value) == true) {\n                    varType = "event";\n                } else if (/^evar/i.test(value) == true) {\n                    varType = "eVar";\n                } else if (/^prop/i.test(value) == true) {\n                    varType = "prop";\n                } else if (/^list/i.test(value) == true) {\n                    varType = "list";\n                }\n                switch (varType) {\n                    case "event":\n                        var eventVal = value.replace(regexE, "event");\n                        events = s.apl(events, eventVal, ",", 2);\n                        /*grab only the event name in case there is an incrementor also passed*/\n                        var eventName = value.split("=");\n                        linkTrackVars = s.apl(linkTrackVars, "events", ",", 2);\n                        linkTrackEvents = s.apl(linkTrackEvents, eventName[0], ",", 2);\n                        break;\n                    case "eVar":\n                        /*split the evar and value*/\n                        var varName = value.split("=");\n                        linkTrackVars = s.apl(linkTrackVars, varName[0].replace(regexV, "eVar"), ",", 2);\n                        s[varName[0].replace(regexV, "eVar")] = varName[1];\n                        variableArray.push(varName[0].replace(regexV, "eVar"));\n                        break;\n                    case "prop":\n                        /*split the prop and value*/\n                        var propName = value.split("=");\n                        linkTrackVars = s.apl(linkTrackVars, propName[0].replace(regexP, "prop"), ",", 2);\n                        s[propName[0].replace(regexP, "prop")] = propName[1];\n                        variableArray.push(propName[0].replace(regexP, "prop"));\n                        break;\n                    case "list":\n                        /*split the prop and value*/\n                        var listName = value.replace("=", "@@").split("@@");\n                        linkTrackVars = s.apl(linkTrackVars, listName[0].replace(regexL, "list"), ",", 2);\n                        s[listName[0].replace(regexL, "list")] = listName[1].replace(/\\^/g, "|");\n                        variableArray.push(listName[0].replace(regexL, "list"));\n                        break;\n                    default:\n                        // add nothing\n                }\n            });\n        }\n        if (typeof visitor !== "undefined") {\n            s.marketingCloudVisitorID = visitor.getMarketingCloudVisitorID();\n        }\n        s.origLTV = s.linkTrackVars;\n        s.origEvents = s.events;\n        s.events = events;\n        s.linkTrackVars = linkTrackVars;\n        s.linkTrackEvents = linkTrackEvents;\n        s.tl(this, "o", "Impression View");\n\n        /*clear impression specific variables*/\n        variableArray.forEach(function(value) {\n            s[value] = "";\n        });\n        s.events = s.origEvents;\n        s.linkTrackEvents = "None";\n        s.linkTrackVars = s.origLTV;\n    };\n\n} else {}',language:"javascript"}}]},{id:"RL4e2b4581b2c74adfb877d5d6e88dc703",name:"Marketing | GA4 | Guest Info",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:40}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotMatchRegex"},leftOperand:"%env_site_id%",rightOperand:"CN|TW"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/guestInfo.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"checkout_progress",options:[["event_category","ecommerce"],["dimension22","%search_date_check_in%"],["dimension23","%search_date_check_out%"],["dimension24","%search_day_check_in%"],["dimension25","%search_day_check_out%"],["dimension26","%search_is_weekend_stay%"],["dimension27","%res_room_nights_total%"],["dimension28","%search_advance_purchase_days%"],["dimension30","%search_number_guest%"],["dimension32","%search_date_type%"],["items","%items_on_purchase%"],["dimension19","%prop_name%"],["dimension20","%prop_brand_code%"],["dimension21","%prop_address_city_state_country%"],["dimension29","%res_rate_program%"],["dimension31","%res_cash_points_mix%"],["checkout_step","2"]],accounts:{1727890546729:{enabled:!0}},callback:null}}]},{id:"RL4ec2e5c670814da4a7290c0abe8bc5d4",name:"Core | Glassbox | All Domain DEV",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"reservation/creditCardInfo.mi",valueIsRegex:!0},{value:"reservation/creditCardInfoReviewDetails.mi",valueIsRegex:!0},{value:"reservation/confirmation.mi",valueIsRegex:!0}]},negate:!0},{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"_satellite.buildInfo.environment",value:"staging|development",valueIsRegex:!0}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=window.location.href.toString(),t=!1;return(e.indexOf("ram-test8.ose-dev39-vxbyr.cloud.marriott.")>-1||e.indexOf("swi-bpv.marriott.")>-1||e.indexOf("uat05.marriott.")>-1||e.indexOf("miram-uat01.marriott.")>-1||e.indexOf("uat02.marriott.")>-1||e.indexOf("ram-preprod.marriott.")>-1||e.indexOf("uat03.marriott.")>-1||e.indexOf("/einterface/v5/")>-1)&&(t=!0),t}}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status_analytics%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCa0a409a8a53f4b389a67913fd7a5f49c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4ed7195bb2d54b3f9531fb0c255b4502",name:"Marketing | Yahoo JP | Display Confirmation Page Conversion Pixel",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%env_site_id%",rightOperand:"JP"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/confirmation",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC82aaed2e85dc480abe7584926ed1e17c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4fb9a5e6742d47d788d33fd35324e8d9",name:"Marketing | Floodlight | Meeting Events Search",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/search/find-hotels",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC87dc52019bee41dab06f74120ef057b2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4fff5f871b2d48e89c6c5394903e8817",name:"Analytics | Aeries | Search Filters",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".mi-slider",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".m-dropdown-cta",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/filterSearch.mi",valueIsRegex:!0},{value:"/search/findHotels.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar159",type:"value",value:"Multi-Selection"},{name:"eVar160",type:"value",value:"Suggested Filters"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Search Filter Clicked",linkType:"o"}}]},{id:"RL515e5334fa2e4389a31470db304705d9",name:"Core | City Express Header Logo Patch | Aries",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%env_platform%",rightOperand:"ram"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC52bfb068605b4863962807a92d4a1a6d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL51a04e015b424079ab366c3e87234b5c",name:"Analytics | Property Card Impression | Event Listener",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"search_criteria"},ruleOrder:50},{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"search/findHotels.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCcdb94a81cb7049eb9a1c1e3674732d37-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL51d4cac89d72406b9e1a9807db6adbab",name:"Analytics | Page Load Call | Send Beacon (Phoenix - SERP)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"searchDataFire"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotContain"},leftOperand:"%page_domain_name%",rightOperand:"engage"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels.mi",valueIsRegex:!0},{value:"/meetingss-events/search/find-hotels.mi",valueIsRegex:!0},{value:"/search/default.mi",valueIsRegex:!0},{value:"/meetings-events/rfp-phx/event-profile.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!0;return""===location.hash.substr(1)&&(e=!1),e}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){if(t.eVar1="",t.events="",location.pathname.indexOf("/search/findHotels.mi")>-1){t.eVar150=_satellite.getVar("search_currency_type"),t.prop33=_satellite.getVar("search_results_view"),"true"==_satellite.getVar("search_availability_search")&&(t.events=t.apl(t.events,"event3",",",1),t.events=t.apl(t.events,"event212",",",1)),t.events=t.apl(t.events,"event203="+_satellite.getVar("res_num_adults"),",",1),t.events=t.apl(t.events,"event204="+_satellite.getVar("res_num_children"),",",1),t.events=t.apl(t.events,"event202="+_satellite.getVar("res_rooms_per_night"),",",1);let e=_satellite.getVar("mr_prof_authentication_state");void 0!==e&&"authenticated"===e&&(t.events=t.apl(t.events,"event8",",",1))}if(_satellite.getVar("pagename").length>100&&(t.events=t.apl(t.events,"event58",",",1)),"function"==typeof getCookie&&(void 0===t.marketingCloudVisitorID||""==t.marketingCloudVisitorID)){var a=getCookie("AMCV_664516D751E565010A490D4C%40AdobeOrg").split("|");a.length>0&&-1!==a.indexOf("MCMID")&&(t.marketingCloudVisitorID=a[a.indexOf("MCMID")+1])}-1!==location.hostname.indexOf("engage.marriott")&&("production"==_satellite.buildInfo.environment?t.setAccount("marriottengage"):t.setAccount("marriottengagestage")),t.contextData.env_site_id=_satellite.getVar("env_site_id"),t.contextData.chk_in=_satellite.getVar("search_date_check_in"),t.contextData.srch_adv_prchs_days=_satellite.getVar("search_advance_purchase_days"),t.contextData.res_stay_len=_satellite.getVar("res_stay_length"),t.contextData.prop_addr_city_state_cntry=_satellite.getVar("prop_address_city_state_country"),t.contextData.prop_marsha_cd=_satellite.getVar("prop_marsha_code"),t.contextData.prop_brand_cd=_satellite.getVar("prop_brand_code"),t.contextData.mr_prof_pref_pgm=_satellite.getVar("mr_prof_preferred_program"),t.contextData.mr_prof_rewards_lvl=_satellite.getVar("mr_prof_rewards_level"),t.contextData.mr_prof_earning_pref=_satellite.getVar("mr_prof_earning_pref"),t.contextData.mr_prof_addr_state_abbr=_satellite.getVar("mr_prof_address_state_abbr"),t.contextData.mr_prof_addr_cntry_abbr=_satellite.getVar("mr_prof_address_country_abbr"),t.contextData.res_conf_num=_satellite.getVar("res_confirmation_number"),t.contextData.mr_cei_SttBhvSeg=_satellite.getVar("mr_cei_SttBhvSeg"),t.contextData.mr_cei_PurBrand=_satellite.getVar("mr_cei_PurBrand"),t.contextData.mr_cei_SttValSeg=_satellite.getVar("mr_cei_SttValSeg"),t.contextData.mr_cei_PurActvty=_satellite.getVar("mr_cei_PurActvty"),t.contextData.mr_cei_PurProp=_satellite.getVar("mr_cei_PurProp"),t.contextData.mr_cei_PurMkt=_satellite.getVar("mr_cei_PurMkt"),t.contextData.mr_cei_NerMkt=_satellite.getVar("mr_cei_NerMkt"),t.contextData.mr_cei_NewMkt=_satellite.getVar("mr_cei_NewMkt"),t.contextData.mr_cei_ResMkt=_satellite.getVar("mr_cei_ResMkt"),t.contextData.mr_cei_PmoTaste=_satellite.getVar("mr_cei_PmoTaste"),t.contextData.mr_prof_cc_all=_satellite.getVar("mr_prof_cc_all"),t.contextData.mhr="",t.contextData.mhr.bookinglengthofstay=_satellite.getVar("res_stay_length")}},trackerProperties:{eVars:[{name:"eVar15",type:"value",value:"%res_rate_is_member_rate%"},{name:"eVar53",type:"value",value:"%iscid%"},{name:"eVar69",type:"value",value:"%search_impression_criteria2_currency%"},{name:"eVar101",type:"value",value:"%env_onetrust_cookie_selection%"},{name:"eVar151",type:"value",value:"%search_keyword%"},{name:"eVar204",type:"value",value:"%ota_res_details%"},{name:"eVar222",type:"value",value:"%search_destination_type%"},{name:"eVar237",type:"value",value:"%env_onetrust_language%"},{name:"eVar240",type:"value",value:"%server_id_scrape%"},{name:"eVar241",type:"value",value:"%session_id_cookie%"}],props:[{name:"prop23",type:"value",value:"%search_list_setting_sort_order%"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}}]},{id:"RL5454f187e4744bafbc2948d666302b74",name:"Analytics|RLM|Limited Inventory Impression",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"rateListMenu.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(document.querySelectorAll('.results-container[aria-hidden = "false"] .limited-availability-msg').length>0)return!0}catch(e){return!1}}}},{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"pageView",count:1}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC7d24a9df927d4dc8a9b8c68f0306e1f3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL54abddf1c3964716a6aaad4c294b48ca",name:"Marketing | GA4 | Successful Login",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return window.sessionStorage.getItem("tempLoginGA4")!==_satellite.getVar("mr_prof_authentication_state")&&(window.sessionStorage.setItem("tempLoginGA4",_satellite.getVar("mr_prof_authentication_state")),"authenticated"===_satellite.getVar("mr_prof_authentication_state")||void 0)}}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotMatchRegex"},leftOperand:"%env_site_id%",rightOperand:"CN|TW"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"login",options:[["event_category","member"],["event_label","success"]],accounts:{1727890546729:{enabled:!0}},callback:null}}]},{id:"RL54e3eefdfd564cc185aaa4f183e7cac9",name:"Analytics | Custom Link Click",events:[{modulePath:"core/src/lib/events/click.js",settings:{bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{const e=this.closest(".custom_click_track");return e.getAttribute("data-custom_click_track_value")||e.getAttribute("custom_click_track_value")}catch(e){return!1}}}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{return("View Rates"===this.textContent.trim()||"Hide Rates"===this.textContent.trim())&&window.location.pathname.includes("rateListMenu")}catch(e){return!1}}},negate:!0}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCa409734b18824d86a37664901e6f1ffe-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL56aa0b2e1eeb40498978bf423b2c1334",name:"Target |Guest Info mBox parameter | GuestInfo Second",events:[{modulePath:"core/src/lib/events/elementExists.js",settings:{elementSelector:"#oldRecipe"},ruleOrder:50},{modulePath:"core/src/lib/events/elementExists.js",settings:{elementSelector:"#newGuestInfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/reviewguestinformation.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCc3c14f6f000d43f38106276924104b34-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL57165fbd7be545ddb3cccfeab8e6304c",name:"Core | OneTrust UGI Update Modal Patch | All pages Logged In",events:[{modulePath:"core/src/lib/events/entersViewport.js",settings:{frequency:"everyEntry",elementSelector:"#onetrust-pc-sdk:not(.ot-hide)"},ruleOrder:50},{modulePath:"core/src/lib/events/mousedown.js",settings:{elementSelector:"#teconsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%mr_prof_authentication_state%",rightOperand:"authenticated"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"authenticated"==_satellite.getVar("mr_prof_authentication_state")&&(-1==_satellite.cookie.get("OptanonConsent").indexOf(",4:1,")?document.getElementById("ot-group-id-4").checked=!1:document.getElementById("ot-group-id-4").checked=!0),!0}}}],actions:[]},{id:"RL571a7817fabb4998a3b6f9b84b533fb6",name:"Marketing | Epsilon | RFP Add To RFP",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".m-button-s.m-button-primary.property-cta",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/search/find-hotels.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC981195a2812445a2b33a4943b79baf7f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL57d2e23e76bd4f78b093a930cd6c0a0b",name:"Core | Launch | Helper Functions",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:2}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,
source:'/** DataLayer Patch Code **/\nlet mState = _satellite.getVar(\'memState\');\nlet mrPrfAthState = _satellite.getVar(\'mr_prof_authentication_state\');\nlet prfAddrState = _satellite.getVar(\'prof_address_state\');\nlet loginCookie = _satellite.cookie.get("s_loginState");\nif (loginCookie != "") {\n    if (window.dataLayer) {\n        if (typeof mState == "undefined" || mState == "" || mState.indexOf("e")<0) {\n             window.dataLayer.memState = loginCookie;\n          _satellite.setVar("memState",loginCookie);\n          _satellite.logger.warn("**>> memState missing from dataLayer, adding to exsting DATALAYER <<**");\n        }\n        if (typeof mrPrfAthState == "undefined" || mrPrfAthState == "") {\n            window.dataLayer.mr_prof_authentication_state = loginCookie;\n          _satellite.setVar("mr_prof_authentication_state",loginCookie);\n        }\n        if (typeof prfAddrState == "undefined" || prfAddrState == "") {\n            window.dataLayer.prof_address_state = loginCookie;\n          _satellite.setVar("prof_address_state",loginCookie);\n        }\n    } else {\n      _satellite.logger.warn("**>>> DATALAYER MISSING -- adding it and memState, mr_prof_authentication_state, prof_address_state <<<**");\n        window.dataLayer = window.dataLayer || {};\n        window.dataLayer.memState = loginCookie;\n        window.dataLayer.mr_prof_authentication_state =loginCookie;\n        window.dataLayer.prof_address_state = loginCookie;\n      _satellite.setVar("memState",loginCookie);\n      _satellite.setVar("mr_prof_authentication_state",loginCookie);\n      _satellite.setVar("prof_address_state",loginCookie);\n    \n    }\n}\n\n/*STORE PAGENAME IN LOCAL STORAGE FOR MDL*/\nif (typeof dataLayer !== "undefined") {dataLayer.previous_page = localStorage.getItem(\'previous_page\')}\nlocalStorage.setItem(\'previous_page\', location.hostname + location.pathname);\n\n/*check for Bonvoy JOIN, set for once per session*/\nif (window.dataLayer.mr_enrolled == "true" && sessionStorage.getItem("mr_enrolled_num") !== "1" && document.location.href.indexOf("signIn") == -1) {\n  sessionStorage.setItem("mr_enrolled", "true");\n  sessionStorage.setItem("mr_enrolled_num", 1);\n}\nelse if (window.dataLayer.mr_enrolled == "true" && sessionStorage.getItem("mr_enrolled_num", 1) == "1"){\n  sessionStorage.setItem("mr_enrolled", "false")\n}\n\n/*check for existing OneTrust cookie\nif (_satellite.cookie.get("OptanonConsent") == undefined) {\n    window.onetrustCookie = "false"\n} else {\n    window.onetrustCookie = "true"\n}\n*/\n\n/*LOAD A SCRIPT WITH A CALLBACK FUNCTION*/\nfunction launchLoadScriptCallback(a, c, b) {\n    var d = document.getElementsByTagName("script"),\n        e;\n    b = d[0];\n    for (e = 0; e < d.length; e++)\n        if (d[e].src === a && d[e].readyState && /loaded|complete/.test(d[e].readyState)) try {\n            c()\n        } catch (g) {} finally {\n            return\n        }\n    d = document.createElement("script");\n    d.type = "text/javascript";\n    d.async = !0;\n    d.src = a;\n    d.onerror = function() {\n        this.addEventListener && (this.readyState = "loaded")\n    };\n    d.onload = d.onreadystatechange = function() {\n        if (!this.readyState ||\n            "complete" === this.readyState || "loaded" === this.readyState) {\n            this.onload = this.onreadystatechange = null;\n            this.addEventListener && (this.readyState = "loaded");\n            try {\n                c.call(this)\n            } catch (g) {}\n        }\n    };\n    b.parentNode.insertBefore(d, b)\n}\n\n/*LOAD A SCRIPT WITH A CALLBACK FUNCTION*/\nfunction launchLoadScriptCallbackNotAsync(a, c, b) {\n    var d = document.getElementsByTagName("script"),\n        e;\n    b = d[0];\n    for (e = 0; e < d.length; e++)\n        if (d[e].src === a && d[e].readyState && /loaded|complete/.test(d[e].readyState)) try {\n            c()\n        } catch (g) {} finally {\n            return\n        }\n    d = document.createElement("script");\n    d.type = "text/javascript";\n    d.async = false;\n  console.log(\'Kasada value of d.async is : \'+d.async);\n    d.src = a;\n    d.onerror = function() {\n        this.addEventListener && (this.readyState = "loaded")\n    };\n    d.onload = d.onreadystatechange = function() {\n        if (!this.readyState ||\n            "complete" === this.readyState || "loaded" === this.readyState) {\n            this.onload = this.onreadystatechange = null;\n            this.addEventListener && (this.readyState = "loaded");\n            try {\n                c.call(this)\n            } catch (g) {}\n        }\n    };\n    b.parentNode.insertBefore(d, b)\n}\n\n/*SEND AN IMAGE REQUEST*/\nfunction launchImage(a) {\n    var c = new Image(0, 0);\n    c.src = a;\n    c.alt = "Tag";/*FOR ADR COMPLIANCE*/\n    c.style.display = "none";\n    return c\n}\n\n/*INCLUDE A NEW SCRIPT*/\nfunction launchScript(src, async) {\n  //console.log(\'The src fired is : \'+src);\n    var newScript = document.createElement(\'script\');\n    newScript.type = \'text/javascript\';\n    newScript.src = src; //URL\n    newScript.async = (typeof async !== "undefined")?async:true;\n    document.head.appendChild(newScript);\n}\n\n/*INCLUDE A NEW IFRAME*/\nfunction launchIframe(src) {\n    var iframe = document.createElement(\'iframe\');\n    iframe.style.display = "none";\n    iframe.src = src;\n    document.body.appendChild(iframe);\n}\n\nfunction getCookie(cname) {\n  var name = cname + "=";\n  var decodedCookie = decodeURI(document.cookie);\n  var ca = decodedCookie.split(\';\');\n  for(var i = 0; i <ca.length; i++) {\n    var c = ca[i];\n    while (c.charAt(0) == \' \') {\n      c = c.substring(1);\n    }\n    if (c.indexOf(name) == 0) {\n      return c.substring(name.length, c.length);\n    }\n  }\n  return "";\n}\n\n/*IT fires this function when click actions happen for most elements but not all. It passes info specific to the element and action*/\nwindow._trackAnalytics = function(obj) {\n  if (typeof obj === "object") {\n    if (typeof window.trackAnalyticsOjb === \'undefined\') {\n      window.trackAnalyticsObj = \'\';\n    }\n    window.trackAnalyticsObj = JSON.stringify(obj);\n    //populate Tile Names in dataLayer\n    if (typeof obj.tiles != "undefined") {\n      var tempList = "";\n      $.each(obj.tiles, function(index, value) {\n        tempList += value.name;\n        //check for errors, add loaded status\n        if (typeof value.error !== "undefined") {\n          tempList += "_Not Loaded|";\n        } else {\n          tempList += "_Loaded|";\n        }\n        //tempList += value.id.substring(0, value.id.lastIndexOf("_") ) + "|";\n      });\n      tempList = tempList.replace(/\\|\\s*$/, "");\n      dataLayer.ram_tile_names = tempList;\n      \n    }\n    if (typeof obj.page_data_layer_ready != "undefined" && obj.page_data_layer_ready == "true") {\n      dataLayer.page_data_layer_ready = "true";\n    }\n    /*console log message only if debug is turned on*/\n    _satellite.logger.log("_trackAnalytics call JSON: ", JSON.stringify(obj));\n  }\n};\n/*set login status for page and save in sessionStorage, to check on next page load to see if a user logged in on previous page*/\nif (_satellite.getVar("mr_id")==""){\n  sessionStorage.setItem("loggedInStatus","no");\n} else if (_satellite.getVar("mr_id")!=="" && sessionStorage.getItem("loggedInStatus")=="no"){\n  sessionStorage.setItem("loggedInStatus","loggedIn");\n} else if (_satellite.getVar("mr_id")!==""){\n  sessionStorage.setItem("loggedInStatus","yes");\n}\n\n/** Check for "interactionCount" value from OneTrust cookie OptanonConsent. Value of \'0\' means it is a new user **/\nfunction getOneTrustInteractionCount(){\n  let interactionCount = 1;\n  let optCookie = _satellite.cookie.get("OptanonConsent");\n  if(optCookie.indexOf(\'&interactionCount=0&\')>-1){\n    interactionCount = 0;\n  }\n  return interactionCount;\n}\n\n/** send opt-in/out status to analytics **/\nfunction sendOptInStatusToAnalytics(){\n  //1 is opted in so 6:1 is opted into analytics\n  let analyticsOptedIn = true;//6:1\n  let advertOptedIn = true;//4:1\n  let optCookie = _satellite.cookie.get("OptanonConsent");\n  if (optCookie != null && optCookie.indexOf(\'groups\')>-1 ) {\n      var obj = {};\n      var x = decodeURIComponent(window.getCookie("OptanonConsent")).split("&");\n      for (var i = 0; i < x.length; i++) {\n          var split = x[i].split(\'=\');\n          obj[split[0].trim()] = split[1].trim();\n      }\n      console.log(obj.groups.indexOf("6:0"));\n      if (obj.groups && obj.groups.indexOf("6:0") != -1) {\n          analyticsOptedIn = false;\n          console.log("analyticsOptedIn = false");\n      } \n      if (obj.groups && obj.groups.indexOf("4:0") != -1) {\n          advertOptedIn = false;\n          console.log("analyticsOptedIn = false");\n      } \n      let advertEvar = advertOptedIn ? "Opted In" : "Opted Out";\n      let analyticsEvar = analyticsOptedIn ? "Opted In" : "Opted Out";\n      _satellite.logger.log("OptanonConsent COOKIE EXISTS " +advertEvar+" "+analyticsEvar);\n      let ccCode = _satellite.getVar("browser_akamai_loc_country");\n\n      s.origLTV = s.linkTrackVars;\n      s.origEvents = s.events;\n      s.linkTrackVars = "eVar246,eVar248,eVar250,events";\n      s.eVar246 = ccCode;\n      s.eVar248 = advertEvar;\n      s.eVar250 = analyticsEvar;\n      s.linkTrackEvents = "event312";\n      s.events = "event312"; \n      _satellite.logger.log("Firing s.tl call = "+ccCode+" "+advertEvar+" "+analyticsEvar);\n      s.tl(this, "o", "Opt_In tracking");\n      s.linkTrackEvents = "None";\n      s.linkTrackVars = s.origLTV;\n      s.events = s.origEvents;\n      //_satellite.setVar(\'overideOptOut\', \'false\');\n  }else{\n    console.log("OPT-OUT Failed - sendAnalytics - no OptAnaonCookie");\n  } \n}\n',language:"javascript"}}]},{id:"RL58277b16a5b2492c91a4a11452ed6dbb",name:"Analytics | Page Load Call | Base Variables (Phoenix - GROUPS - SERP only) ",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%env_platform%",rightOperand:"phoenix"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/search/find-hotels.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!1;return location.hash.substr(1)&&(e=!0),e}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{"smetrics.marriott.com"!=t.trackingServerSecure&&(_satellite.track("s_test"),console.log(t))}catch(e){_satellite.track("s_test"),console.log(t)}var a=dataLayer.search_filters_applied;t.list1=a,t.contextData["dtm.no_block"]="true",t.prop71=_satellite.property.name,"authenticated"==_satellite.getVar("mr_prof_authentication_state")?t.eVar22="logged in":"unauthenticated"==_satellite.getVar("mr_prof_authentication_state")&&(t.eVar22="unauthenticated"),"/logout.mi"==location.pathname&&(t.eVar22="logged out"),void 0===_satellite.getVar("prop_marsha_code")||window.location.pathname.includes("/reservation/confirmation.mi")?void 0!==_satellite.getVar("group_marsha_list")&&window.location.pathname.includes("/meetings-events/")&&(t.products=";"+_satellite.getVar("group_marsha_list")+";;"):t.products=";"+_satellite.getVar("prop_marsha_code")+";;";let r=!1,n=dataLayer.group_search_results_properties;if(void 0!==n)for(var s=0;s<n.length;s++)n[s].includes("QG")&&(r=!0);r&&location.pathname.indexOf("/meetings-events/search/find-hotels.mi")>-1&&(t.events=t.apl(t.events,"event15",",",1)),navigator.userAgent.indexOf("iPhone")>-1&&(t.eVar78=screen.width+"x"+screen.height),void 0===_satellite.getVar("mr_prof_ic_approved")||"Chase_Boundless"!=_satellite.getVar("mr_prof_ic_approved")&&"Chase_Bold"!=_satellite.getVar("mr_prof_ic_approved")&&"Amex_Brilliant"!=_satellite.getVar("mr_prof_ic_approved")&&"Amex_Business"!=_satellite.getVar("mr_prof_ic_approved")||(console.log("eVar156 should be approved"),t.eVar156="Approved");var o=window.mvpOffers&&window.mvpOffers.source?window.mvpOffers.source:"";if(""!=o&&(t.eVar212=o),!t.eVar31){t.Util.getQueryParam("pid")&&(t.eVar31=t.Util.getQueryParam("pid")),!t.eVar31&&t.Util.getQueryParam("affname")&&(t.eVar31="affname="+t.Util.getQueryParam("affname"));var i=t.Util.cookieRead("Affname");!t.eVar31&&i&&(i=i.split("|")[0].replace(/pid=/gi,""))&&(t.eVar31=i)}"undefined"!=typeof dataLayer&&window.dataLayer.search_destination_city&&window.dataLayer.search_destination_state&&(t.linkTrackVars="eVar12",t.eVar12=dataLayer.search_destination_city+":"+dataLayer.search_destination_state+":"+dataLayer.search_destination_country);try{const e=_satellite.cookie.get("data-custom_click_track_value");if(e){["eVar1","eVar22","eVar41","eVar212"].map((e=>{t.linkTrackVars=t.apl(t.linkTrackVars,e,",")})),["event2","event1000"].map((e=>{t.linkTrackEvents=t.apl(t.linkTrackEvents,e,","),t.events=t.apl(t.events,e,",")}));const[a,r]=e.split(":extra=");t.eVar1=a;const n=window?.dataLayer?.mr_prof_authentication_state;t.eVar22=n,t.eVar41=t.prop5=_satellite.getVar("env_site_id");const s=window?.mvpOffers?.source;if(s&&(t.eVar212=s),r){const e=decodeURIComponent(r).split(","),a=e.filter((e=>e.startsWith("event"))),n=e.filter((e=>e.startsWith("eVar")||e.startsWith("prop"))),s=e.filter((e=>e.startsWith("list")));n.map((e=>{const[a,r]=e.split("=");t.linkTrackVars=t.apl(t.linkTrackVars,a,","),t[a]=r})),a.map((e=>{t.linkTrackEvents=t.apl(t.linkTrackEvents,e,","),t.events=t.apl(t.events,e,",")})),s.map((e=>{const[a,r]=e.split(/(?<=list\d)=/);t.linkTrackVars=t.apl(t.linkTrackVars,a,","),t[a]=r.replaceAll(";",",")}))}_satellite.cookie.remove("data-custom_click_track_value")}}catch(e){_satellite.logger.warn(e)}}},trackerProperties:{eVars:[{name:"eVar2",type:"value",value:"%search_is_weekend_stay%"},{name:"eVar9",type:"value",value:"%mr_prof_member_program_level%"},{name:"eVar10",type:"value",value:"%search_date_check_in_day_of_week%"},{name:"eVar12",type:"value",value:"%search_destination_city_state_country%"},{name:"eVar17",type:"value",value:"%search_google_places_destination%"},{name:"eVar22",type:"value",value:"%mr_prof_authentication_state%"},{name:"eVar26",type:"value",value:"%res_stay_length%"},{name:"eVar29",type:"value",value:"%search_advance_purchase_days%"},{name:"eVar33",type:"value",value:"%group_event_type%"},{name:"eVar34",type:"value",value:"%group_room_attendee_count%"},{name:"eVar41",type:"value",value:"%env_site_id%"},{name:"eVar95",type:"value",value:"%mr_id_alternate_filtered%"},{name:"eVar109",type:"value",value:"%mr_prof_cc_all%"},{name:"eVar139",type:"value",value:"%mr_prof_address_country%"},{name:"eVar140",type:"value",value:"%mr_prof_address_state%"},{name:"eVar191",type:"value",value:"%mr_prof_address_city%"},{name:"eVar235",type:"value",value:"%Glassbox_unionID%"},{name:"eVar238",type:"value",value:"%cookie_segmentID%"}],props:[{name:"prop16",type:"value",value:"%res_rooms_per_night%"},{name:"prop17",type:"value",value:"%search_date_check_in%"},{name:"prop18",type:"value",value:"%search_date_check_out%"},{name:"prop21",type:"value",value:"%group_search_options%"},{name:"prop25",type:"value",value:"%env_server_id%"},{name:"prop26",type:"value",value:"%env_platform%"},{name:"prop33",type:"value",value:"%search_results_view%"},{name:"prop34",type:"value",value:"%search_list_records_total%"},{name:"prop48",type:"value",value:"%env_analytics_code_version%"},{name:"prop56",type:"value",value:"%session_jsession_id%"},{name:"prop69",type:"value",value:"%group_qg_rfp_serp_summary%"}],events:[{name:"event211"}],pageName:"%Adobe Pagename%"}}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC3422d075b39245c59dd925062bc77068-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL584b4822d21f47b4bafd65a81ea1c88d",name:"Marketing | Yahoo JP | Display Remarketing Pixel",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"JP"===dataLayer.env_site_id}}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!window.location.pathname.includes("/reservation/confirmation")}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC8b34ddfa816b4bbba3e9e1db38d244d7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5897a422e9c8483ab7b9ce2eb6016341",name:"Marketing | Floodlight 1359549 | HDFCBankCreditCard",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".apply-now-cta",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".white-cta",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/credit-card-rewards/HDFCBankCreditCard",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%page_hostname%",rightOperand:"marriottbonvoyasia"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCa5de4af0ed064b34bb62828ec992e45a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5929c7f8f7684428afc2e80114d3319d",name:"Analytics | Search Result Page |  Search + Dates (Phoenix - SERP)",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels.mi",valueIsRegex:!0},{value:"/search/filterSearch.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return 1!=_satellite.getVar("search_dates_flexible")&&"true"!=_satellite.getVar("search_dates_flexible")}}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!0;return""===location.hash.substr(1)&&(e=!1),e}}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!1,t=_satellite.getVar("env_platform"),a=window.location.pathname;return t.indexOf("phoenix")>-1&&a.indexOf("/search/findHotels.mi")>-1&&(e=!0),e}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){"true"==_satellite.getVar("search_availability_search")&&(t.events=t.apl(t.events,"event3",",",1),t.events=t.apl(t.events,"event212",",",1))}},trackerProperties:{eVars:[{name:"eVar2",type:"value",value:"%search_is_weekend_stay%"},{name:"eVar4",type:"value",value:"%search_cluster_code%"},{name:"eVar10",type:"value",value:"%search_date_check_in_day_of_week%"},{name:"eVar12",type:"value",value:"%search_destination_city_state_country%"},{name:"eVar17",type:"value",value:"%search_google_places_destination%"},{name:"eVar26",type:"value",value:"%res_stay_length%"},{name:"eVar29",type:"value",value:"%search_advance_purchase_days%"},{name:"eVar71",type:"value",value:"%search_impression_criteria2%"},{name:"eVar93",type:"value",value:"%search_date_type%"},{name:"eVar148",type:"value",value:"%res_num_adults%"},{name:"eVar149",type:"value",value:"%res_num_children%"},{name:"eVar150",type:"value",value:"%search_currency_type%"}],props:[{name:"prop16",type:"value",value:"%res_rooms_per_night%"},{name:"prop17",type:"value",value:"%search_date_check_in%"},{name:"prop18",type:"value",value:"%search_date_check_out%"},{name:"prop23",type:"value",value:"%search_list_setting_sort_order%"},{name:"prop33",type:"value",value:"%search_results_view%"},{name:"prop34",type:"value",value:"%search_list_records_total%"}],events:[{name:"event204",value:"%res_num_children%"},{name:"event203",value:"%res_num_adults%"}]}}}]},{id:"RL5960e904011f485a93e8aba12ec3438c",name:"Groups | Tag Trigger",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!1,t=location.pathname;return(t.indexOf("/reslink/")>-1||t.indexOf("/roominglist/")>-1||t.indexOf("/group-booking-phx/")>-1||t.indexOf("/group-phx/")>-1)&&(e=!0),e}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC1afa65e8e4ea45dfa74b02fe77e0869d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL59baf3c676d74f85abf7041e801c86a4",name:"Marketing | Bing UET | Global Base",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"bing-ads-extension/src/lib/actions/baseTag.js",settings:{}}]},{id:"RL59c38dd1a87c419fa2e3b24ee680900f",name:"Marketing | Epsilon | RFP Event Profile Continue",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".m-button-primary.m-button-m.continue-cta",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/rfp/event-profile.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCba6fb230e0b14abf9e8393ad1ded96de-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5bacc03c354c4b92af67808775c45508",name:"Marketing | Yahoo JP | Search Remarketing Pixel",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"JP"===dataLayer.env_site_id}}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!window.location.pathname.includes("/reservation/confirmation.mi")}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCeb22b8d59500497d828fdf57951df4e9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5bd508d9d3b241879080c65371c410c7",name:"Analytics|Res path | Multi Rate",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"spaTrigger"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!0,t=_satellite.getVar("env_platform"),a=window.location.pathname;return t.indexOf("phoenix-prod")>-1&&a.indexOf("/search/findHotels.mi")>-1&&(e=!1),e}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar130",type:"value",value:"%search_res_path_type%"},{name:"eVar132",type:"value",value:"%search_multiRate_rates_available%"},{name:"eVar133",type:"value",value:"%search_multiRate_rate_selected%"},{name:"eVar134",type:"value",value:"%search_multiRate_or_single%"}]}}}]},{id:"RL5d1a1fef5c7a4cfba52a0516e20cb563",name:"Marketing | Tradedesk APAC | Confirmation",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%env_site_id%",rightOperand:"CN|KR|JP"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/confirmation.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC74f44a5b99b542ecba655ccb89cbe9f8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5e9e5aa8dec442f0aeafd2f3e1c90af9",name:"Marketing | 24/7 IVR | All Pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC5d769fa20d014de8b7e75fb9db78d2a0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5eaa6e4287a345c9a1009316843383b4",name:"Marketing | Facebook | RFP Funnel Multiple Pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:60},{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC1f83e41674b04802b3c124a873f6d8b2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5ed235a9fbe24f469bdc356f42fd9feb",name:"Analytics | Page Load | LPA Submission Success",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/my/prearrival/thank-you.mi"}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{t.products=`;${_satellite.getVar("prop_marsha_code")};;`}catch(e){}}},trackerProperties:{eVars:[{name:"eVar99",type:"value",value:"%form_name%|%form_step_name%"},{name:"eVar231",type:"value",value:"%form_prearrival_questions_complete%"},{name:"eVar247",type:"value",value:"%res_confirmation_number%"}],props:[{name:"prop73",type:"value",value:"%res_confirmation_number%"}],events:[{name:"event151"}]}}}]},{id:"RL5eee1a198d594852924fa08100036230",name:"Marketing | Adara | WebSdk All page",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!0,t=_satellite.getVar("browser_akamai_loc_state").toLowerCase(),a=_satellite.getVar("mr_prof_address_state").toLowerCase();return void 0!==t&&("california"!==t&&"virginia"!==t&&"nevada"!==t&&"utah"!==t&&"iowa"!==t&&"ca"!==t&&"va"!==t&&"nv"!==t&&"ut"!==t&&"ia"!==t||(e=!1)),e&&void 0!==a&&("ca"!==a&&"va"!==a&&"nv"!==a&&"ut"!==a&&"ia"!==a||(e=!1)),e}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCc5ea3e600af34f1fa4199f140cd53784-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCb5073c99f826424b8a59f84d54cb16c9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL60611282e9c34b0e9382b566e9bc81a9",name:"Marketing | Adara | Aries",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!0,t=_satellite.getVar("browser_akamai_loc_state").toLowerCase(),a=_satellite.getVar("mr_prof_address_state").toLowerCase();return void 0!==t&&("california"!==t&&"virginia"!==t&&"nevada"!==t&&"utah"!==t&&"iowa"!==t&&"ca"!==t&&"va"!==t&&"nv"!==t&&"ut"!==t&&"ia"!==t||(e=!1)),e&&void 0!==a&&("ca"!==a&&"va"!==a&&"nv"!==a&&"ut"!==a&&"ia"!==a||(e=!1)),e}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCab88232685ac47359c01b04d7386496b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL60fb1abd77814ae69d3c64435ec182e4",name:"Analytics | Click Tracking | Contact Info",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".tile-hotel-compare-btn .m-button-primary .t-hotel-btn-name",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".t-phone-and-email-groups .flip-button-anc",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".tile-group-form-cta .m-button-primary",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".l-margin-bottom-spacing .flip-button-anc",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/rfp/event-contact",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a="Close",r=this.textContent.replace(a,"");console.log("removeExtras clicked text is : "+r),t.eVar1="uri=www.marriott.com/meetings-events/rfp/event-contact.mi:loc=body:linkDescription="+r}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"uri=www.marriott.com/meetings-events/rfp/event-contact.mi:loc=body:linkDescription=%this.textContent%"}],events:[{name:"event2"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Contact Info Clicks",linkType:"o"}}]},{id:"RL61616bcc69f6441c973aa84d09a3ab9c",name:"Analytics | Upgrade Reservation | Modal Tracking",events:[{modulePath:"core/src/lib/events/entersViewport.js",settings:{frequency:"firstEntry",elementSelector:".tile-summary-of-changes"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/upgradeReservation.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{props:[{name:"prop20",type:"value",value:"Uninav-Upsell Modal"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Upsell Modal Opened",linkType:"o"}}]},{id:"RL62260dc97361407f96ca49ebaded0b50",name:"Analytics | Missing Stays | Confirmation",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loyalty/myAccount/missingStayRequestconfirmation.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event103"}]}}}]},{id:"RL6249ca15d6c84c619859e85065d29bc2",name:"Analytics | Base Code | /reservation/ Pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:4}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{
trackerProperties:{eVars:[{name:"eVar15",type:"value",value:"%res_rate_is_member_rate%"}]}}}]},{id:"RL638ae641522d4e67b2bed791b1a73cda",name:"Delete Union Pay Cookies",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'document.cookie = "acts=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.com";\ndocument.cookie = "acti=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.com";\ndocument.cookie = "actn=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.com";\ndocument.cookie = "actis=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.com";\n\ndocument.cookie = "acts=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.co.jp";\ndocument.cookie = "acti=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.co.jp";\ndocument.cookie = "actn=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.co.jp";\ndocument.cookie = "actis=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.co.jp";\n\ndocument.cookie = "acts=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.co.kr";\ndocument.cookie = "acti=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.co.kr";\ndocument.cookie = "actn=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.co.kr";\ndocument.cookie = "actis=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.co.kr";\n\ndocument.cookie = "acts=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.co.uk";\ndocument.cookie = "acti=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.co.uk";\ndocument.cookie = "actn=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.co.uk";\ndocument.cookie = "actis=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.co.uk";\n\ndocument.cookie = "acts=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.com.au";\ndocument.cookie = "acti=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.com.au";\ndocument.cookie = "actn=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.com.au";\ndocument.cookie = "actis=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.com.au";\n\ndocument.cookie = "acts=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.com.br";\ndocument.cookie = "acti=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.com.br";\ndocument.cookie = "actn=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.com.br";\ndocument.cookie = "actis=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.com.br";\n\ndocument.cookie = "acts=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.com.cn";\ndocument.cookie = "acti=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.com.cn";\ndocument.cookie = "actn=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.com.cn";\ndocument.cookie = "actis=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.com.cn";\n\ndocument.cookie = "acts=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.com.ru";\ndocument.cookie = "acti=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.com.ru";\ndocument.cookie = "actn=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.com.ru";\ndocument.cookie = "actis=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.com.ru";\n\ndocument.cookie = "acts=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.de";\ndocument.cookie = "acti=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.de";\ndocument.cookie = "actn=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.de";\ndocument.cookie = "actis=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.de";\n\ndocument.cookie = "acts=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.fr";\ndocument.cookie = "acti=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.fr";\ndocument.cookie = "actn=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.fr";\ndocument.cookie = "actis=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.fr";\n\ndocument.cookie = "acts=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.it";\ndocument.cookie = "acti=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.it";\ndocument.cookie = "actn=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.it";\ndocument.cookie = "actis=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.it";\n\ndocument.cookie = "acts=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.pt";\ndocument.cookie = "acti=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.pt";\ndocument.cookie = "actn=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.pt";\ndocument.cookie = "actis=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=.marriott.pt";\n\ndocument.cookie = "acts=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=arabic.marriott.com";\ndocument.cookie = "acti=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=arabic.marriott.com";\ndocument.cookie = "actn=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=arabic.marriott.com";\ndocument.cookie = "actis=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=arabic.marriott.com";\n\ndocument.cookie = "acts=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=espanol.marriott.com";\ndocument.cookie = "acti=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=espanol.marriott.com";\ndocument.cookie = "actn=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=espanol.marriott.com";\ndocument.cookie = "actis=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=espanol.marriott.com";',language:"javascript"}}]},{id:"RL63cc631a5cdb488cba9497d1258e964e",name:"Core | inAuth | Select Pages Production",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/reviewDetails.mi",valueIsRegex:!0},{value:"/reservation/guestInfo.mi",valueIsRegex:!0},{value:"/reservation/findReservationDetail.mi",valueIsRegex:!0},{value:"/reservation/modifyRateListMenu.mi",valueIsRegex:!0},{value:"/reservation/upgradeReservation.mi",valueIsRegex:!0},{value:"/loyalty/myAccount/profile.mi",valueIsRegex:!0},{value:"/loyalty/findReservationList.mi",valueIsRegex:!0},{value:"/reservation/check-in-details.mi"}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%env_is_prod%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:" var BEACON_URL = \"https://prod.accdab.net/cdn/cs/Ot3wMe4ZV9na7wbD8CTqdosC3tU.js\";\n    var inAuthID = window.dataLayer.inAuthID;\n    var sessionId = window.dataLayer.sessionId;\n    var transactionId = \"mi_\" + sessionId;\n    var si = document.createElement('script');\n\n    if (inAuthID === undefined) {\n        si.setAttribute('type', 'text/javascript');\n        si.setAttribute('src', BEACON_URL);\n        si.setAttribute('dvct', '500');\n        si.setAttribute('sid', sessionId);\n        si.setAttribute('dvci', transactionId);\n        si.setAttribute('dvc', 'a');\n        si.setAttribute('id', 'bcn');\n    }\n\n    si.onload = function() {\n        if (inAuthID === undefined) {\n            registerCallback();\n        }\n    };\n\n    document.head.appendChild(si); \n\n    /* register the callback method */\n    function registerCallback() {\n\n        if (window._bcn.hasOwnProperty('dvc')) {\n             window._bcn.dvc.setSubmissionCallback(registeredCallBackMethod);\n        }\n    }\n\n \n\n    /* call back method that will be invoked when the transaction was successfully */\n    function registeredCallBackMethod() {\n\n        window.dataLayer.inAuthID = window._bcn.dvc.getTID();\n        var req = new XMLHttpRequest();\n        req.open('POST', '/aries-common/inAuthIdParam', true);\n        req.setRequestHeader('Content-Type', 'application/json');\n        req.send(JSON.stringify({\n            inAuthID: window.dataLayer.inAuthID\n        }));\n\n        console.log(\"Successfully added inAuthID [\" + transactionId + \"] to Session.\");\n\n    }",language:"javascript"}}]},{id:"RL669390d51aa84a5b8cce99c3a4809ae5",name:"Marketing | LinkedIn 17049748 | Programs Business Access Apply Now",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".m-button-primary.d-flex.m-button-external",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%page_pathname%",rightOperand:"/programs/business-access-by-marriott-bonvoy"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCbe52a3d97e2c46c2860a29fed6d9483b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL66c17375e3e54495adaed37b40780c48",name:"Marketing | Event Forwarding | Vendors Data - All",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"sendVendorData"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | Vendor Data | All%",data:"%EF - Third Party Data Object%",type:"web.webpagedetails.pageViews",instanceName:"alloy",edgeConfigOverrides:{development:{}}}}]},{id:"RL673dce44122345449366ac467cb0c78b",name:"Patch | Remove Roomkey Footer Link | All Pages",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCf1acac30875541c8a65f2419db1eb09a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL67bea7d9aae04a69b216be02c6f95b03",name:"Marketing | GA4 | Reservation Confirmation",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:40}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotMatchRegex"},leftOperand:"%env_site_id%",rightOperand:"CN|TW"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/confirmation.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"purchase",options:[["event_category","ecommerce"],["value","%res_revenue_total_locale%"],["dimension22","%search_date_check_in%"],["dimension23","%search_date_check_out%"],["dimension24","%search_day_check_in%"],["dimension25","%search_day_check_out%"],["dimension26","%search_is_weekend_stay%"],["dimension27","%res_room_nights_total%"],["dimension28","%search_advance_purchase_days%"],["dimension30","%search_number_guest%"],["dimension32","%search_date_type%"],["items","%items_on_purchase%"],["dimension19","%prop_name%"],["dimension20","%prop_brand_code%"],["dimension21","%prop_address_city_state_country%"],["dimension29","%res_rate_program%"],["dimension31","%res_cash_points_mix%"],["transaction_id","%res_confirmation_number_only%"],["currency","%res_revenue_currency_type%"],["coupon","%selected_cluster_code%"],["affiliation","room_booking"],["dimension40","%res_payment_type%"],["dimension41","%isTravelAgent%"],["metric1","1"],["metric2","%res_room_nights_total%"],["dimension54","%currency_conversion_status%"],["metric8","%res_revenue_stay_total_usd%"],["metric9","%res_revenue_stay_total_adr%"],["metric10","%res_total_points_for_stay%"]],accounts:{1727890546729:{enabled:!0}},callback:null}}]},{id:"RL69bb9c5e2ae447cfbc867708a4426735",name:"Marketing | Verizon | Booking Conf",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/confirmation.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC5f12b71f8edf42e7a0036d173a134193-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6a6e6a13550c42d5bb6737a28778d738",name:"Marketing | Facebook | AmexCreditCard Apply Now",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".card-overview-bordered a.custom_click_track",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".m-button-s.mt-auto",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".m-link-tertiary-button-external",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/credit-cards/american-express-credit-cards",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCab64bf5242384864ac15581a1e9665d9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6a925304f9214cf581bf9942f8fe2b98",name:"Marketing | Floodlight | Join Now",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page_pathname%",rightOperand:"/loyalty/createAccount/createAccountPage1.mi"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCe401a767e13746909c291c20f91f762b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6aafaad04cf646449f7ce19af067abd1",name:"Analytics | Base Code | Search",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:4}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels.mi",valueIsRegex:!0},{value:"/search/filterSearch.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){0!=_satellite.getVar("search_dates_flexible")&&"false"!=_satellite.getVar("search_dates_flexible")||(t.evar17=_satellite.getVar("search_google_places_destination"),t.eVar26=_satellite.getVar("res_stay_length"),t.eVar71=_satellite.getVar("search_impression_criteria2"),t.eVar148=_satellite.getVar("res_num_adults"),t.eVar149=_satellite.getVar("res_num_children"),t.eVar150=_satellite.getVar("search_currency_type"),t.prop33=_satellite.getVar("search_results_view"),t.events=t.apl(t.events,"event204="+_satellite.getVar("res_num_children"),",",1),t.events=t.apl(t.events,"event203="+_satellite.getVar("res_num_adults"),",",1),"true"==_satellite.getVar("search_availability_search")&&(t.events=t.apl(t.events,"event3",",",1),t.events=t.apl(t.events,"event212",",",1),t.events=t.events?t.events+",event3":"event3"))}},trackerProperties:{eVars:[{name:"eVar2",type:"value",value:"%search_is_weekend_stay%"},{name:"eVar4",type:"value",value:"%search_cluster_code%"},{name:"eVar10",type:"value",value:"%search_date_check_in_day_of_week%"},{name:"eVar12",type:"value",value:"%search_destination_city_state_country%"},{name:"eVar14",type:"value",value:"%search_filter_type%"},{name:"eVar17",type:"value",value:"%search_google_places_destination%"},{name:"eVar26",type:"value",value:"%Length%"},{name:"eVar29",type:"value",value:"%Advance Purchase Window%"},{name:"eVar69",type:"value",value:"%search_impression_criteria2_currency%"},{name:"eVar70",type:"value",value:"%search_list_marshas_on_page%"},{name:"eVar93",type:"value",value:"%search_date_type%"},{name:"eVar131",type:"value",value:"%search_number_of_rates_submitted%"},{name:"eVar135",type:"value",value:"%search_rate_types%"},{name:"eVar151",type:"value",value:"%search_keyword%"},{name:"eVar161",type:"value",value:"Selected Filter:%search_criteria_filter_selected_ids%"},{name:"eVar168",type:"value",value:"%search_show_available_hotels%"},{name:"eVar222",type:"value",value:"%search_destination_type%"}],props:[{name:"prop16",type:"value",value:"%res_rooms_per_night%"},{name:"prop17",type:"value",value:"%search_date_check_in%"},{name:"prop18",type:"value",value:"%search_date_check_out%"},{name:"prop23",type:"value",value:"%search_list_setting_sort_order%"},{name:"prop33",type:"value",value:"%search_results_view%"},{name:"prop34",type:"value",value:"%search_list_records_total%"},{name:"prop66",type:"value",value:"%search_impression_criteria3%"}]}}}]},{id:"RL6b01b6ad7d3c4fc788dceef8323afacc",name:"Marketing | Innovid | All Pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCb737c1899d834e219eb5febb1fa4cb19-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6b5d837d38d24722876d6ed101aadc3c",name:"Analytics | Modify | Reservation Confirmation",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"(\\/reservation\\/changeConfirmation.mi|\\/reservation\\/upcomingReservation.mi)",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%res_change_type%",rightOperand:"Modification"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.products=";"+_satellite.getVar("prop_marsha_code")+";;"}},trackerProperties:{eVars:[{name:"eVar18",type:"value",value:"%messaging_upsell_display_count%"},{name:"eVar143",type:"value",value:"%prop_brand_name%"},{name:"eVar144",type:"value",value:"%prop_brand_tier%"}],props:[{name:"prop9",type:"value",value:"%res_change_conf%"}],events:[{name:"event214"},{name:"event406"}]}}}]},{id:"RL6b656e0aa70c49d8a18eb26c4f0ba569",name:"Analytics | Page Top | TSTheErasTour.mi",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"(/loyalty/sweepstakes/TSTheErasTour.mi)",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{"success"==dataLayer.sweepstakes_form_stat&&(t.events=t.apl(t.events,"event145")),"entry"==dataLayer.sweepstakes_form_stat&&"true"==dataLayer.mr_enrolled&&(t.events=t.apl(t.events,"event19"))}catch(e){_satellite.logger.error("Error from TSEras Launch Rule : "+e.message)}}},trackerProperties:{eVars:[{name:"eVar153",type:"value",value:"%mr_enrollment_source%"}]}}}]},{id:"RL6c82424a04bc4534a39587d2e1c9ea67",name:"HWS|Offers|mbox",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/offers.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCd45f91a59b004e28afa4679f5303fd67-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6d87534761264fabab602232286f040e",name:"Marketing | Floodlight | Booking Conf - MEA",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:2}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/confirmation.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCa2f9e1909f8c4d11bd7b0ee9e0ccbb67-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6ecc626511774b59861a45f7c1ba5d9b",name:"Analytics | Review Details | Points",events:[{modulePath:"core/src/lib/events/entersViewport.js",settings:{frequency:"firstEntry",elementSelector:".pts-modal__content"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/reviewDetails.mi"}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{props:[{name:"prop20",type:"value",value:"Points ResPath Modal"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}}]},{id:"RL6ef93139aa5449498995b2041b346014",name:"Core | Blue Triangle | js error top of page",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:5}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'try{window.performance.setResourceTimingBufferSize(400)}catch(e){}try{var _bttErrorListener=_bttErrorListener||function(b,c){var d=[],e=[];b.addEventListener&&b.addEventListener("error",function(a){"undefined"==typeof _bttErr?d.push(a):_bttErr.capture(a.message,a.filename,a.lineno,a.colno,a.error)});c.addEventListener&&c.addEventListener("securitypolicyviolation",function(a){"undefined"==typeof _bttErr?e.push([a.blockedURI,a.lineNumber,+new Date,a.sourceFile,a.disposition]):_bttErr.captSec(a.blockedURI,a.lineNumber,+new Date,a.sourceFile,a.disposition)});return{get:function(a){return"a"==a?d:e}}}(window,document)}catch(b){_bttErrorListener=void 0};',language:"javascript"}}]},{id:"RL6f69cadbafd346c68cd5192c2bbd8b86",name:"Analytics | Offers Matched | Confirmation",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/confirmation",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){function a(e){r(e,"",-1)}function r(e,t){document.cookie=e+"="+t+";path=/;"}function n(e){for(var t=e+"=",a=document.cookie.split(";"),r=0;r<a.length;r++){for(var n=a[r];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return null}var s=n("ngopCookie"),o="";""===(o=_satellite.getVar("promo_special_offer_id"))&&(o=sessionStorage.getItem("NGOPOfferID"));var i=_satellite.getVar("search_cluster_code"),c="No Offer ID";null!==s&&""!==s&&(c=s===o+"-"+i?"Matched":"Not Matched"),t.linkTrackVars="eVar58",t.eVar58=c,null!=n("ngopCookie")&&a("ngopCookie")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Offer Match Check",linkType:"o"}}]},{id:"RL6fe3cf8f918745c1b9bdb67af2497531",name:"Marketing | Facebook | GB Credit Card",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".m-button-primary.custom_click_track",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-gb/credit-cards",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCd9d5a77dffe444f49eec4f46a01977b4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL706dd1a4ecc34823a6ab4e136fbcb91d",name:"Analytics | Modal clickTracking | All pages | Phoenix Platform",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"spaTrigger"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%env_platform%",rightOperand:"Phoenix"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC4b1b8da8d7784647b26d828505d3aadb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL708803885c07484f846e69d79555e912",name:"Marketing | Conversant | RFP Confirmation",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/rfp/submitted.mi",valueIsRegex:!0},{value:"/meetings-events/rfp/event-info-submitted.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual"},leftOperand:"%env_site_id%",rightOperand:"US"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCad2b2ad75781489eaa12e7c041a8aaa7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL719bcc23ed8e4a048913ed8892c28851",name:"Core | Medallia | All pages",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status_analytics%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status_functional%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'/* Rule Id: 2772727 */\n/* Rule Id: 2771416 */\nvar header = document.getElementsByTagName(\'head\').item(0);\n\n//Adding Medallia Script Tag\nmedalliaSrc = "//resources.digital-cloud.medallia.com/wdcus/1745/onsite/embed.js";\nmedallia = document.createElement(\'script\');\nmedallia.src = medalliaSrc;\nmedallia.setAttribute("async", "true");\nmedallia.setAttribute("type", "text/javascript");\nheader.appendChild(medallia);',language:"javascript"}}]},{id:"RL71bb30cdb59f4e17a3e54c9eef484251",name:"Marketing | Floodlight 1359549 | Taylor Swift Landing Page",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".marriott-unauthenticated .custom_click_track",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/offers/packages/taylor-swift-tour-sweepstakes",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCd7d690df4c8a45b28385e085fd6c5a52-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL735e1ed3754947f8a7c96e114f2d5d59",name:"Analytics | Page Load | Base Login Variables",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%mr_prof_authentication_state%",rightOperand:"authenticated"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar3",type:"value",value:"%mr_prof_third_party_code%"},{name:"eVar80",type:"value",value:"%mr_prof_stay_in_progress%"}],events:[{name:"event8"}]}}}]},{id:"RL73825765288c45a9bb87057f850f1483",name:"Core | Glassbox | All Domain PROD",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"reservation/creditCardInfo.mi",valueIsRegex:!0},{value:"reservation/creditCardInfoReviewDetails.mi",valueIsRegex:!0},{value:"reservation/confirmation.mi",valueIsRegex:!0}]},negate:!0},{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"_satellite.buildInfo.environment",value:"production"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status_analytics%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC3786a4d095ec476385f685f6c76b507f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL73ed513094ba4ace9acd8300bea6401a",name:"Marketing | Facebook | Loyalty The Eras Tour Successful Enroll",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loyalty/sweepstakes/TSTheErasTour.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%page_referrer%",rightOperand:"/loyalty/myAccount/sweepstakes/gen-otp.mi"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC38c7bdd76dc64944a0380a92b8107d8e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL73f3ca282db1420aa29278e7723269ed",name:"Marketing | Pinterest | AmexCreditCard Apply Now",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".card-overview-bordered a.custom_click_track",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".m-button-s.mt-auto",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".m-link-tertiary-button-external",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/credit-cards/american-express-credit-cards",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCc762584dd2a74a89b9b1aa616b7ba544-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL74ad81ab1b6a46bd8e2a03db24a55637",name:"Marketing | Floodlight | Adara Conf ",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/confirmation.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{
modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!0,t=_satellite.getVar("browser_akamai_loc_state").toLowerCase(),a=_satellite.getVar("mr_prof_address_state").toLowerCase();return void 0!==t&&("california"!==t&&"virginia"!==t&&"nevada"!==t&&"utah"!==t&&"iowa"!==t&&"ca"!==t&&"va"!==t&&"nv"!==t&&"ut"!==t&&"ia"!==t||(e=!1)),e&&void 0!==a&&("ca"!==a&&"va"!==a&&"nv"!==a&&"ut"!==a&&"ia"!==a||(e=!1)),e}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC3561e2372ce949fb8981678eef13ffec-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL74c1ef6ee00d4ba58552fa577b7e3b91",name:"Analytics | Click Tracking | Group Pages Add Attachment",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/rfp/submitted.mi",valueIsRegex:!0},{value:"/meetings-events/rfp/event-info-submitted",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){$(".tile-attachment-summary p").length>1&&(t.events="event232")}},trackerProperties:{}}}]},{id:"RL74c3bf963d024143acec396155abc324",name:"Marketing | Floodlight | RFP Submitted 1359549",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/rfp/submitted",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/hash.js",settings:{hashes:[{value:"\\d",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC89c7bfd0c0574cebbcb631520a35240c-source.min.js",language:"html",isExternal:!0}}]},{id:"RL750fa9b2448e4d9992a8cd3e4b7169d7",name:"Marketing | Floodlight 1359549 | Sign In The Eras Tour",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loyalty/sweepstakes/TSTheErasTour.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%page_referrer%",rightOperand:"/sign-in"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCe89e25ee565e449485159e7c37aa3296-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7512c50fb40e43a586895e69ed373a06",name:"Marketing | Bing UET | Confirmation",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/confirmation.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCfa81f5d6997544d887ba0b8dbceb1515-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL75408d29beba43ecafe1ad0e8932053a",name:"Analytics | Confirmation | Booking inline Enroll",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/confirmation.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%mr_enrolled%",rightOperand:"true"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event19"}]}}}]},{id:"RL75b922bc4f5f40038ab945c159a57762",name:"Marketing | Floodlight 1359549 & 924374711 | All pages",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"marketing_tags_early"},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCf8e4fbee8b8a47c7955cc5c4b057be26-source.min.js",language:"html",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC17292660a9cd4f27b2289a8ff0d9ed75-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL762229216813440196c6664a9f60faf7",name:"Marketing | Floodlight 1359549 | Credit Card KR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%env_site_id%",rightOperand:"KR"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/credit-cards.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC05e0c6633fa1476fb7ffb044b6cf0b04-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7746e577efe54adcab55fae9c9be6d0a",name:"Marketing | KaKao | Confirmation Page",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/confirmation.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC4a1baa304d354cd59393962f42b2b17d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL786893a6a2a14a43b45f044de7415c01",name:"Marketing | GA4 | Hotel Search View Rates",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".js-view-rate-btn-link",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotMatchRegex"},leftOperand:"%env_site_id%",rightOperand:"CN|TW"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=[{id:this.getAttribute("data-custom-marshacode"),list_position:this.closest(".property-record-item").getAttribute("data-pnum")}];return _satellite.setVar("itemValue",e),!0}}}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"select_content",options:[["event_category","ecommerce"],["dimension22","%search_date_check_in%"],["dimension23","%search_date_check_out%"],["dimension24","%search_day_check_in%"],["dimension25","%search_day_check_out%"],["dimension26","%search_is_weekend_stay%"],["dimension27","%res_room_nights_total%"],["dimension28","%search_advance_purchase_days%"],["dimension30","%search_number_guest%"],["dimension32","%search_date_type%"],["items","%itemValue%"]],accounts:{1727890546729:{enabled:!0}},callback:null}}]},{id:"RL78a98e4095754a42bd832ce69929e4dc",name:"Core | HWS  Hide About Ownership Link | Temp",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"^/hotels/",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%prop_marsha_code%",rightOperand:"PBISP|PSPWD|PSPWM|PBISV|MCOSV|MCOSE|MYRSB|PHXSO|HDNSS|EGESL|EGESM|LIHSU|LIHWP|OGGWO|OGGWN|OGGWS|CUNWL|CUNWV|CUNWO|SJDWV|SJDWB|STTWJ|PHXWK|LIHSU|EGEWR"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%env_platform%",rightOperand:"ram"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<style>\n  a[href^="/hotels/buy-timeshare"] { visibility: hidden; }\n</style>',language:"html"}}]},{id:"RL799ac9b018624980bd421a8541ba5f8c",name:"Analytics | Contact Us | Submission ",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/marriott/confirmation.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar195",type:"value",value:"%contact_topic%"},{name:"eVar196",type:"value",value:"%contact_subtopic%"},{name:"eVar197",type:"value",value:"%contact_prop_marsha_code%"}]}}}]},{id:"RL79a0b8a2a7414842afd190d00f509f50",name:"Marketing | Facebook | Send OTP Loyalty The Eras Tour",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".js-continue-otp",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loyalty/myAccount/sweepstakes/send-otp-challenge.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC629fed358b964aa081b5ce084168c90c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL79f33467dedb4331a49705ccbf0de0a3",name:"Marketing | Linkedin | Meeting Event Vision Commitment",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meeting-event-hotels/group-reservations/your-vision-our-commitment.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC85cb9ddba22841cfa78b825e90c7b00d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7bf1647a7cf8493698f1922a3fd3d39b",name:"Marketing | Facebook B2BSMBApplyNow | Programs Business Access Apply Now",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".bannertext_button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%page_pathname%",rightOperand:"/programs/business-access-by-marriott-bonvoy"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC39c4bd29320149a0aea88970836d7c9e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7c0eb4235abe47898608a9d22a05451e",name:"MBOP|APOOutletMbox",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ancillary-details .apoOutletCTA",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC59fc77e86bf64220840b2574504dcc15-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7d5d50af80a246a68118734bf108c00a",name:"Analytics | RLM 2.0 Test View Hide Rates Click Listener",events:[{modulePath:"core/src/lib/events/elementExists.js",settings:{elementSelector:'[data-testid="rate-button"]'},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"rateListMenu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCf688b6a5f5c0451aab4161b7d0c5711e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7dbbf5755cdf400b980882bdf35ce0a6",name:"Marketing | Floodlight | RateList",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/rateListMenu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC209c6774db9b499e981bae54922a1a12-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7ea67182a0d74a1e827d9b5baea23210",name:"Qualtrics",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%env_is_prod%",rightOperand:"false"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC30bec2d5afc04d60b17e043caf951278-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7ebe1c9d3a6b49228d96bf1322f0b07c",name:"Marketing | Floodlight | Promo Join Confirmation New Members",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loyalty/join/joinConfirmationPromotion.mi",valueIsRegex:!0},{value:"%3loyalty%3join%3joinConfirmationPromotion.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC3c0fbf07ae924c90b350e1ee1d581f3d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7ef3cd0a7101461184e6b9181acec413",name:"Analytics | Hotelquickview | Direct Call",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"hotelquickview"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.pageName=e.detail.pagename,t.products=";"+e.detail.marsha+";;"}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}}]},{id:"RL805901b670c14913998fac4fac662ad7",name:"Marketing | Jivox | Hotels and Ratelist Script",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/hotels",valueIsRegex:!0},{value:"reservation/rateListMenu.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC83a3107d100b41f1a3a298afc688f2ce-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL81e738abd2a74360aec93513fecd440c",name:"Analytics | Search & Ratelist | Show Tax ",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/search/filterSearch.mi",valueIsRegex:!0},{value:"/reservation/rateListMenu.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/queryStringParameter.js",settings:{name:"showFullPrice",value:"true"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.eVar1="uri="+window.location.hostname+window.location.pathname+":loc=header:linkDescription=Full Price Display - Enabled"}},trackerProperties:{events:[{name:"event2"}]}}}]},{id:"RL82a581399b8d42809a6f34061806668e",name:"Marketing | Hook Logic | Rate List",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/rateListMenu.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"\n  var ensVar0 = _satellite.getVar(\"page_domain_name\")\n\n  var ensVar1 = \"hotel&tm_hmGUID=\" + _satellite.getVar(\"hooklogic_hmGUID\");\n\n  var ensVar2 = _satellite.getVar(\"cookie_personalization_guid\");\n\n  var ensVar3 = _satellite.getVar(\"search_destination_city_state_country\");\n\n  var ensVar4 = _satellite.getVar(\"prop_marsha_code\");\n\n  var ensVar5 = _satellite.getVar(\"search_date_check_in\");\n\n  var ensVar6 = _satellite.getVar(\"search_date_check_out\");\n\n  var ensVar7 = _satellite.getVar(\"device_language_preferred\");\n\n  var ensVar8 = _satellite.getVar(\"prop_currency_type\")\n\n  var ensVar9 = _satellite.getVar(\"prop_address_city\");\n\n  var ensVar10 = _satellite.getVar(\"res_rooms_per_night\");\n\n  var ensVar11 = _satellite.getVar(\"search_guests_per_room\");\n\n  var ensVar12 = _satellite.getVar(\"\");\n\n  var ensVar13 = _satellite.getVar(\"res_rooms_per_night\");\n\n  var ensVar14 = _satellite.getVar(\"gclid_query\");\n\n\n  var clientName = 'Marriott&ProgramId=3';\n  var domain = ensVar0;\n  var tripType = ensVar1;\n  var pageName = 'rez.ratelist';\n  var userGuid = ensVar2;\n  var destRegion = ensVar3;\n  var hotelID = ensVar4;\n  var checkIn = ensVar5;\n  var checkOut = ensVar6;\n  var culture = ensVar7;\n  var currency = ensVar8;\n  var trafficType = '';\n  var traficID = '';\n  var testVersion = '';\n  var destTLA = '';\n  var destCity = ensVar9;\n  var rooms = ensVar10;\n  var adults = ensVar11;\n  var children = '';\n  var userIP = ensVar12;\n  var roomNights = ensVar13;\n  var gclid = ensVar14;\n\n  var source = '//' + 'beam.koddi.com/travel?action=pageView&clientName=' + clientName + '&domain=' + domain + '&tripType=' + tripType + '&pageName=' + pageName + '&userGuid=' + userGuid + '&destRegion=' + destRegion + '&hotelId=' + hotelID + '&checkIn=' + checkIn + '&checkOut=' + checkOut;\n  source += culture ? '&culture=' + culture : '';\n  source += currency ? '&currency=' + currency : '';\n  source += trafficType ? '&trafficOriginType=' + trafficType : '';\n  source += traficID ? '&trafficOrginId=' + traficID : '';\n  source += testVersion ? '&testVersion=' + testVersion : '';\n  source += destTLA ? '&destTLA=' + destTLA : '';\n  source += destCity ? '&destCity=' + destCity : '';\n  source += rooms ? '&rooms=' + rooms : '';\n  source += adults ? '&adults=' + adults : '';\n  source += children ? '&children=' + children : '';\n  source += userIP ? '&userIP=' + userIP : '';\n  source += gclid ? '&gclid=' + gclid : '';\n  source += roomNights ? '&room_nights=' + roomNights : '';\n  source += '&userAgent=' + navigator.userAgent;\n\n  launchImage(source);\n",language:"javascript"}}]},{id:"RL82e576f91d084ecca6fbf20c5ab632dc",name:"Marketing | Line | Booking Funnel",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels.mi",valueIsRegex:!0},{value:"/reservation/availabilityCalendar.mi",valueIsRegex:!0},{value:"/reservation/rateListMenu.mi",valueIsRegex:!0},{value:"/reservation/reviewDetails.mi",valueIsRegex:!0},{value:"/reservation/guestInfo.mi",valueIsRegex:!0},{value:"/reservation/confirmation.mi",valueIsRegex:!0},{value:"/default.mi",valueIsRegex:!0},{value:"/reservation/reviewguestinformation",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCe699ae8b3eb44d21820121253b71fdec-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8300f8f73ff7494081827879ac53516d",name:"Marketing | Facebook | HWS and Ratelist",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/hotels/",valueIsRegex:!0},{value:"/reservation/rateListMenu",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=!0;return-1!==location.hostname.indexOf(".cn")&&(e=!1),e}}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual",caseInsensitive:!0},leftOperand:"%browser_akamai_loc_country%",rightOperand:"CN"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC86d702f119754e05bf38250274642375-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL835e81dfb9094d7ab661eb4ef983312d",name:"Marketing | Epsilon | RFP Event Detail Continue",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".m-button-primary.m-button-m.continue-cta",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/rfp/event-details.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC1f89ccb6d571446fbd601b4c13b3aae6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL83ebc019bede47fa8d34e37b9a8afa2e",name:"Marketing | Yahoo JP | Search Confirmation Page Conversion Pixel",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%env_site_id%",rightOperand:"JP"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/confirmation",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC879f2fb018204a688e6f45fe29af7b46-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL83ed614bc561430c9e405a525780b9da",name:"Marketing | Floodlight 1359549 | RLM page",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/rateListMenu.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC295b976d0aad4076acb7bf545cafd55a-source.min.js",language:"html",isExternal:!0}}]},{id:"RL86c0460adf9d496c98f502d4a1a6b0dc",name:"Marketing | Floodlight 1359549 | Cancellation page",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/confirmReservationCancellation.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCf0ab6c3517784e64871b33521b603d14-source.min.js",language:"html",isExternal:!0}}]},{id:"RL87c6d699cc2f44c5bf31ccc6a48e8633",name:"Marketing | Google Adword 800070873 | Booking Confirmation",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/confirmation.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<script>\n\n    gtag('event', 'conversion', { \n      'send_to': 'AW-800070873/rzveCJPrteYBENm5wP0C',\n      'value': _satellite.getVar('res_revenue_stay_total_usd_api_conversion_error_default'),\n    }); \n\n</script>",language:"html"}}]},{id:"RL89f85397df544ab49dd3a8bbdd1e6a12",name:"Marketing | Bing UET | Create Account Facebook Button",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#social-join-now",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loyalty/createAccount/createAccountPage1.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"bing-ads-extension/src/lib/actions/customEventNew.js",settings:{event_action:"Facebook Link Clicked"}}]},{id:"RL8b851032dee944e6bc486daa8f385e4b",name:"Core | Blue Triangle | All Pages",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/queryStringParameter.js",settings:{name:"blueTriangle",value:"false"},negate:!0},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%page_domain_name%",rightOperand:"uat01"},negate:!0},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status_analytics%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCd8ebd9ed6bce49d39cf650b296aea02e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8bb2ce4f43584ed58dd1d4772e4290d8",name:"Analytics | Search & Ratelist | Hide Tax",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/search/filterSearch.mi",valueIsRegex:!0},{value:"/reservation/rateListMenu.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/queryStringParameter.js",settings:{name:"showFullPrice",value:"false"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.eVar1="uri="+window.location.hostname+window.location.pathname+":loc=header:linkDescription=Full Price Display - Disabled"}},trackerProperties:{events:[{name:"event2"}]}}}]},{id:"RL8d0fb1d0f65442748866a1675eac03e2",name:"Marketing | Jivox (jvxpxl.marriott)| Confirmation Pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/confirmation.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCac2a6988e5a042578be8889cd024ab14-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8d7dbb4aadd7401d998512988d13db94",name:"Analytics | Click Tracking | Modal Window Rate List page",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".js-photo-gallery  .m-photo-container picture",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".t-icon-gallery",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/rateListMenu.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar143",type:"value",value:"%prop_brand_name%"},{name:"eVar144",type:"value",value:"%prop_brand_tier%"}],props:[{name:"prop20",type:"value",value:"%Guest Room Photos%"}],events:[{name:"event24"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%Guest Room Photos%",linkType:"o"}}]},{id:"RL8e4b4c94a84043f6b94a1d155deb1153",name:"Analytics | clickTracking | Review Details",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".l-hotel-image-new",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/reviewDetails.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.products=";"+_satellite.getVar("prop_marsha_code")+";;"}},trackerProperties:{eVars:[{name:"eVar143",type:"value",value:"%prop_brand_name%"},{name:"eVar144",type:"value",value:"%prop_brand_tier%"}],props:[{name:"prop20",type:"value",value:"%Guest Room Photos%"}],events:[{name:"event24"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%Guest Room Photos%",linkType:"o"}}]},{id:"RL8ebccdfa576c48a482d39c20a745cb24",name:"Marketing | Jivox | Search Pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC7b7d31a4b83448e0a5d41cc7c07d4d91-source.min.js",language:"javascript",isExternal:!0}}]},{
id:"RL8f008be0260449259bdeaa30643d4cfd",name:"Analytics | Page Load Call | Base Variables (Phoenix - SERP - GROUPS)",events:[{modulePath:"core/src/lib/events/elementExists.js",settings:{elementSelector:"div.success-modal"},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"page_ready_counter"},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!1,t=location.pathname;return void 0!==t&&null!=t&&""!=t&&(t.includes("/meetings-events/")||t.includes("/roominglist/")||t.includes("/meetings-events/rfp/"))&&(e=!0),e}}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%env_platform%",rightOperand:"phoenix"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/search/find-hotels.mi",valueIsRegex:!0},{value:"/meetings-events/group-booking-phx/submitted.mi",valueIsRegex:!0},{value:"/meetings-events/group-booking/guest-rooms.mi",valueIsRegex:!0},{value:"/meetings-events/group-booking/submitted.mi",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{"smetrics.marriott.com"!=t.trackingServerSecure&&(_satellite.track("s_test"),console.log(t))}catch(e){_satellite.track("s_test"),console.log(t)}var a=dataLayer.search_filters_applied;t.list1=a,_satellite.logger.warn("KKKKKK search_is_weekend_stay = "+_satellite.getVar("search_is_weekend_stay")+" search_date_check_in_day_of_week = "+_satellite.getVar("search_date_check_in_day_of_week")+" prop_marsha_code = "+_satellite.getVar("prop_marsha_code")),t.contextData["dtm.no_block"]="true",t.prop71=_satellite.property.name,"authenticated"==_satellite.getVar("mr_prof_authentication_state")?t.eVar22="logged in":"unauthenticated"==_satellite.getVar("mr_prof_authentication_state")&&(t.eVar22="unauthenticated"),"/logout.mi"==location.pathname&&(t.eVar22="logged out"),void 0===_satellite.getVar("prop_marsha_code")||""==_satellite.getVar("prop_marsha_code")||window.location.pathname.includes("/reservation/confirmation.mi")?void 0!==_satellite.getVar("group_marsha_list")&&""!=_satellite.getVar("group_marsha_list")&&window.location.pathname.includes("/meetings-events/")&&(t.products=";"+_satellite.getVar("group_marsha_list")+";;"):t.products=";"+_satellite.getVar("prop_marsha_code")+";;";let r=!1,n=dataLayer.group_search_results_properties;if(void 0!==n)for(var s=0;s<n.length;s++)n[s].includes("QG")&&(r=!0);r&&location.pathname.indexOf("/search/findHotels.mi")>-1&&(t.events=t.apl(t.events,"event15",",",1)),navigator.userAgent.indexOf("iPhone")>-1&&(t.eVar78=screen.width+"x"+screen.height),void 0===_satellite.getVar("mr_prof_ic_approved")||"Chase_Boundless"!=_satellite.getVar("mr_prof_ic_approved")&&"Chase_Bold"!=_satellite.getVar("mr_prof_ic_approved")&&"Amex_Brilliant"!=_satellite.getVar("mr_prof_ic_approved")&&"Amex_Business"!=_satellite.getVar("mr_prof_ic_approved")||(console.log("eVar156 should be approved"),t.eVar156="Approved");var o=window.mvpOffers&&window.mvpOffers.source?window.mvpOffers.source:"";if(""!=o&&(t.eVar212=o),!t.eVar31){t.Util.getQueryParam("pid")&&(t.eVar31=t.Util.getQueryParam("pid")),!t.eVar31&&t.Util.getQueryParam("affname")&&(t.eVar31="affname="+t.Util.getQueryParam("affname"));var i=t.Util.cookieRead("Affname");!t.eVar31&&i&&(i=i.split("|")[0].replace(/pid=/gi,""))&&(t.eVar31=i)}"undefined"!=typeof dataLayer&&window.dataLayer.search_destination_city&&window.dataLayer.search_destination_state&&(t.linkTrackVars="eVar12",t.eVar12=dataLayer.search_destination_city+":"+dataLayer.search_destination_state+":"+dataLayer.search_destination_country)}},trackerProperties:{eVars:[{name:"eVar2",type:"value",value:"%search_is_weekend_stay%"},{name:"eVar9",type:"value",value:"%mr_prof_member_program_level%"},{name:"eVar10",type:"value",value:"%search_date_check_in_day_of_week%"},{name:"eVar17",type:"value",value:"%search_google_places_destination%"},{name:"eVar22",type:"value",value:"%mr_prof_authentication_state%"},{name:"eVar26",type:"value",value:"%res_stay_length%"},{name:"eVar33",type:"value",value:"%group_event_type%"},{name:"eVar34",type:"value",value:"%group_room_attendee_count%"},{name:"eVar41",type:"value",value:"%env_site_id%"},{name:"eVar95",type:"value",value:"%mr_id_alternate_filtered%"},{name:"eVar109",type:"value",value:"%mr_prof_cc_all%"},{name:"eVar139",type:"value",value:"%mr_prof_address_country%"},{name:"eVar140",type:"value",value:"%mr_prof_address_state%"},{name:"eVar191",type:"value",value:"%mr_prof_address_city%"},{name:"eVar235",type:"value",value:"%Glassbox_unionID%"},{name:"eVar238",type:"value",value:"%cookie_segmentID%"}],props:[{name:"prop16",type:"value",value:"%res_rooms_per_night%"},{name:"prop17",type:"value",value:"%search_date_check_in%"},{name:"prop18",type:"value",value:"%search_date_check_out%"},{name:"prop21",type:"value",value:"%group_search_options%"},{name:"prop25",type:"value",value:"%env_server_id%"},{name:"prop26",type:"value",value:"%env_platform%"},{name:"prop48",type:"value",value:"%env_analytics_code_version%"},{name:"prop56",type:"value",value:"%session_jsession_id%"},{name:"prop69",type:"value",value:"%group_qg_rfp_serp_summary%"}],events:[{name:"event211"}],pageName:"%Adobe Pagename%"}}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC02d5c0341261465daff7f3ed6b4d5595-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8fae22742b8946939d94d9f561a2aab3",name:"Marketing | Jivox | All Pages Except Conf",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!window.location.pathname.includes("/reservation/confirmation")}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC93edfd1c8e984432a5fa7920fa3df3e8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL91ffab28814d42b99bb70cfcb6ca4bd5",name:"Marketing | Dotomi Conversant | Search Find hotels",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".analytics-click.js-is-roomkey-enabled",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual"},leftOperand:"%env_site_id%",rightOperand:"US"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC88d342fce5884512967c951137c79ee1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9235d79e644d4cf0b46e16e472ad5789",name:"Marketing | Tradedesk | Search Pages and Property Pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels.mi",valueIsRegex:!0},{value:"/hotels/travel/",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCcf0467018b9f464882e9e4412815e2bc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL92b32925717b434b969fc063e7c3ba83",name:"Marketing | Floodlight gtag | Taylor Swift ",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".tw-text-center.tw-leading-none",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/offers/packages/taylor-swift-tour-sweepstakes.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"conversion",options:[],accounts:{1570639551011:{label:"DC-1359549/offers/emea_00+standard",enabled:!0}},callback:null}}]},{id:"RL93a8f2ebe2234c7f88417335f5829517",name:"Areis | Analytics | ERS | Filters",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"appliedfilter"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCbc604fef5de0490c8bc6ddf41927f9b5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL93b9dbc3e7e74e6387f6552d8ad1ed3f",name:"Marketing | Floodlight | Promo SN4 Join Confirmation New Members",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loyalty/join/joinConfirmationPromotion.mi",valueIsRegex:!0},{value:"%3loyalty%3join%3joinConfirmationPromotion.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC5a19d6a7ed6c4fab834ecd3812603d7b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL949c37279ac44afd9bcc2a6f08d29280",name:"NGOP_MDL_FIX",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/hotels/hotel-deals/details/",valueIsRegex:!0},{value:"/specials/mesOffer.mi",valueIsRegex:!0},{value:"/reservation/reviewDetails.mi",valueIsRegex:!0},{value:"/reservation/confirmation.mi",valueIsRegex:!0},{value:"^/offers/",valueIsRegex:!0},{value:"/offers/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'function waitForPageContext() {\n\tvar pageContext = $("[name=\'pageContext\']").text();\n    if (typeof pageContext !== "undefined") {\n    var offerContext = JSON.parse($("[name=\'pageContext\']").text());\n    var marrOfferId = offerContext.marrOfferId;\n\n    var theCorpCode = $(\'input[name=corporateCode]\').val();\n\n    if(marrOfferId != undefined && marrOfferId != ""){\n      window.dataLayer.promo_special_offer_id  = marrOfferId;\n      if(theCorpCode != undefined && theCorpCode != ""){\n        window.dataLayer.search_cluster_code = theCorpCode;\n       \n      }\n      sessionStorage.setItem("NGOPOfferID", marrOfferId);\n\t  console.log("NGOP setting NGOPOfferID = "+sessionStorage.getItem("NGOPOfferID") );\t  \n    }  \n\n  var pathName = location.pathname;\n  if(pathName.indexOf("/reservation/reviewDetails") != -1){\n    var ISNGOP = sessionStorage.getItem("ISNGOP");\n    var roomRateTab = window.dataLayer.res_room_rate_tab;\n    //console.log("roomRateTab-----"+roomRateTab);\n      if(ISNGOP != undefined && ISNGOP == "true" && roomRateTab.indexOf(\'Special Rate\') == -1){\n        //console.log("Not Special Rate-----");\n        sessionStorage.setItem("NGOPOfferID", "");\n        console.log("NGOP setting NGOPOfferID = "+sessionStorage.getItem("NGOPOfferID"));\n      }\n  }\n\n  if(pathName.indexOf("/reservation/confirmation") != -1){\n    var ISNGOP = sessionStorage.getItem("ISNGOP");\n    if(ISNGOP != undefined && ISNGOP == "true" && sessionStorage.getItem("NGOPOfferID") != null){\n      window.dataLayer.promo_special_offer_id = sessionStorage.getItem("NGOPOfferID");\n    }\n\t\n  }\n\n\t} else {\n\t\tsetTimeout(waitForPageContext, 250);\n\t}\n}\n\nfunction waitForJquery(){\n\tif (typeof $== \'function\') {\n\t\twaitForPageContext();\n\t} else {\n\t\tsetTimeout(waitForJquery, 250);\n\t}\n}\nwaitForJquery();\n',language:"javascript"}}]},{id:"RL957293ddaa6e4f3da7a12156eee27171",name:"Target | Marriott Moments logo | eInterface Page ",events:[],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%env_site_id%",rightOperand:"US"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%page_pathname%",rightOperand:"marriott.com/hotels/einterface/"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=!1;return"/hotels/einterface/"==dataLayer.page_url_path_branch&&(void 0===dataLayer.page_url_query_string||""==dataLayer.page_url_query_string||dataLayer.page_url_query_string.indexOf("WALLED_GARDEN")<0)&&(e=!0),e}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC03adc93da96a4f8ab91d5d082ad8fb24-source.min.js",language:"html",isExternal:!0}}]},{id:"RL96238c9f87f44276b0b735c0992480e1",name:"Marketing | Adara | WebSdk All page param",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"fireAdara"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!0,t=_satellite.getVar("browser_akamai_loc_state").toLowerCase(),a=_satellite.getVar("mr_prof_address_state").toLowerCase();return void 0!==t&&("california"!==t&&"virginia"!==t&&"nevada"!==t&&"utah"!==t&&"iowa"!==t&&"ca"!==t&&"va"!==t&&"nv"!==t&&"ut"!==t&&"ia"!==t||(e=!1)),e&&void 0!==a&&("ca"!==a&&"va"!==a&&"nv"!==a&&"ut"!==a&&"ia"!==a||(e=!1)),e}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC763e8b1944464a1dbf9c8e7705b82237-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9631751f06b947d485f1c1743af56f14",name:"Analytics | Click Tracking_RLM | Rate Details ",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".room-rules",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/rateListMenu.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"uri=%page_hostname%%page_pathname%:loc=PropertyCard:linkDescription=Rate Details"}],events:[{name:"event2"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"HotelSearchBar-Show More Less",linkType:"o"}}]},{id:"RL967192f14a084ff188d351b380240454",name:"Marketing | Floodlight 9035495 | Programs Business Access",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%page_pathname%",rightOperand:"/programs/business-access-by-marriott-bonvoy"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC2305d1a49a524633b75c7ad8ed7bb6dc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL96e942b0a3ce482c8aea3fccdcc50de2",name:"Analytics | Click Tracking | Search Flexible Month",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".month-nav-links a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event276",value:"1"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Next/Previous Month clicks",linkType:"o"}}]},{id:"RL9788e76af44e4ae299be77d281f496bd",name:"Marketing | Line | Credit Card JP",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".mt-carddeatils-component__container .button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%env_site_id%",rightOperand:"JP"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/credit-cards.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC8abd7aca09e74b138b4923d7e006b3cd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL98ac897b8b5d4eb49c4c36eb7a5b3244",name:"Marketing | Pixels | All RFP Confirmation ",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/rfp/submitted.mi",valueIsRegex:!0},{value:"/meetings-events/rfp/event-info-submitted.mi",valueIsRegex:!0},{value:"/meetings-events/group-booking/submitted.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCe974429fb69c4964a5a4a0b85557d8a0-source.min.js",language:"html",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCb20fb57beb104db9bea171b36f4f435a-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCa2c30b14179c456ebc894e824f47b817-source.min.js",language:"html",isExternal:!0}}]},{id:"RL98e90e1d699a4c49b51616ab88591a1c",name:"Marketing | Floodlight | Successful Join",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!(document.referrer.includes("/loyalty/createAccount/createAccountPage1")&&_satellite.getVar("page_pathname").includes("/loyalty/myAccount/profile.mi")||"true"==_satellite.getVar("mr_enrolled")&&_satellite.getVar("page_pathname").includes("/reservation/confirmation.mi"))&&(console.log("Nimisha Test : Successful login"),!0)}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC951dc309e4c44b15aec17f2daf09f8dc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL99671403686a4163b29ff6a2ef9f0114",name:"Marketing | Yahoo | AmexCreditCard Apply Now",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".card-overview-bordered a.custom_click_track",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".m-button-s.mt-auto",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".m-link-tertiary-button-external",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/credit-cards/american-express-credit-cards",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC35bf018a4e9a4ac0b4389f456d87ac85-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9aa9fae68ff8434eb1c5c6fc4c5a1fc4",name:"Marketing | Verizon Global | All Pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCbd2e9295c5224c8f8cf89fccf5e663d0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9ab56e239bfd4f6a8720e87784250eb4",name:"Marketing | Floodlight 1359549 | Loyalty Create Account The Eras Tour",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%page_referrer%",rightOperand:"/loyalty/createAccount/sweepstakes/createAccountPage"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loyalty/sweepstakes/TSTheErasTour.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC85cdc1388d104fcc85c1f7f5c0e67f3d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9b3269b7b2854df9b073ccb2f8357760",name:"Analytics | Search | Flexible Calendar Rates Dropdown",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCfc1899fb260a4205b8916031999c222d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9b45048a00e44ba2936efe970ce85709",name:"Marketing | Facebook | Create Account",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%page_referrer%",rightOperand:"/loyalty/createAccount/createAccountPage1"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loyalty/myAccount/profile.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCf5ce06ae6e9b4ed9a6e9c8983f25ec3c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9c51f795957d44ee9cf1de7a5975b221",name:"Aries | Analytic | SERP",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels.mi",valueIsRegex:!0},{value:"/search/filterSearch.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC59f9a80920e94a96a6ee1be939f1959b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9c9a16716f684a60826eb266ce652d6c",name:"Analytics | Credit Card | Click Learn More",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".tile-card-article a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".tile-card-text a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loyalty/earn/credit-card-rewards.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC8f4676df62fa4ab1bc6dfe0eeba912a7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9d67a21f8d8b4c269ca633a328be83b5",name:"Analytics | Search Without Dates| Availability",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!("undefined"!=_satellite.getVar("search_date_check_in")&&""!=_satellite.getVar("search_date_check_in")||"undefined"!=_satellite.getVar("search_date_check_out")&&""!=_satellite.getVar("search_date_check_out"))}}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar4",type:"value",value:"%search_cluster_code%"},{name:"eVar12",type:"value",value:"%search_destination_city_state_country%"},{name:"eVar93",type:"value",value:"%search_date_type%"},{name:"eVar148",type:"value",value:"%res_num_adults%"},{name:"eVar149",type:"value",value:"%res_num_children%"},{name:"eVar150",type:"value",value:"%search_currency_type%"}],props:[{name:"prop16",type:"value",value:"%res_rooms_per_night%"},{name:"prop23",type:"value",value:"%search_list_setting_sort_order%"},{name:"prop33",type:"value",value:"%search_results_view%"},{name:"prop34",type:"value",value:"%search_list_records_total%"}],events:[{name:"event212"}]}}}]},{id:"RL9e02bd1b1dcb4d3aaa5d1e3fdf4912e8",name:"Analytics | PageLoad | ReservationCancel",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/confirmReservationCancellation.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.products=";"+_satellite.getVar("prop_marsha_code")+";;"}},trackerProperties:{eVars:[{name:"eVar143",type:"value",value:"%prop_brand_name%"},{name:"eVar144",type:"value",value:"%prop_brand_tier%"}],events:[{name:"event43"}]}}}]},{id:"RL9e15d93b58474fdc8fd2c8a22f8a5c45",name:"Analytics | Cluster Code | MultiRate",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/rateListMenu.mi",valueIsRegex:!0},{value:"/reservation/reviewDetails.mi",valueIsRegex:!0},{value:"/reservation/confirmation.mi",valueIsRegex:!0},{value:"/reservation/guestInfo.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar54",type:"value",value:"%selected_cluster_code%"},{name:"eVar138",type:"value",value:"%search_grid_view_column_name%"}]}}}]},{id:"RL9ed94562bf0b45c49bf6514c40500467",name:"Core | inAuth | All Lower Environments",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/reviewDetails.mi",valueIsRegex:!0},{value:"/reservation/guestInfo.mi",valueIsRegex:!0},{value:"/reservation/findReservationDetail.mi",valueIsRegex:!0},{value:"/reservation/modifyRateListMenu.mi",valueIsRegex:!0},{value:"/reservation/upgradeReservation.mi",valueIsRegex:!0},{value:"/loyalty/myAccount/profile.mi",valueIsRegex:!0},{value:"/loyalty/findReservationList.mi",valueIsRegex:!0},{value:"/reservation/check-in-details.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%env_is_prod%",rightOperand:"false"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"var BEACON_URL = \"https://test.accdab.net/cdn/cs/intFAhZSISN_177k0USjQtglj5g.js\";\n    var inAuthID = window.dataLayer.inAuthID;\n    var sessionId = window.dataLayer.sessionId;\n    var transactionId = \"mi_\" + sessionId;\n    var si = document.createElement('script');\n\n    if (inAuthID === undefined){\n        si.setAttribute('type', 'text/javascript');\n        si.setAttribute('src', BEACON_URL);\n        si.setAttribute('dvct', '500');\n        si.setAttribute('sid', sessionId);\n        si.setAttribute('dvci', transactionId);\n        si.setAttribute('dvc', 'a');\n        si.setAttribute('id', 'bcn');\n    }\n\t\n    si.onload = function () {\n\t\tif (inAuthID === undefined){\n\t\t\tregisterCallback();\n\t\t}\n    };\n\n    document.head.appendChild(si);\n\n    /* register the callback method */\n\n    function registerCallback() {\n        if (window._bcn.hasOwnProperty('dvc')) {\n            window._bcn.dvc.setSubmissionCallback(registeredCallBackMethod);\n        }\n    }\n\n    /* call back method that will be invoked when the transaction was successfully */\n\n    function registeredCallBackMethod() {\n        window.dataLayer.inAuthID = window._bcn.dvc.getTID();\n        var req = new XMLHttpRequest();\n        req.open('POST', '/aries-common/inAuthIdParam', true);\n        req.setRequestHeader('Content-Type', 'application/json');\n        req.send(JSON.stringify({ inAuthID: window.dataLayer.inAuthID }));\n        console.log(\"Successfully added inAuthID [\" + transactionId + \"] to Session.\");\n    }",language:"javascript"}}]},{id:"RL9f3f9cca0cfd427f9252ecb0fd23454e",name:"Marketing | Epsilon | RFP Homepage",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meeting-event-hotels/meeting-planning.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC8be1bfaed81c4956819d652bb3c6c686-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9fa48a66a3e14297a8da7c6262f7402e",name:"APO_Offer_code",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:".ancillary-details .apoOfferCTA",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("undefined"!=typeof dataLayer&&"ANC_OFFER"==dataLayer.promo_single_or_multi_property)return!0}}},{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"pageView",count:1}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC1053d16e7c4c4590b045fc348b6c5fb1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa16516ec5aec4ca29aec53b9db2283ee",name:"Target |LazyLoad mBox parameter | GuestInfo",
events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/guestInfo.mi",valueIsRegex:!0},{value:"/reservation/enterGuestInfo.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual"},leftOperand:"%mr_prof_authentication_state%",rightOperand:"authenticated"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual"},leftOperand:"%mr_prof_authentication_state%",rightOperand:"remembered"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCba0418524b8141aea0e4e92cff68ecdc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa16bedbd8ab441ce89a389f70371e09b",name:"Marketing | Google Adword | Booking Confirmation ",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/confirmation.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"conversion",options:[["value","%res_revenue_stay_total_usd_api_conversion_error_default%"],["transaction_id","%res_confirmation_number_only%"],["currency","%res_revenue_currency_type%"]],accounts:{1571082085182:{label:"GXrrCOuY114Qp7yWxQM",enabled:!0}},callback:null}}]},{id:"RLa1f843e3405d46a5a13d998fdbb090da",name:"Marketing | Jivox  | Confirmation | Universal",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/confirmation.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC25b58c222cc14a338a1771ce312f4a61-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa236195eb8df4e2ca9253c3955eec803",name:"Analytics | OneTrust Banner Click View More Info | All Pages",events:[{modulePath:"core/src/lib/events/mousedown.js",settings:{elementSelector:"#onetrust-policy-text a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCb7b8e4eac6cb4ec79cc296c644f1b58f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa2cd76c0dcc54591ab960b7eb02ac887",name:"Advertising | Branch IO | All Pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status_analytics%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC937c252961a94c8b84959474334cfb95-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC2ca712dcf9374e63aaaed49730e868f7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa336f185d941499d876f79342078461e",name:"Analytics | Search Result Page |  Search + Dates",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels.mi",valueIsRegex:!0},{value:"/search/filterSearch.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return 1!=_satellite.getVar("search_dates_flexible")&&"true"!=_satellite.getVar("search_dates_flexible")}}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!0,t=_satellite.getVar("env_platform"),a=window.location.pathname;return t.indexOf("phoenix")>-1&&a.indexOf("/search/findHotels.mi")>-1&&(e=!1),e}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){"true"==_satellite.getVar("search_availability_search")&&(t.events=t.apl(t.events,"event3",",",1),t.events=t.apl(t.events,"event212",",",1),t.events=t.events?t.events+",event3":"event3")}},trackerProperties:{eVars:[{name:"eVar2",type:"value",value:"%search_is_weekend_stay%"},{name:"eVar4",type:"value",value:"%search_cluster_code%"},{name:"eVar10",type:"value",value:"%search_date_check_in_day_of_week%"},{name:"eVar12",type:"value",value:"%search_destination_city_state_country%"},{name:"eVar17",type:"value",value:"%search_google_places_destination%"},{name:"eVar26",type:"value",value:"%res_stay_length%"},{name:"eVar29",type:"value",value:"%search_advance_purchase_days%"},{name:"eVar71",type:"value",value:"%search_impression_criteria2%"},{name:"eVar93",type:"value",value:"%search_date_type%"},{name:"eVar148",type:"value",value:"%res_num_adults%"},{name:"eVar149",type:"value",value:"%res_num_children%"},{name:"eVar150",type:"value",value:"%search_currency_type%"}],props:[{name:"prop16",type:"value",value:"%res_rooms_per_night%"},{name:"prop17",type:"value",value:"%search_date_check_in%"},{name:"prop18",type:"value",value:"%search_date_check_out%"},{name:"prop23",type:"value",value:"%search_list_setting_sort_order%"},{name:"prop33",type:"value",value:"%search_results_view%"},{name:"prop34",type:"value",value:"%search_list_records_total%"}],events:[{name:"event204",value:"%res_num_children%"},{name:"event203",value:"%res_num_adults%"}]}}}]},{id:"RLa33f556c29e148ffb7d74d593f2fe72b",name:"Marketing | Yahoo | Amex Credit Card",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a.custom_click_track.m-button-s.track-completed",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/credit-cards/marriott-bonvoy-business-american-express-card",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC40e70630de4243e184f45d227d1781aa-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa37eef470e5c4881b42d92e1436bf803",name:"Marketing | Snapchat | Gaylord Pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:90}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/confirmation.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC86ae5270c0d843b88e35721dcf6d51d5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa3f314e12161467bb56dd2f2271a160e",name:"Marketing | Floodlight 9035495 | Successful Join",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!(document.referrer.includes("/loyalty/createAccount/createAccountPage1")&&_satellite.getVar("page_pathname").includes("/loyalty/myAccount/profile.mi")||"true"==_satellite.getVar("mr_enrolled")&&_satellite.getVar("page_pathname").includes("/reservation/confirmation.mi"))}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC69018624164f44518947c31cbc53c4a4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa5032b1d53414b98b08e1ac28ca16edb",name:"Analytics | Check-In | Click Tracking",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/check-in-details.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC50f6507f6099403d8b6befaee91dca64-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa586b101108d4755952215ea440dfcac",name:"Marketing | Facebook B2BSMBSubmitApplication | Programs Business Access Apply Now copy",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".m-button-primary.d-flex",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%page_pathname%",rightOperand:"/programs/business-access-by-marriott-bonvoy"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCbdf8ff53dc504919af2d31fccd577f9c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa587a53151d849ebab28d4f1d34835e5",name:"Analytics | Search | Keyword",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar151",type:"value",value:"%search_keyword%"}]}}}]},{id:"RLa59b38d6929342a4b90acbc1b0f35638",name:"Marketing | Floodlight 1359549 | Loyalty The Eras Tour",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loyalty/sweepstakes/TSTheErasTour.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%page_referrer%",rightOperand:"/loyalty/myAccount/sweepstakes/gen-otp.mi"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCb4bd5ef8faa144ed8ba084db6063de96-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa6f2243ebc424fa9892930d996721f30",name:"Target | mbox HYBRID | Review_Reservation_Campaign",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/reviewDetails.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%mr_prof_authentication_state%",rightOperand:"unauthenticated"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCb0ec3599c20b4316bbdd4baf08cc0b2f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa70344fbc0fb458895d8719de451d80b",name:"Core | OneTrust | All Pages (Universal/Slim Footer - Direct Call)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"fireOneTrust"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return 1!=/engage.*\.com/g.test(location.hostname)&&-1===window.location.pathname.indexOf("/reslink/associate-hub.mi")}}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return null==document.getElementById("ot-sdk-btn")}}},{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"pageView",count:1}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!1;return null!=document.querySelector("#universal-footer")&&(e=!0),e}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC779b995a347746d1b76dc865199cdb7f-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC17072cba3f934efa8e449796c307d0ef-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa7565eccdd34474fab245964bf9faf13",name:"Marketing | KaKao | All Pages except Conf",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotContain"},leftOperand:"%page_pathname%",rightOperand:"/reservation/confirmation.mi"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC7fe9466c8a994e5aa94207e94e555ba1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa7675f8c84974f84a62127fa2af1b529",name:"Marketing | Tradedesk | Ratelist Page",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/rateListMenu.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC2fba8d537be64a2d9f126e806de2c7f8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa76d06b1fe23418f86531488b29ae51b",name:"Marketing | Tradedesk APAC | Search Pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"CN"===dataLayer.env_site_id||"KR"===dataLayer.env_site_id||"JP"===dataLayer.env_site_id}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC467e7e352c67400a84e084a87083026d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa86831ac815648baba42a9a47c70bb98",name:"Marketing | Floodlight 1359549 | Flexible Search",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%search_dates_flexible%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCadb8ccddda074be094104173e26f39ac-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa8ecea80f78c4f0bab910786d2c83f50",name:"Analytics | Group Promo | All Pages",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/search/",valueIsRegex:!0},{value:"/meetings-events/deals-offers/",valueIsRegex:!0},{value:"/hotels/event-planning/",valueIsRegex:!0},{value:"/meetings-events/rfp/",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){}},trackerProperties:{events:[{name:"event211"}]}}}]},{id:"RLaa74174ea9d64bf2882de72fcaf0f90f",name:"Marketing | Google | Cobrand multiple pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loyalty/earn/credit-card-rewards.mi"},{value:"/loyalty/earn.mi"},{value:"/loyalty/member-benefits.mi"},{value:"/meeting-event-hotels/meetings.mi"},{value:"/meeting-event-hotels/meetings/planning-and-services.mi"},{value:"/meeting-event-hotels/meetings/mobility-and-tech.mi"},{value:"/meeting-event-hotels/meetings/catering-services.mi"},{value:"/meeting-event-hotels/meetings/rooms-and-spaces.mi"},{value:"/meeting-event-hotels/meetings/destinations.mi"},{value:"/meeting-event-hotels/meetings/sizes-big-to-small.mi"},{value:"/meeting-event-hotels/meetings/innovation.mi"},{value:"/meeting-event-hotels/meetings/conventions.mi"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC0c02bc7f078c49008bc710666e59926b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLaadbda44938d4194a2e006480a599797",name:"Analytis |SET Mbob Cookie",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/hotels/hotel-deals/details/",valueIsRegex:!0},{value:"/specials/mesOffer.mi",valueIsRegex:!0},{value:"^/offers/",valueIsRegex:!0},{value:"/offers/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC8ceaa553130b437192006db45db8da0d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLaadcd73bb21d4d0eb81cf7dfdb000ada",name:"HWS|confirmation |mbox",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/confirmation.mi"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC2f1372442d1c43c79f1b64aebbcf7819-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLaae5603e1a134dbd9c41e5d4195d4a68",name:"Analytics | Storefront | Destination Pages",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/destinations/",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{props:[{name:"prop52",type:"value",value:"%page_friendly_name%"}]}}}]},{id:"RLab5a2774ebe64052bbe5d9147958cbd0",name:"Marketing | Chase Bold | Credit Card",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".m-button-m.mt-md-3",elementProperties:[{name:"data-tracking-description",value:"-0532-",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".d-md-inline-block.mt-auto",elementProperties:[{name:"data-tracking-description",value:"-0532-",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/credit-cards/chase-credit-cards.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC432ac710e1c54eb3afffcf590ccdd449-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLabb1641f8f8f4e6a8a11dd3af621e2ca",name:"Target | Base Call | Homepage Hybrid",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!1;return _satellite.logger.warn("config value = "+typeof config),"undefined"==typeof config&&(e=!0),e}}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!0,t=_satellite.getVar("env_platform"),a=window.location.pathname;return t.indexOf("phoenix")>-1&&a.indexOf("/search/findHotels.mi")>-1?e=!1:void 0!==t&&""!==t||(e=!1),e}}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=_satellite.getVar("env_platform");return-1!==window.location.pathname.indexOf("/default.mi")&&'"AEM-prod"'==e}}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%env_is_prod%",rightOperand:"false"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC577ea4ebadbd4434993cf65469e52777-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-mcid/src/lib/actions/setCustomerIds.js",settings:{customerIds:[{value:"%mr_id_alternate_authenticated%",hashType:"",authState:1,integrationCode:"adf7dd8sd"},{value:"%mr_id_alternate_authenticated%",authState:1,integrationCode:"cobrand"}]}},{modulePath:"adobe-target-v2/lib/loadTarget.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC4f78b04093fb4d43847c1f61f836e02c-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-target-v2/lib/addParams.js",settings:{params:{rpcCode:{value:"%rpcCode%",checked:!0},offerCode:{value:"%offerCode%",checked:!0},page_type:{value:"%page_type%",checked:!0},at_property:{value:"%at_property%",checked:!0},env_is_prod:{value:"%env_is_prod%",checked:!0},env_site_id:{value:"%env_site_id%",checked:!0},mr_enrolled:{value:"%mr_enrolled%",checked:!0},prop_is_ers:{value:"%prop_is_ers%",checked:!0},env_platform:{value:"%env_platform%",checked:!0},daysToCheckin:{value:"%daysToCheckin%",checked:!0},firstTimeUser:{value:"%firstTimeUserCopy%",checked:!0},prop_hws_tier:{value:"%prop_hws_tier%",checked:!0},mbox3rdPartyId:{value:"%mbox3rdPartyId%",checked:!1},mr_prof_cc_all:{value:"%mr_prof_cc_all%",checked:!0},specialMessage:{value:"%specialMessage%",checked:!0},prop_brand_code:{value:"%prop_brand_code%",checked:!0},prop_brand_tier:{value:"%prop_brand_tier%",checked:!0},res_stay_length:{value:"%res_stay_length%",checked:!0},res_stay_nights:{value:"%res_stay_nights%",checked:!0},daysSinceJoining:{value:"%daysSinceJoining%",checked:!1},mvpOffers_source:{value:"%mvpOffers_source%",checked:!0},promoIDsEligible:{value:"%promoIDsEligible%",checked:!0},prop_marsha_code:{value:"%prop_marsha_code%",checked:!0},res_isRedemption:{value:"%res_isRedemption%",checked:!0},res_rate_program:{value:"%res_rate_program%",checked:!0},res_room_rate_tab:{value:"%res_room_rate_tab%",checked:!0},cookie_merchViewed:{value:"%cookie_merchViewed%",checked:!0},oneTrust_isNewUser:{value:"%oneTrust_isNewUser%",checked:!1},promoIDsRegistered:{value:"%promoIDsRegistered%",checked:!0},prop_currency_type:{value:"%prop_currency_type%",checked:!0},suppressedRpcCodes:{value:"%suppressedRpcCodes%",checked:!0},coBrandControlGroup:{value:"%coBrandControlGroup%",checked:!0},res_rooms_per_night:{value:"%res_rooms_per_night%",checked:!0},search_cluster_code:{value:"%search_cluster_code%",checked:!0},search_date_check_in:{value:"%search_date_check_in%",checked:!0},mr_prof_address_state:{value:"%mr_prof_address_state%",checked:!0},mr_prof_upcoming_stay:{value:"%mr_prof_upcoming_stay%",checked:!0},mr_register_for_promo:{value:"%mr_register_for_promo%",checked:!0},page_url_query_string:{value:"%page_url_query_string_&_patch%",checked:!0},prop_address_lat_long:{value:"%prop_address_lat_long%",checked:!0},search_date_check_out:{value:"%search_date_check_out%",checked:!0},mr_nights_to_next_level:{value:"%mr_nights_to_next_level%",checked:!0},mr_prof_address_country:{value:"%mr_prof_address_country%",checked:!0},res_rate_is_member_rate:{value:"%res_rate_is_member_rate%",checked:!0},mr_prof_stay_in_progress:{value:"%mr_prof_stay_in_progress%",checked:!0},search_is_dates_flexible:{value:"%search_is_dates_flexible%",checked:!0},prop_address_country_abbr:{value:"%prop_address_country_abbr%",checked:!0},miRecentlyViewedProperties:{value:"%miRecentlyViewedProperties%",checked:!1},search_multiRate_or_single:{value:"%search_multiRate_or_single%",checked:!0},search_list_marshas_on_page:{value:"%search_list_marshas_on_page%",checked:!0},mr_prof_authentication_state:{value:"%mr_prof_authentication_state%",checked:!0},mr_prof_member_program_level:{value:"%mr_prof_member_program_level%",checked:!0},search_advance_purchase_days:{value:"%search_advance_purchase_days%",checked:!1},prop_address_city_state_country:{value:"%prop_address_city_state_country%",checked:!1},search_google_places_destination:{value:"%search_google_places_destination%",checked:!1},mr_prof_upcoming_stay_consolidated:{value:"%mr_prof_upcoming_stay_consolidated%",checked:!1}}}},{modulePath:"adobe-target-v2/lib/firePageLoad.js",settings:{bodyHiddenStyle:"body {opacity: 0}",bodyHidingEnabled:!0}}]},{id:"RLac8bffbc00a14d1dbf299aceb31ad17c",name:"Marketing | GA4 | Review Details",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:40}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotMatchRegex"},leftOperand:"%env_site_id%",rightOperand:"CN|TW"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/reviewDetails.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"begin_checkout",options:[["event_category","ecommerce"],["dimension22","%search_date_check_in%"],["dimension23","%search_date_check_out%"],["dimension24","%search_day_check_in%"],["dimension25","%search_day_check_out%"],["dimension26","%search_is_weekend_stay%"],["dimension27","%res_room_nights_total%"],["dimension28","%search_advance_purchase_days%"],["dimension30","%search_number_guest%"],["dimension32","%search_date_type%"],["items","%items_on_purchase%"],["dimension19","%prop_name%"],["dimension20","%prop_brand_code%"],["dimension21","%prop_address_city_state_country%"],["dimension29","%res_rate_program%"],["dimension31","%res_cash_points_mix%"]],accounts:{1727890546729:{enabled:!0}},callback:null}}]},{id:"RLad86196776a04c5db5eb4c2143e20f35",name:"Analytics | multiRate | Review",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/reviewDetails.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/rateListMenu.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar132",type:"value",value:"%search_multiRate_rates_available%"},{name:"eVar133",type:"value",value:"%search_multiRate_rate_selected%"}]}}}]},{id:"RLae88f4efc52b45d9b0948d800e5fd55c",name:"Marketing | Tradedesk | Confirmation",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/confirmation.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCfc9452373e6c40e3b33438b04b5619a0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLaec51ce1d58c4751adb79d6a5be049a6",name:"Target | Base Call | Select Aries Homepages",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:5}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%env_platform%",rightOperand:"ram"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"startsWith"},leftOperand:"%page_pathname%",rightOperand:"/default.mi"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:'if (!window.impressionTrack) {\n  _satellite.logger.warn("DIRECT CALL impressTrack: Target | Base Call | Select Aries Homepages");\n    _satellite.track("impressTrack")\n\n} else {_satellite.logger.warn("window.sendImpressionTrack else ");}\n\n/*compile some data, to be eventually reworked*/\nvar mdl = window.dataLayer ? window.dataLayer : \'\';\nvar theURL = window.location.toString();\nvar mdlQS = window.dataLayer.page_url_query_string;\nvar srchRad, prpCde;\nvar current_recent_searches = localStorage.getItem("recent_searches") || \'\';\nvar noCrrntSrch = true;\nif (current_recent_searches.length > 0) {\n    noCrrntSrch = false;\n}\nvar current_searches_length = 0;\nif (!noCrrntSrch) {\n    current_searches_length = (current_recent_searches.match(/displayName/g) || []).length;\n}\nif ((location.pathname.indexOf(\'/search/findHotels\') > -1 || location.pathname.indexOf(\'/search/default\') > -1) && (mdlQS && mdlQS.indexOf("destinationAddress.destination") > -1)) {\n    var qsArr = mdlQS.split(\'&\');\n    var displayName = qsArr[0].replace("destinationAddress.destination=", \'\');\n    if (current_recent_searches.indexOf(displayName) < 0 || noCrrntSrch) {\n        var qsArr = mdlQS.split(\'&amp;\');\n        for (var i = 0; i <= qsArr.length; i++) {\n            var lastLoop = qsArr.length;\n            if (i != lastLoop) {\n                if (qsArr[i].indexOf("propertyCode=") > -1) {\n                    var propertyCode = qsArr[i].replace("propertyCode=", \'\');\n                }\n                if (qsArr[i].indexOf("destinationAddress.longitude=") > -1) {\n                    var longitude = qsArr[i].replace("destinationAddress.longitude=", \'\');\n                }\n                if (qsArr[i].indexOf("destinationAddress.latitude=") > -1) {\n                    var latitude = qsArr[i].replace("destinationAddress.latitude=", \'\');\n                }\n                if (qsArr[i].indexOf("destinationAddress.stateProvince=") > -1) {\n                    var stateProvince = qsArr[i].replace("destinationAddress.stateProvince=", \'\');\n                }\n                if (qsArr[i].indexOf("destinationAddress.country=") > -1) {\n                    var country = qsArr[i].replace("destinationAddress.country=", \'\');\n                }\n                if (qsArr[i].indexOf("searchRadius=") > -1) {\n                    var searchRadius = qsArr[i].replace("searchRadius=", \'\');\n                }\n            }\n        }\n        var type = "";\n        if (propertyCode != \'\') {\n            type = \'property\';\n        } else if (propertyCode == \'\' && stateProvince != \'\' && country != \'\') {\n            type = \'state\';\n        } else if (propertyCode == \'\' && stateProvince == \'\' && country != \'\') {\n            type = \'country\';\n        } else {\n            type = \'destination\';\n        }\n        //Getting Timestamp\n        var dateNow = new Date();\n        var timestampNow = dateNow.toISOString();\n        var endOfRecord = "";\n        if (!noCrrntSrch) {\n            endOfRecord = ",";\n        }\n        var most_recent_search = \'{ "displayName":"\' + displayName + \'" , "propertyCode":"\' + propertyCode + \'" , "longitude":"\' + longitude + \'" , "latitude":"\' + latitude + \'", "stateProvince":"\' + stateProvince + \'" , "country":"\' + country + \'" , "searchRadius":"\' + searchRadius + \'" , "timestamp":"\' + timestampNow + \'", "type":"\' + type + \'" }\' + endOfRecord;\n        if (current_searches_length == 5) {\n            var last = current_recent_searches.lastIndexOf(",{");\n            var tmpValue = current_recent_searches.slice(last, current_recent_searches.length);\n            current_recent_searches = current_recent_searches.replace(tmpValue, \'\');\n        }\n        current_recent_searches = most_recent_search + current_recent_searches;\n        localStorage.setItem("recent_searches", current_recent_searches);\n    }\n}\n',language:"javascript"}},{modulePath:"adobe-target-v2/lib/loadTarget.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'\n\tdocument.addEventListener(adobe.target.event.REQUEST_SUCCEEDED, function (e) {\n\t\twindow.ttMeta = typeof(window.ttMeta) != "undefined" ? window.ttMeta : [];\n\t\tvar tokens = e.detail.responseTokens;\n\t\tif (isEmpty(tokens)) {\n\t\t\treturn;\n\t\t}\n\t\tvar uniqueTokens = distinct(tokens);\n\t\tuniqueTokens.forEach(function (token) {\n\t\t\twindow.ttMeta.push({\n\t\t\t\t\'RecipeName\': token["experience.name"],\n\t\t\t\t\'RecipeId\': token["experience.id"],\n\t\t\t\t\'CampaignName\': token["activity.name"],\n\t\t\t\t\'CampaignId\': token["activity.id"],\n\t\t\t\t\'OfferId\': token["option.id"],\n\t\t\t\t\'OfferName\': token["option.name"],\n\t\t\t\t\'MboxName\': e.detail.mbox\n\t\t\t});\n\t\t\tconsole.log(ttMeta);\n\t\t});\n\t});\n\tfunction isEmpty(val) {\n\t\treturn (val === undefined || val == null || val.length <= 0) ? true : false;\n\t}\n\tfunction key(obj) {\n\t\treturn Object.keys(obj)\n\t\t.map(function (k) {\n\t\t\treturn k + "" + obj[k];\n\t\t})\n\t\t.join("");\n\t}\n\tfunction distinct(arr) {\n\t\tvar result = arr.reduce(function (acc, e) {\n\t\t\tacc[key(e)] = e;\n\t\t\treturn acc;\n\t\t}, {});\n\t\treturn Object.keys(result).map(function (k) {\n\t\t\treturn result[k];\n\t\t});\n\t}\n',language:"javascript"}},{modulePath:"adobe-target-v2/lib/addParams.js",settings:{params:{rpcCode:{value:"%rpcCode%",checked:!0},offerCode:{value:"%offerCode%",checked:!0},page_type:{value:"%page_type%",checked:!0},at_property:{value:"%at_property%",checked:!0},env_is_prod:{value:"%env_is_prod%",checked:!0},env_site_id:{value:"%env_site_id%",checked:!0},mr_enrolled:{value:"%mr_enrolled%",checked:!0},prop_is_ers:{value:"%prop_is_ers%",checked:!0},env_platform:{value:"%env_platform%",checked:!0},daysToCheckin:{value:"%daysToCheckin%",checked:!0},firstTimeUser:{value:"%firstTimeUserCopy%",checked:!0},prop_hws_tier:{value:"%prop_hws_tier%",checked:!0},mbox3rdPartyId:{value:"%mbox3rdPartyId%",checked:!0},mr_prof_cc_all:{value:"%mr_prof_cc_all%",checked:!0},specialMessage:{value:"%specialMessage%",checked:!0},device_detector:{value:"%device_detector%",checked:!0},prop_brand_code:{value:"%prop_brand_code%",checked:!0},prop_brand_tier:{value:"%prop_brand_tier%",checked:!0},recent_searches:{value:"%recent_searches%",checked:!0},res_stay_length:{value:"%res_stay_length%",checked:!0},res_stay_nights:{value:"%res_stay_nights%",checked:!0},daysSinceJoining:{value:"%daysSinceJoining%",checked:!0},mvpOffers_source:{value:"%mvpOffers_source%",checked:!0},promoIDsEligible:{value:"%promoIDsEligible%",checked:!0},prop_marsha_code:{value:"%prop_marsha_code%",checked:!0},res_isRedemption:{value:"%res_isRedemption%",checked:!0},res_rate_program:{value:"%res_rate_program%",checked:!0},res_room_rate_tab:{value:"%res_room_rate_tab%",checked:!0},cookie_merchViewed:{value:"%cookie_merchViewed%",checked:!0},promoIDsRegistered:{value:"%promoIDsRegistered%",checked:!0},prop_currency_type:{value:"%prop_currency_type%",checked:!0},suppressedRpcCodes:{value:"%suppressedRpcCodes%",checked:!0},coBrandControlGroup:{value:"%coBrandControlGroup%",checked:!0},res_rooms_per_night:{value:"%res_rooms_per_night%",checked:!0},search_cluster_code:{value:"%search_cluster_code%",checked:!0},search_date_check_in:{value:"%search_date_check_in%",checked:!0},mr_prof_address_state:{value:"%mr_prof_address_state%",checked:!0},mr_prof_upcoming_stay:{value:"%mr_prof_upcoming_stay%",checked:!0},mr_register_for_promo:{value:"%mr_register_for_promo%",checked:!0},page_url_query_string:{value:"%page_url_query_string%",checked:!0},prop_address_lat_long:{value:"%prop_address_lat_long%",checked:!0},search_date_check_out:{value:"%search_date_check_out%",checked:!0},mr_nights_to_next_level:{value:"%mr_nights_to_next_level%",checked:!0},mr_prof_address_country:{value:"%mr_prof_address_country%",checked:!0},res_rate_is_member_rate:{value:"%res_rate_is_member_rate%",checked:!0},mr_prof_stay_in_progress:{value:"%mr_prof_stay_in_progress%",checked:!0},prop_address_country_abbr:{value:"%prop_address_country_abbr%",checked:!0},miRecentlyViewedProperties:{value:"%miRecentlyViewedProperties%",checked:!1},search_multiRate_or_single:{value:"%search_multiRate_or_single%",checked:!0},search_list_marshas_on_page:{value:"%search_list_marshas_on_page%",checked:!0},mr_prof_authentication_state:{value:"%mr_prof_authentication_state%",checked:!0},mr_prof_member_program_level:{value:"%mr_prof_member_program_level%",checked:!0},search_advance_purchase_days:{value:"%search_advance_purchase_days%",checked:!1},search_is_rewards_redemption:{value:"%search_is_rewards_redemption%",checked:!1},prop_address_city_state_country:{value:"%prop_address_city_state_country%",checked:!1},search_google_places_destination:{value:"%search_google_places_destination%",checked:!1},mr_prof_upcoming_stay_consolidated:{value:"%mr_prof_upcoming_stay_consolidated%",checked:!0}}}},{modulePath:"adobe-target-v2/lib/firePageLoad.js",settings:{bodyHiddenStyle:"body {opacity: 0}",bodyHidingEnabled:!1}},{modulePath:"adobe-mcid/src/lib/actions/setCustomerIds.js",settings:{customerIds:[{value:"%mr_id_alternate_authenticated%",hashType:"",authState:1,integrationCode:"adf7dd8sd"},{value:"%mr_id_alternate_authenticated%",hashType:"",authState:1,integrationCode:"cobrand"}]}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"function mostRecentSearch() {\n    var theURL = location.pathname;\n    /*** mostRecentSearch() function - extracts values from MDL variable page_url_query_string\n     *   on the search results pages. Collects last 5 searches made. Value (Returned as a String) is sent to Adobe Target where  *   it will be then captured in the Profile recent_searches. \n     *   This Profile is used by Web and Mobile.\n     ***/\n    var srchRad, prpCde;\n    var current_recent_searches = localStorage.getItem(\"recent_searches\") || '';\n    var noCrrntSrch = true;\n    if (current_recent_searches.length > 0) {\n        noCrrntSrch = false;\n    }\n    var current_searches_length = 0;\n    if (!noCrrntSrch) {\n        current_searches_length = (current_recent_searches.match(/displayName/g) || []).length;\n    }\n    if ((theURL.indexOf('/search/findHotels') > -1 || theURL.indexOf('/search/default') > -1) && (mdlQS && mdlQS.indexOf(\"destinationAddress.destination\") > -1)) {\n        var qsArr = mdlQS.split('&');\n        var displayName = qsArr[0].replace(\"destinationAddress.destination=\", '');\n        if (current_recent_searches.indexOf(displayName) < 0 || noCrrntSrch) {\n            var qsArr = mdlQS.split('&amp;');\n            for (var i = 0; i <= qsArr.length; i++) {\n                var lastLoop = qsArr.length;\n                if (i != lastLoop) {\n                    if (qsArr[i].indexOf(\"propertyCode=\") > -1) {\n                        var propertyCode = qsArr[i].replace(\"propertyCode=\", '');\n                    }\n                    if (qsArr[i].indexOf(\"destinationAddress.longitude=\") > -1) {\n                        var longitude = qsArr[i].replace(\"destinationAddress.longitude=\", '');\n                    }\n                    if (qsArr[i].indexOf(\"destinationAddress.latitude=\") > -1) {\n                        var latitude = qsArr[i].replace(\"destinationAddress.latitude=\", '');\n                    }\n                    if (qsArr[i].indexOf(\"destinationAddress.stateProvince=\") > -1) {\n                        var stateProvince = qsArr[i].replace(\"destinationAddress.stateProvince=\", '');\n                    }\n                    if (qsArr[i].indexOf(\"destinationAddress.country=\") > -1) {\n                        var country = qsArr[i].replace(\"destinationAddress.country=\", '');\n                    }\n                    if (qsArr[i].indexOf(\"searchRadius=\") > -1) {\n                        var searchRadius = qsArr[i].replace(\"searchRadius=\", '');\n                    }\n                }\n            }\n            var type = \"\";\n            if (propertyCode != '') {\n                type = 'property';\n            } else if (propertyCode == '' && stateProvince != '' && country != '') {\n                type = 'state';\n            } else if (propertyCode == '' && stateProvince == '' && country != '') {\n                type = 'country';\n            } else {\n                type = 'destination';\n            }\n            //Getting Timestamp\n            var dateNow = new Date();\n            var timestampNow = dateNow.toISOString();\n            var endOfRecord = \"\";\n            if (!noCrrntSrch) {\n                endOfRecord = \",\";\n            }\n            var most_recent_search = '{ \"displayName\":\"' + displayName + '\" , \"propertyCode\":\"' + propertyCode + '\" , \"longitude\":\"' + longitude + '\" , \"latitude\":\"' + latitude + '\", \"stateProvince\":\"' + stateProvince + '\" , \"country\":\"' + country + '\" , \"searchRadius\":\"' + searchRadius + '\" , \"timestamp\":\"' + timestampNow + '\", \"type\":\"' + type + '\" }' + endOfRecord;\n            if (current_searches_length == 5) {\n                var last = current_recent_searches.lastIndexOf(\",{\");\n                var tmpValue = current_recent_searches.slice(last, current_recent_searches.length);\n                current_recent_searches = current_recent_searches.replace(tmpValue, '');\n            }\n            current_recent_searches = most_recent_search + current_recent_searches;\n            localStorage.setItem(\"recent_searches\", current_recent_searches);\n        }\n    }\n    return current_recent_searches;\n}\n\nwindow.targetPageParamsAll = \"\";\nwindow.targetPageParams = \"\";\nvar paramString = \"at_property|env_is_prod|env_site_id|env_platform|mr_nights_to_next_level|page_url_query_string|prop_address_city_state_country|prop_address_lat_long|prop_is_ers|res_isRedemption|res_rate_is_member_rate|res_rate_program|res_rooms_per_night|res_stay_length|search_date_check_in|search_date_check_out|search_google_places_destination|search_is_dates_flexible|search_is_rewards_redemption|res_market_prefix|mr_enrolled|mr_prof_address_country|mr_prof_authentication_state|mr_prof_cc_all|mr_prof_member_program_level|prop_address_country_abbr|prop_brand_code|prop_brand_tier|prop_currency_type|prop_hws_tier|prop_marsha_code|search_cluster_code|search_list_marshas_on_page|mr_prof_address_state|mr_prof_stay_in_progress|mr_register_for_promo|mr_prof_upcoming_stay|search_advance_purchase_days\";\nvar profileString = \"mr_prof_member_program_level|res_rooms_per_night\";\nvar mdlArr = window.dataLayer;\nvar mvpOffers = window.mvpOffers;\nvar pageURL = window.location.href.toString();\nvar paramsArray = [];\n/** Manually add at_property **/\nvar at_prop_per_locale = 'c72849c6-2a3c-8a3b-bf17-94885baf8879';\nif (dataLayer.env_site_id === 'DE' && dataLayer.env_is_prod === 'false') {\n    at_prop_per_locale = '4353f5be-67e7-0c90-adaa-25acad1caeb5';\n} else if (dataLayer.env_site_id === 'DE' && dataLayer.env_is_prod === 'true') {\n    at_prop_per_locale = '29d3a038-a1a0-764f-ce18-1d8e982119b5';\n} else if (dataLayer.env_site_id === 'FR' && dataLayer.env_is_prod === 'false') {\n    at_prop_per_locale = 'd6cd3157-7fd9-88d7-2bce-5ebcfb282e40';\n} else if (dataLayer.env_site_id === 'FR' && dataLayer.env_is_prod === 'true') {\n    at_prop_per_locale = '5a97b514-7476-07c1-f33d-4931ac773623';\n} else if (dataLayer.env_site_id === 'RU' && dataLayer.env_is_prod === 'false') {\n    at_prop_per_locale = '2aeb8eec-755a-c5ee-7b1e-f13e4b45af0d';\n} else if (dataLayer.env_site_id === 'RU' && dataLayer.env_is_prod === 'true') {\n    at_prop_per_locale = '3d18e31d-03e1-4442-4bd9-67d867537836';\n} else if (dataLayer.env_site_id === 'GB' && dataLayer.env_is_prod === 'false') {\n    at_prop_per_locale = 'e9d05ac2-6c5a-cac5-908f-39f88f3b5901';\n} else if (dataLayer.env_site_id === 'GB' && dataLayer.env_is_prod === 'true') {\n    at_prop_per_locale = '9ff2ad6d-b427-54a5-7b9e-30161c2f5448';\n} else if (dataLayer.env_site_id === 'PT' && dataLayer.env_is_prod === 'false') {\n    at_prop_per_locale = '89984a21-43a3-bb73-0d7f-ec8414a68fe4';\n} else if (dataLayer.env_site_id === 'PT' && dataLayer.env_is_prod === 'true') {\n    at_prop_per_locale = '0a71d1a9-72cb-11b8-8ef5-e084df67677a';\n} else if (dataLayer.env_site_id === 'AE' && dataLayer.env_is_prod === 'false') {\n    at_prop_per_locale = 'e8a74708-8b5f-7ae4-c3c7-1e9ec97f59e9';\n} else if (dataLayer.env_site_id === 'AE' && dataLayer.env_is_prod === 'true') {\n    at_prop_per_locale = 'e82845cc-608b-3988-3738-6d94a31f25c3';\n} else if (dataLayer.env_site_id === 'AU' && dataLayer.env_is_prod === 'false') {\n    at_prop_per_locale = 'fc491d6a-bc39-4204-9941-c9381c6a3365';\n} else if (dataLayer.env_site_id === 'AU' && dataLayer.env_is_prod === 'true') {\n    at_prop_per_locale = 'c0edb9b7-d075-63d7-18ff-ab1ef2bca415';\n} else if (dataLayer.env_site_id === 'CN' && dataLayer.env_is_prod === 'false') {\n    at_prop_per_locale = '3c4b8866-4641-e2f7-3fe1-c7752fb5a698';\n} else if (dataLayer.env_site_id === 'CN' && dataLayer.env_is_prod === 'true') {\n    at_prop_per_locale = 'c67fd1da-c6c4-5cc8-b0d0-d046748b752a';\n} else if (dataLayer.env_site_id === 'KR' && dataLayer.env_is_prod === 'false') {\n    at_prop_per_locale = '822e9584-31f2-fbd9-d3d8-5b9ab9aedba5';\n} else if (dataLayer.env_site_id === 'KR' && dataLayer.env_is_prod === 'true') {\n    at_prop_per_locale = 'ea5b4ebb-8abb-1094-15c3-6b11e5eb260b';\n} else if (dataLayer.env_site_id === 'JP' && dataLayer.env_is_prod === 'false') {\n    at_prop_per_locale = 'ca911cbd-a824-da2d-b2d6-a3ce8fc631cb';\n} else if (dataLayer.env_site_id === 'JP' && dataLayer.env_is_prod === 'true') {\n    at_prop_per_locale = '8d6245e6-0c72-f153-bcf5-dfdc1258a8dd';\n} else if (dataLayer.env_site_id === 'BR' && dataLayer.env_is_prod === 'false') {\n    at_prop_per_locale = 'd8594878-a7f0-a616-d5d4-4c089fc1834f';\n} else if (dataLayer.env_site_id === 'BR' && dataLayer.env_is_prod === 'true') {\n    at_prop_per_locale = '6188f3d9-3d5e-7766-55fd-a6e5720a3a93';\n} else if (dataLayer.env_site_id === 'IT' && dataLayer.env_is_prod === 'false') {\n    at_prop_per_locale = '5753a520-f532-5f0b-1409-d0bd6e5f63b6';\n} else if (dataLayer.env_site_id === 'IT' && dataLayer.env_is_prod === 'true') {\n    at_prop_per_locale = '3941ba71-530a-e7e9-c608-4a33f0e15889';\n}\nparamsArray.push('at_property=' + at_prop_per_locale);\nvar profileArray = [];\nfor (var key in mdlArr) {\n    if (mdlArr.hasOwnProperty(key) && mdlArr[key] != null) {\n        var mdlArrValue = mdlArr[key].toString();\n        var mdlArrKey = key.toString();\n        //console.log(mdlArrKey+\"  \"+mdlArrValue);\n        if (paramString.indexOf(mdlArrKey) > -1 && mdlArrValue != \"\" && (pageURL.indexOf('/reservation/') > -1 || pageURL.indexOf(/hotels/) > -1)) {\n            paramsArray.push(mdlArrKey + '=' + mdlArrValue);\n        } else if (paramString.indexOf(mdlArrKey) > -1 && mdlArrValue != \"\" && mdlArrKey.indexOf(\"prop_\") < 0) {\n            paramsArray.push(mdlArrKey + '=' + mdlArrValue);\n        }\n        if (profileString.indexOf(mdlArrKey) > -1 && mdlArrValue != \"\") {\n            profileArray.push('profile.' + mdlArrKey + '=' + mdlArrValue);\n        }\n    }\n}\nif (Array.isArray(profileArray) && profileArray.length) {\n    //paramsArray.push(profileArray);\n    paramsArray = paramsArray.concat(profileArray.sort());\n}\n\nvar page_type = window.location.hostname + window.location.pathname;\nif (page_type != \"\" && typeof page_type != \"undefined\") {\n    paramsArray.push(\"page_type=\" + page_type);\n}\n\nif (mvpOffers != \"\" && typeof mvpOffers != \"undefined\") {\n    var rpcCode = mvpOffers.rpcCode;\n    if (rpcCode != \"\" && typeof rpcCode != \"undefined\") {\n        paramsArray.push(\"rpcCode=\" + rpcCode);\n    }\n\n    var offerCode = mvpOffers.offerCode;\n    if (offerCode != \"\" && typeof offerCode != \"undefined\") {\n        paramsArray.push(\"offerCode=\" + offerCode);\n    }\n\n    var coBrandControlGroup = mvpOffers.coBrandControlGroup;\n    if (coBrandControlGroup != \"\" && typeof coBrandControlGroup != \"undefined\") {\n        paramsArray.push(\"coBrandControlGroup=\" + coBrandControlGroup);\n    }\n\n    var suppressedRpcCodes = mvpOffers.suppressedRpcCodes;\n    if (suppressedRpcCodes != \"\" && typeof suppressedRpcCodes != \"undefined\") {\n        paramsArray.push(\"suppressedRpcCodes=\" + suppressedRpcCodes);\n    }\n\n    var specialMessage = mvpOffers.specialMessage;\n    if (specialMessage != \"\" && typeof specialMessage != \"undefined\") {\n        paramsArray.push(\"specialMessage=\" + specialMessage);\n    }\n}\n\nvar mrIdAlternate = mdlArr.mr_id_alternate;\nif (mrIdAlternate != \"\" && typeof mrIdAlternate != \"undefined\") {\n    paramsArray.push(\"mbox3rdPartyId=\" + mrIdAlternate);\n}\nvar res_stay_nights = _satellite.getVar(\"res_stay_length\");\nif (res_stay_nights != \"\" && typeof res_stay_nights != \"undefined\") {\n    paramsArray.push(\"res_stay_nights=\" + res_stay_nights);\n}\nvar recent_searches = mostRecentSearch();\nif (recent_searches != \"\" && typeof recent_searches != \"undefined\") {\n    paramsArray.push(\"recent_searches=\" + recent_searches);\n}\n\n\n\n/*var miRecentlyViewedProperties = false;\nif (window.localStorage.getItem(\"miRecentlyViewedProperties\") !== null) {\n    miRecentlyViewedProperties = true;\n}\nparamsArray.push(\"miRecentlyViewedProperties=\" + miRecentlyViewedProperties);\n*/\nfunction dateDifference(checkInDate) {\n    var today = new Date();\n    var dd = String(today.getDate()).padStart(2, '0');\n    var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\n    var yyyy = today.getFullYear();\n\n    today = mm + '/' + dd + '/' + yyyy;\n    var startDate = Date.parse(today);\n    var endDate = Date.parse(checkInDate);\n    var timeDiff = endDate - startDate;\n    var daysDiff = Math.floor(timeDiff / (1000 * 60 * 60 * 24));\n    return daysDiff;\n}\n\nvar daysToCheckin = 0;\nvar chckInDat = mdlArr.chckInDat;\nvar upcomingCheckInDate = mdlArr.mr_prof_upcoming_stay_ci_date;\n\nif (pageURL.indexOf('/reservation/confirmation') !== -1) {\n    if (chckInDat != \"\" && typeof chckInDat != \"undefined\") {\n        daysToCheckin = dateDifference(chckInDat);\n        paramsArray.push(\"daysToCheckin=\" + daysToCheckin);\n    }\n} else {\n    if (upcomingCheckInDate != \"\" && typeof upcomingCheckInDate != \"undefined\") {\n        daysToCheckin = dateDifference(upcomingCheckInDate);\n        paramsArray.push(\"daysToCheckin=\" + daysToCheckin);\n    }\n}\n\nfunction getCookie(cname) {\n    var name = cname + \"=\";\n    var ca = document.cookie.split(';');\n    for (var i = 0; i < ca.length; i++) {\n        var c = ca[i];\n        while (c.charAt(0) == ' ') c = c.substring(1);\n        if (c.indexOf(name) == 0) return c.substring(name.length, c.length);\n    }\n    return \"\";\n}\n\nvar merchViewed = getCookie('merchViewed');\nif (merchViewed) {\n    paramsArray.push(\"cookie_merchViewed=\" + merchViewed);\n}\n\nparamsArray = paramsArray.sort();\nwindow.targetPageParams = function() {\n    return paramsArray;\n}",language:"javascript"}}]},{id:"RLaff096626b344e1c948a7ac182b9b67d",name:"Analytics | Compare Icon | MultiRate",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".l-multi-rate-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC52e9ac0cfe1a4b97b7dd7285f6833299-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb0173504255c4c8e82047b8756e5ce3a",name:"Marketing | Facebook | All Searches",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels.mi ",valueIsRegex:!0},{value:"/meetings/group-travel/findHotels.mi",valueIsRegex:!0},{value:"/hotel-search",valueIsRegex:!0},{value:"/search/",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=!0;return-1!==location.hostname.indexOf(".cn")&&(e=!1),e}}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual",caseInsensitive:!0},leftOperand:"%browser_akamai_loc_country%",rightOperand:"CN"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCde44eee326ad430a8c43a2c55254f0fc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb01ff22fa6fd472592738a16c7b91d93",name:"Analytics | Check-in Bonvoy Join Event | /loyalty/findReservationList.mi",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loyalty/findReservationList.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"dataLayer.mr_enrolled",value:"true",valueIsRegex:!0}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event19"}]}}}]},{id:"RLb097e3fa5d614b79be61a7dd906d0b88",name:"Analytics  | Multi Rate | Search | Show More Rates",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".l-more-rates-available",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC048c7c92bcde44439f379a98df55ae4c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb122535cee0c42c8a0f3942462ec783d",name:"Analytics | Custom Link Click | Clear internal link tracks",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"sessionStorage.removeItem('trackedLinks');",language:"javascript"}}]},{id:"RLb13e8726b9af4dac878b8f0498624b33",name:"Analytics | Universal Header | All Pages",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".t-global-nav-items a.mi-popover",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a="";a=$(this).find(".t-quick-link-text").text(),console.log("t-quick-link-text : "+$(this).find(".t-quick-link-text").text());var r="Uninav-"+a;console.log("modalName : "+r),t.prop20=r}},trackerProperties:{props:[{name:"prop20",type:"value",value:"Uninav"}],events:[{name:"event24"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Universal Header Clicked",linkType:"o"}}]},{id:"RLb218ba984f2c4fc7b633d66c1587c4f8",name:"Marketing | GA4 | Programs Business Access Send Request",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".m-button-primary.d-flex.align-items-center",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".aem-GridColumn .text >p >u >a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%page_pathname%",rightOperand:"/es/programs/business-access-by-marriott-bonvoy.mi"}}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"business_access_signup",options:[],accounts:{1727890546729:{enabled:!0}},callback:null}}]},{id:"RLb267f0a94802426cbd16e44185a40930",name:"Analytics | Page Load Call | Send Beacon (Phoenix - SERP - GROUPS)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"groupsAnalyticsCall"},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotContain"},leftOperand:"%page_domain_name%",rightOperand:"engage"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!1,t=_satellite.getVar("page_requested_uri");return void 0!==t&&null!=t&&""!=t&&(t.includes("/meetings-events/")||t.includes("/roominglist/"))&&(e=!0),e}}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%env_platform%",rightOperand:"phoenix"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){_satellite.logger.log("***** mQG EVENTS = "+t.events),location.pathname.indexOf("/search/findHotels.mi")>-1&&(t.eVar150=_satellite.getVar("search_currency_type"),t.prop33=_satellite.getVar("search_results_view"),"true"==_satellite.getVar("search_availability_search")&&(t.events=t.apl(t.events,"event3",",",1),t.events=t.apl(t.events,"event212",",",1)),t.events=t.apl(t.events,"event202="+_satellite.getVar("res_rooms_per_night"),",",1)),"authenticated"==dataLayer.mr_prof_authentication_state?t.eVar22="logged in":"remembered"==dataLayer.mr_prof_authentication_state?t.eVar22="remembered":"unauthenticated"==dataLayer.mr_prof_authentication_state?t.eVar22="unauthenticated":"/logout.mi"==location.pathname&&(t.eVar22="logged out"),dataLayer.session_jsession_id!=_satellite.cookie.get("sessionID")&&(t.events=t.apl(t.events,"event441",",",1)),_satellite.getVar("env_api_tile_error_info").includes("404")&&(t.events=t.apl(t.events,"event432",",",1)),_satellite.getVar("pagename").length>100&&(t.events=t.apl(t.events,"event58",",",1));let a=!1,r=dataLayer.group_search_results_properties;if(void 0!==r)for(var n=0;n<r.length;n++)r[n].includes("QG")&&(a=!0);a&&location.pathname.indexOf("/meetings-events/search/find-hotels.mi")>-1&&(t.events=t.apl(t.events,"event15",",",1));let s=_satellite.getVar("prop_brand_code"),o=_satellite.getVar("prop_marsha_code"),i=_satellite.getVar("prop_address_city_state_country");if(location.pathname.indexOf("/meetings-events/group-booking-phx/submitted.mi")>-1||location.pathname.indexOf("/meetings-events/group-booking/submitted.mi")>-1){if(_satellite.logger.log("***** mQG at the end of the analytics send beacon rule = setting prop68"),t.prop68=_satellite.getVar("group_opportunity_id"),""==_satellite.getVar("prop_marsha_code")){const e=_satellite.cookie.get("grpsInfo");if(void 0!==e){let t=e.split("*");s=t[0],o=t[1],i=t[2],console.log("kjijj")}_satellite.logger.log("***** mQG at the end of the analytics send beacon rule = no prp code");const t=JSON.parse(localStorage.getItem("miQuickGroup"));_satellite.setVar("prop_brand_code",t.brandId),_satellite.setVar("prop_marsha_code",t.propertyId),_satellite.logger.log("***** mQG at the end of the analytics send beacon rule = "+_satellite.getVar("prop_marsha_code")+" "+_satellite.getVar("prop_brand_code"))}t.products=";"+_satellite.getVar("prop_marsha_code")+";;"}if("function"==typeof getCookie&&(void 0===t.marketingCloudVisitorID||""==t.marketingCloudVisitorID)){var c=getCookie("AMCV_664516D751E565010A490D4C%40AdobeOrg").split("|");c.length>0&&-1!==c.indexOf("MCMID")&&(t.marketingCloudVisitorID=c[c.indexOf("MCMID")+1])}-1!==location.hostname.indexOf("engage.marriott")&&("production"==_satellite.buildInfo.environment?t.setAccount("marriottengage"):t.setAccount("marriottengagestage")),_satellite.logger.log("***** evar22 at the end of the analytics send beacon rule = "+t.eVar22+" ***** prop_marsha_code ="+_satellite.getVar("prop_marsha_code")+" prop_brand_code = "+_satellite.getVar("prop_brand_code")+" prop_address_city_state_country = "+_satellite.getVar("prop_address_city_state_country")),t.contextData.env_site_id=_satellite.getVar("env_site_id"),t.contextData.chk_in=_satellite.getVar("search_date_check_in"),t.contextData.srch_adv_prchs_days=_satellite.getVar("search_advance_purchase_days"),t.contextData.res_stay_len=_satellite.getVar("res_stay_length"),t.contextData.prop_addr_city_state_cntry=i,t.contextData.prop_marsha_cd=o,
t.contextData.prop_brand_cd=s,t.contextData.mr_prof_pref_pgm=_satellite.getVar("mr_prof_preferred_program"),t.contextData.mr_prof_rewards_lvl=_satellite.getVar("mr_prof_rewards_level"),t.contextData.mr_prof_earning_pref=_satellite.getVar("mr_prof_earning_pref"),t.contextData.mr_prof_addr_state_abbr=_satellite.getVar("mr_prof_address_state_abbr"),t.contextData.mr_prof_addr_cntry_abbr=_satellite.getVar("mr_prof_address_country_abbr"),t.contextData.res_conf_num=_satellite.getVar("res_confirmation_number"),t.contextData.mr_cei_SttBhvSeg=_satellite.getVar("mr_cei_SttBhvSeg"),t.contextData.mr_cei_PurBrand=_satellite.getVar("mr_cei_PurBrand"),t.contextData.mr_cei_SttValSeg=_satellite.getVar("mr_cei_SttValSeg"),t.contextData.mr_cei_PurActvty=_satellite.getVar("mr_cei_PurActvty"),t.contextData.mr_cei_PurProp=_satellite.getVar("mr_cei_PurProp"),t.contextData.mr_cei_PurMkt=_satellite.getVar("mr_cei_PurMkt"),t.contextData.mr_cei_NerMkt=_satellite.getVar("mr_cei_NerMkt"),t.contextData.mr_cei_NewMkt=_satellite.getVar("mr_cei_NewMkt"),t.contextData.mr_cei_ResMkt=_satellite.getVar("mr_cei_ResMkt"),t.contextData.mr_cei_PmoTaste=_satellite.getVar("mr_cei_PmoTaste"),t.contextData.mr_prof_cc_all=_satellite.getVar("mr_prof_cc_all"),t.contextData.mhr="",t.contextData.mhr.bookinglengthofstay=_satellite.getVar("res_stay_length")}},trackerProperties:{eVars:[{name:"eVar15",type:"value",value:"%res_rate_is_member_rate%"},{name:"eVar53",type:"value",value:"%iscid%"},{name:"eVar101",type:"value",value:"%env_onetrust_cookie_selection%"},{name:"eVar151",type:"value",value:"%search_keyword%"},{name:"eVar204",type:"value",value:"%ota_res_details%"},{name:"eVar237",type:"value",value:"%env_onetrust_language%"},{name:"eVar240",type:"value",value:"%server_id_scrape%"},{name:"eVar241",type:"value",value:"%session_id_cookie%"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLb282e0b6f04d46439a75d62f9e4dc51f",name:"Analytics | Rate List Menu | Page load",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/rateListMenu",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){""!==_satellite.getVar("search_num_rooms")&&"0"!==_satellite.getVar("search_num_rooms")&&(t.events=t.apl(t.events,"event202",",",2)),""!==_satellite.getVar("search_num_adults")&&"0"!==_satellite.getVar("search_num_adults")&&(t.events=t.apl(t.events,"event203",",",2)),""!==_satellite.getVar("search_num_children")&&"0"!==_satellite.getVar("search_num_children")&&(t.events=t.apl(t.events,"event204",",",2)),"undefined"!=typeof dataLayer&&window.dataLayer.search_destination_city&&window.dataLayer.search_destination_state&&(t.linkTrackVars="eVar12",t.eVar12=dataLayer.search_destination_city+":"+dataLayer.search_destination_state+":"+dataLayer.search_destination_country),"undefined"!=typeof dataLayer&&window.dataLayer.search_sold_out_search&&(t.events=t.apl(t.events,"event32",",",2)),t.products=";"+_satellite.getVar("prop_marsha_code")+";;"}},trackerProperties:{eVars:[{name:"eVar4",type:"value",value:"%search_cluster_code%"},{name:"eVar24",type:"value",value:"%prop_is_ers%"},{name:"eVar26",type:"value",value:"%res_stay_length%"},{name:"eVar29",type:"value",value:"%search_advance_purchase_days%"},{name:"eVar138",type:"value",value:"%search_grid_view_column_name%"},{name:"eVar143",type:"value",value:"%prop_brand_name%"},{name:"eVar144",type:"value",value:"%prop_brand_tier%"},{name:"eVar148",type:"value",value:"%search_num_adults%"},{name:"eVar149",type:"value",value:"%search_num_children%"},{name:"eVar152",type:"value",value:"%search_result_position_selected%"}],props:[{name:"prop16",type:"value",value:"%res_rooms_per_night%"}],events:[{name:"event1"},{name:"prodView"},{name:"event122",value:"%res_rooms_per_night%"},{name:"event213"}]}}}]},{id:"RLb37650194ee448438f035b470191ae3a",name:"Analytics | Promo Registration | Confirmation",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loyalty/join/joinConfirmationPromotion.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{props:[{name:"prop44",type:"value",value:"%mr_enrollment_source%"}],events:[{name:"event19"},{name:"event53"},{id:"%mr_id%%mr_enrollment_source%",name:"event553"}]}}}]},{id:"RLb3835b1c583f4290a1f0018383199848",name:"Analytics | eInterface | Property Info",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/einterface/v5/",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar208",type:"value",value:"%prop_internet_mac%"}]}}}]},{id:"RLb488b69813f74595a41e2e00f88915ef",name:"Analytics | Click Tracking | Extended Search Korean",events:[{modulePath:"core/src/lib/events/entersViewport.js",settings:{frequency:"everyEntry",elementSelector:".korean-dest-cities"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/error.mi",valueIsRegex:!0},{value:"/default.mi",valueIsRegex:!0},{value:"/search/filterSearch.mi",valueIsRegex:!0},{value:"/search/findHotels.mi",valueIsRegex:!0},{value:"/search/default.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC62a71703c7a54e088c1e58ee88fe3fe0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb51a09fa7c544b90a3ed6c1dafc3a9c1",name:"Analytics | Marriott Media Network Test Impressions | PPv4 Pages",events:[{modulePath:"core/src/lib/events/entersViewport.js",settings:{frequency:"firstEntry",elementSelector:".mmn-ads-container iframe"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%page_pathname%",rightOperand:"/hotels/einterface"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%browser_akamai_loc_country%",rightOperand:"US"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC19f64250b77d48a6a72464ee8dc04994-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb57b8979f1644195a6d8b8d56fa81a6d",name:"Analytics | View Hide Rates Click to RLM 2.0 Direct Call",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"View Rates"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Hide Rates"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"rateListMenu",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars="eVar1,eVar22,eVar41,eVar176,eVar212,prop5,products,events",t.linkTrackEvents="event2",t.products=_satellite.getVar("prop_marsha_code"),t.events="event2",t.eVar1=`uri=${window.location.hostname+window.location.pathname}:loc=RLM2.0:linkDescription=${e.identifier}`,t.eVar41=t.prop5=_satellite.getVar("env_site_id"),t.eVar22=window?.dataLayer?.mr_prof_authentication_state,t.eVar176=_satellite.getVar("rnb_outlet_id"),t.eVar212=window?.mvpOffers?.source,t.eVar1=`uri=${window.location.hostname+window.location.pathname}:loc=RLM2.0:linkDescription=${e.identifier}`}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Rates",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLb61f145899a54694a415a7753a65b732",name:"Analytics | Page Load Call | Base Variables (Phoenix - SERP - GROUPS - SUBMITTED)",events:[{modulePath:"core/src/lib/events/elementExists.js",settings:{elementSelector:"#main-content > div > div > div > div.container.px-0 > div"},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"page_ready_counter"},ruleOrder:50},{modulePath:"core/src/lib/events/elementExists.js",settings:{elementSelector:"div.d-flex.p-4.p-md-5.confirmation-body"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/rfp-phx/submitted.mi",valueIsRegex:!0},{value:"/meetings-events/rfp/submitted.mi",valueIsRegex:!0},{value:"/meetings-events/rfp/event-info-submitted.mi",valueIsRegex:!0},{value:"/meetings-events/group-booking-phx/submitted.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{"smetrics.marriott.com"!=t.trackingServerSecure&&(_satellite.track("s_test"),console.log(t))}catch(e){_satellite.track("s_test"),console.log(t)}var a=dataLayer.search_filters_applied;t.list1=a,t.contextData["dtm.no_block"]="true",t.prop71=_satellite.property.name,"authenticated"==_satellite.getVar("mr_prof_authentication_state")?t.eVar22="logged in":"unauthenticated"==_satellite.getVar("mr_prof_authentication_state")&&(t.eVar22="unauthenticated"),"/logout.mi"==location.pathname&&(t.eVar22="logged out"),void 0===dataLayer.prop_marsha_code||window.location.pathname.includes("/reservation/confirmation.mi")?void 0!==_satellite.getVar("group_marsha_list")&&window.location.pathname.includes("/meetings-events/")&&(t.products=";"+_satellite.getVar("group_marsha_list")+";;"):t.products=";"+_satellite.getVar("prop_marsha_code")+";;",navigator.userAgent.indexOf("iPhone")>-1&&(t.eVar78=screen.width+"x"+screen.height),void 0===_satellite.getVar("mr_prof_ic_approved")||"Chase_Boundless"!=_satellite.getVar("mr_prof_ic_approved")&&"Chase_Bold"!=_satellite.getVar("mr_prof_ic_approved")&&"Amex_Brilliant"!=_satellite.getVar("mr_prof_ic_approved")&&"Amex_Business"!=_satellite.getVar("mr_prof_ic_approved")||(console.log("eVar156 should be approved"),t.eVar156="Approved");var r=window.mvpOffers&&window.mvpOffers.source?window.mvpOffers.source:"";if(""!=r&&(t.eVar212=r),!t.eVar31){t.Util.getQueryParam("pid")&&(t.eVar31=t.Util.getQueryParam("pid")),!t.eVar31&&t.Util.getQueryParam("affname")&&(t.eVar31="affname="+t.Util.getQueryParam("affname"));var n=t.Util.cookieRead("Affname");!t.eVar31&&n&&(n=n.split("|")[0].replace(/pid=/gi,""))&&(t.eVar31=n)}dataLayer.group_sgo_search&&(t.linkTrackEvents="event15",t.events=t.apl(t.events,"event15",",",2)),"undefined"!=typeof dataLayer&&window.dataLayer.search_destination_city&&window.dataLayer.search_destination_state&&(t.linkTrackVars="eVar12",t.eVar12=dataLayer.search_destination_city+":"+dataLayer.search_destination_state+":"+dataLayer.search_destination_country)}},trackerProperties:{eVars:[{name:"eVar2",type:"value",value:"%search_is_weekend_stay%"},{name:"eVar9",type:"value",value:"%mr_prof_member_program_level%"},{name:"eVar10",type:"value",value:"%search_date_check_in_day_of_week%"},{name:"eVar17",type:"value",value:"%search_google_places_destination%"},{name:"eVar22",type:"value",value:"%mr_prof_authentication_state%"},{name:"eVar26",type:"value",value:"%res_stay_length%"},{name:"eVar33",type:"value",value:"%group_event_type%"},{name:"eVar34",type:"value",value:"%group_room_attendee_count%"},{name:"eVar41",type:"value",value:"%env_site_id%"},{name:"eVar95",type:"value",value:"%mr_id_alternate_filtered%"},{name:"eVar109",type:"value",value:"%mr_prof_cc_all%"},{name:"eVar139",type:"value",value:"%mr_prof_address_country%"},{name:"eVar140",type:"value",value:"%mr_prof_address_state%"},{name:"eVar191",type:"value",value:"%mr_prof_address_city%"},{name:"eVar235",type:"value",value:"%Glassbox_unionID%"},{name:"eVar238",type:"value",value:"%cookie_segmentID%"}],props:[{name:"prop16",type:"value",value:"%res_rooms_per_night%"},{name:"prop17",type:"value",value:"%search_date_check_in%"},{name:"prop18",type:"value",value:"%search_date_check_out%"},{name:"prop21",type:"value",value:"%group_search_options%"},{name:"prop25",type:"value",value:"%env_server_id%"},{name:"prop26",type:"value",value:"%env_platform%"},{name:"prop48",type:"value",value:"%env_analytics_code_version%"},{name:"prop56",type:"value",value:"%session_jsession_id%"},{name:"prop69",type:"value",value:"%group_qg_rfp_serp_summary%"}]}}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCa335fd85c89d4e3a84dc3369b2ca28f0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb641308b97b44e9d94997c631e08ca71",name:"Marketing | Floodlight | RFP Event Details",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/rfp/event-details",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC920d1db122304b9fae05e0c01b3da8d8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb64a884966474496b08351faef59ec3f",name:"Marketing | Floodlight 9035495 | Search Page",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels.mi",valueIsRegex:!0},{value:"/search/default.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC6f3050b3abcf482f9240351412f9b6df-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb66669d1189143d8ab5633013c5ae195",name:"Analytics | Universal Header | AEM",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/default.mi"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC9af24e32ff1e40d88b4d4c3df2e4d876-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb6d42226a28a42eda26365ed1f47334b",name:"Analytics | RateList Menu | With Dates",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/rateListMenu.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(null!==_satellite.getVar("search_date_check_in"))return!0}}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%search_dates_flexible%",rightOperand:"false"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar93",type:"value",value:"With Dates"}],props:[{name:"prop17",type:"value",value:"%search_date_check_in%"},{name:"prop18",type:"value",value:"%search_date_check_out%"}]}}}]},{id:"RLb701e705cc124248b131c4844360993b",name:"Analytics | Missing Stay | Page load",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loyalty/myAccount/missingStayRequestconfirmation.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event215"}]}}}]},{id:"RLb7a622000a404ca0a1b602e6bccc4e6b",name:"Analytics | Page Load Call | Send Beacon Ram-Prod Search",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobepage"},ruleOrder:100},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:5},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"spaTrigger"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotContain"},leftOperand:"%page_domain_name%",rightOperand:"engage"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!1,t=_satellite.getVar("env_platform"),a=window.location.pathname;return t.indexOf("ram-prod")>-1&&a.indexOf("/search/")>-1&&(e=!0),e}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){if(location.pathname.indexOf("/search/findHotels.mi")>-1&&(t.eVar150=_satellite.getVar("search_currency_type"),t.prop33=_satellite.getVar("search_results_view"),"true"==_satellite.getVar("search_availability_search")&&(t.events=t.apl(t.events,"event3",",",1),t.events=t.apl(t.events,"event212",",",1)),t.events=t.apl(t.events,"event202="+_satellite.getVar("res_rooms_per_night"),",",1)),location.pathname.indexOf("/reservation/confirmation.mi")>-1&&void 0!==dataLayer.mr_enrolled&&""!==_satellite.getVar("mr_enrolled")&&_satellite.getVar("mr_enrolled").includes("inactive")&&(t.events=t.apl(t.events,"event7",",",1)),"authenticated"==dataLayer.mr_prof_authentication_state?t.eVar22="logged in":"remembered"==dataLayer.mr_prof_authentication_state?t.eVar22="remembered":"unauthenticated"==dataLayer.mr_prof_authentication_state?t.eVar22="unauthenticated":"/logout.mi"==location.pathname&&(t.eVar22="logged out"),dataLayer.session_jsession_id!=_satellite.cookie.get("sessionID")&&(t.events=t.apl(t.events,"event441",",",1)),error_info=_satellite.getVar("error_info"),env_api_tile_error_info=_satellite.getVar("env_api_tile_error_info"),env_api_tile_error_info.length>0?t.list2=env_api_tile_error_info:error_info.length>0&&(t.list2=error_info),_satellite.getVar("env_api_tile_error_info").includes("404")&&(t.events=t.apl(t.events,"event432",",",1)),_satellite.getVar("pagename").length>100&&(t.events=t.apl(t.events,"event58",",",1)),"function"==typeof getCookie&&(void 0===t.marketingCloudVisitorID||""==t.marketingCloudVisitorID)){var a=getCookie("AMCV_664516D751E565010A490D4C%40AdobeOrg").split("|");a.length>0&&-1!==a.indexOf("MCMID")&&(t.marketingCloudVisitorID=a[a.indexOf("MCMID")+1])}_satellite.logger.log("***** evar22 at the end of the analytics send beacon rule = "+t.eVar22+" ***** prop_marsha_code ="+_satellite.getVar("prop_marsha_code")+" prop_brand_code = "+_satellite.getVar("prop_brand_code")+" prop_address_city_state_country = "+_satellite.getVar("prop_address_city_state_country")),t.contextData.env_site_id=_satellite.getVar("env_site_id"),t.contextData.chk_in=_satellite.getVar("search_date_check_in"),t.contextData.srch_adv_prchs_days=_satellite.getVar("search_advance_purchase_days"),t.contextData.res_stay_len=_satellite.getVar("res_stay_length"),t.contextData.prop_addr_city_state_cntry=_satellite.getVar("prop_address_city_state_country"),t.contextData.prop_marsha_cd=_satellite.getVar("prop_marsha_code"),t.contextData.prop_brand_cd=_satellite.getVar("prop_brand_code"),t.contextData.mr_prof_pref_pgm=_satellite.getVar("mr_prof_preferred_program"),t.contextData.mr_prof_rewards_lvl=_satellite.getVar("mr_prof_rewards_level"),t.contextData.mr_prof_earning_pref=_satellite.getVar("mr_prof_earning_pref"),t.contextData.mr_prof_addr_state_abbr=_satellite.getVar("mr_prof_address_state_abbr"),t.contextData.mr_prof_addr_cntry_abbr=_satellite.getVar("mr_prof_address_country_abbr"),t.contextData.res_conf_num=_satellite.getVar("res_confirmation_number"),t.contextData.mr_cei_SttBhvSeg=_satellite.getVar("mr_cei_SttBhvSeg"),t.contextData.mr_cei_PurBrand=_satellite.getVar("mr_cei_PurBrand"),t.contextData.mr_cei_SttValSeg=_satellite.getVar("mr_cei_SttValSeg"),t.contextData.mr_cei_PurActvty=_satellite.getVar("mr_cei_PurActvty"),t.contextData.mr_cei_PurProp=_satellite.getVar("mr_cei_PurProp"),t.contextData.mr_cei_PurMkt=_satellite.getVar("mr_cei_PurMkt"),t.contextData.mr_cei_NerMkt=_satellite.getVar("mr_cei_NerMkt"),t.contextData.mr_cei_NewMkt=_satellite.getVar("mr_cei_NewMkt"),t.contextData.mr_cei_ResMkt=_satellite.getVar("mr_cei_ResMkt"),t.contextData.mr_cei_PmoTaste=_satellite.getVar("mr_cei_PmoTaste"),t.contextData.mr_prof_cc_all=_satellite.getVar("mr_prof_cc_all"),t.contextData.mhr="",t.contextData.mhr.bookinglengthofstay=_satellite.getVar("res_stay_length")}},trackerProperties:{eVars:[{name:"eVar22",type:"value",value:"%mr_prof_authentication_state%"},{name:"eVar36",type:"value",value:"%mr_prof_join_date|daysSinceJoining%"},{name:"eVar53",type:"value",value:"%iscid%"},{name:"eVar101",type:"value",value:"%env_onetrust_cookie_selection%"},{name:"eVar151",type:"value",value:"%search_keyword%"},{name:"eVar204",type:"value",value:"%ota_res_details%"},{name:"eVar237",type:"value",value:"%env_onetrust_language%"},{name:"eVar240",type:"value",value:"%server_id_scrape%"},{name:"eVar241",type:"value",value:"%session_id_cookie%"}],props:[{name:"prop24",type:"value",value:"%query_string_keys%"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}}]},{id:"RLb7d60cb20bcb46f48d6159b9bbbaa027",name:"Core | OneTrust | All Pages",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return 1!=/engage.*\.com/g.test(location.hostname)&&-1===window.location.pathname.indexOf("/reslink/associate-hub.mi")}}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!0;return null!=document.querySelector("#universal-footer")&&(e=!1),e}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC0e20c4737210417e9b5dd3f87f43d3e3-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCe9b2088291fb42ca83c102dced38ff57-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb854d2c3cedd4b7c98b8d0396c444199",name:"Analytics | Ratelist | Clicked Tab",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".js-rate-list-tabs span.l-ers-tab-name",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/rateListMenu.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=this.innerText;t.prop29="Rate Tab: "+a}},trackerProperties:{props:[{name:"prop29",type:"value",value:'""'}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Rates Tab Clicked",linkType:"o"}}]},{id:"RLb90b2f36469b43afbfa3beb24bbfdba7",name:"Target | Base Call | all AEM pages (Phoenix - Availability page)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"baseTargetCall"},ruleOrder:50},{modulePath:"core/src/lib/events/elementExists.js",settings:{elementSelector:"div.container.property-card-outer-container.pr-0 > div > div:nth-child(1)"},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){let t=location.pathname;void 0!==t&&null!=t&&t.includes("/search/availabilityCalendar")&&e()}},ruleOrder:50},{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/availabilityCalendar.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCbe51347f923342f38abb89d3c02d002a-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-mcid/src/lib/actions/setCustomerIds.js",settings:{customerIds:[{value:"%mr_id_alternate_authenticated%",hashType:"",authState:1,integrationCode:"adf7dd8sd"},{value:"%mr_id_alternate_authenticated%",authState:1,integrationCode:"cobrand"}]}},{modulePath:"adobe-target-v2/lib/loadTarget.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCd8fe9e604f9e4182985599f919817448-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-target-v2/lib/addParams.js",settings:{params:{rpcCode:{value:"%rpcCode%",checked:!0},offerCode:{value:"%offerCode%",checked:!0},page_type:{value:"%page_type%",checked:!0},at_property:{value:"%at_property%",checked:!0},env_is_prod:{value:"%env_is_prod%",checked:!0},env_site_id:{value:"%env_site_id%",checked:!0},mr_enrolled:{value:"%mr_enrolled%",checked:!0},prop_is_ers:{value:"%prop_is_ers%",checked:!0},env_platform:{value:"%env_platform%",checked:!0},daysToCheckin:{value:"%daysToCheckin%",checked:!0},firstTimeUser:{value:"%firstTimeUserCopy%",checked:!0},prop_hws_tier:{value:"%prop_hws_tier%",checked:!0},mbox3rdPartyId:{value:"%mbox3rdPartyId%",checked:!1},mr_prof_cc_all:{value:"%mr_prof_cc_all%",checked:!0},specialMessage:{value:"%specialMessage%",checked:!0},prop_brand_code:{value:"%prop_brand_code%",checked:!0},prop_brand_tier:{value:"%prop_brand_tier%",checked:!0},res_stay_length:{value:"%res_stay_length%",checked:!0},res_stay_nights:{value:"%res_stay_nights%",checked:!0},daysSinceJoining:{value:"%daysSinceJoining%",checked:!1},mvpOffers_source:{value:"%mvpOffers_source%",checked:!0},promoIDsEligible:{value:"%promoIDsEligible%",checked:!0},prop_marsha_code:{value:"%prop_marsha_code%",checked:!0},res_isRedemption:{value:"%res_isRedemption%",checked:!0},res_rate_program:{value:"%res_rate_program%",checked:!0},res_room_rate_tab:{value:"%res_room_rate_tab%",checked:!0},cookie_merchViewed:{value:"%cookie_merchViewed%",checked:!0},oneTrust_isNewUser:{value:"%oneTrust_isNewUser%",checked:!1},promoIDsRegistered:{value:"%promoIDsRegistered%",checked:!0},prop_currency_type:{value:"%prop_currency_type%",checked:!0},suppressedRpcCodes:{value:"%suppressedRpcCodes%",checked:!0},coBrandControlGroup:{value:"%coBrandControlGroup%",checked:!0},res_rooms_per_night:{value:"%res_rooms_per_night%",checked:!0},search_cluster_code:{value:"%search_cluster_code%",checked:!0},search_date_check_in:{value:"%search_date_check_in%",checked:!0},mr_prof_address_state:{value:"%mr_prof_address_state%",checked:!0},mr_prof_upcoming_stay:{value:"%mr_prof_upcoming_stay%",checked:!0},mr_register_for_promo:{value:"%mr_register_for_promo%",checked:!0},page_url_query_string:{value:"%page_url_query_string_&_patch%",checked:!0},prop_address_lat_long:{value:"%prop_address_lat_long%",checked:!0},search_date_check_out:{value:"%search_date_check_out%",checked:!0},mr_nights_to_next_level:{value:"%mr_nights_to_next_level%",checked:!0},mr_prof_address_country:{value:"%mr_prof_address_country%",checked:!0},res_rate_is_member_rate:{value:"%res_rate_is_member_rate%",checked:!0},mr_prof_stay_in_progress:{value:"%mr_prof_stay_in_progress%",checked:!0},search_is_dates_flexible:{value:"%search_is_dates_flexible%",checked:!0},prop_address_country_abbr:{value:"%prop_address_country_abbr%",checked:!0},miRecentlyViewedProperties:{value:"%miRecentlyViewedProperties%",checked:!1},search_multiRate_or_single:{value:"%search_multiRate_or_single%",checked:!0},search_list_marshas_on_page:{value:"%search_list_marshas_on_page%",checked:!0},mr_prof_authentication_state:{value:"%mr_prof_authentication_state%",checked:!0},mr_prof_member_program_level:{value:"%mr_prof_member_program_level%",checked:!0},search_advance_purchase_days:{value:"%search_advance_purchase_days%",checked:!1},prop_address_city_state_country:{value:"%prop_address_city_state_country%",checked:!1},search_google_places_destination:{value:"%search_google_places_destination%",checked:!1},mr_prof_upcoming_stay_consolidated:{value:"%mr_prof_upcoming_stay_consolidated%",checked:!1},search_criteria_filter_selected_ids:{value:"%search_criteria_filter_selected_ids%",checked:!0}}}},{modulePath:"adobe-target-v2/lib/firePageLoad.js",settings:{bodyHiddenStyle:"body {opacity: 0}",bodyHidingEnabled:!1}}]},{id:"RLb9f1514f504b4102a61450007c86b43f",name:"Target | Fire On History Changes (Phoenix - SERP) ",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"updates_search_call_counter"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels",valueIsRegex:!0},{value:"/search/filterSearch",valueIsRegex:!0},{value:"/search/availabilityCalendar",valueIsRegex:!0},{value:"/search/default.mi"}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!0,t=location.hash.substr(1);return"/0/"===t&&(e=!1),_satellite.logger.warn("theHash == "+t+" returnVal = "+e),e}}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%env_platform%",rightOperand:"phoenix"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC57c31a05a29b468c8b78deba771eb79d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbb02a122eca54523935815ca8f17b2f7",name:"Analytics | Check-in Impressions/Clicks | various pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%page_pathname%",rightOperand:"^/default.mi|^(pl-PL|tr-TR|zh)/default.mi"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%env_is_prod%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC0030fedd41684891a3988742e3aadaaa-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbd8d086bdb504af387b2d363f867317a",name:"Marketing | Facebook | Taylor Swift Landing Page clicks",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".marriott-unauthenticated .custom_click_track",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/offers/packages/taylor-swift-tour-sweepstakes",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC4443d6852193439eba7700a0e7f7dba5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbe2e06a4f9ec4b17891ddcb1ff576c3b",name:"Marketing | Naver | Confirmation Page",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/confirmation.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC40d42caa687248de81c87b99c2ef1a51-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbe8114a3f7ee45e6bb79fca2d4ce6e9f",name:"Marketing | Floodlight | meetings.mi",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meeting-event-hotels/meetings.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",
rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC390ccd75ac7344299ba4c1fa721a3466-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbf19f69724014ecc8690155ed35f8cd5",name:"HWS | Search |mbox",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page_requested_uri%",rightOperand:"/search/findHotels"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!0;return""===location.hash.substr(1)&&(e=!1),e}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCf08f1fce332046a6b9ba047b8653194d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbfcf058f22864a9e970f8ebd9f9c7b84",name:"Marketing | Google | Global Remarketing - Always On",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"page_view",options:[["value","%res_revenue_stay_total_usd%"],["CheckInDayofWeek","%search_date_check_in_day_of_week%"],["EnterpriseSegmentCEIDetails","%mr_cei_SttBhvSeg%"],["MemberLevel","%mr_prof_rewards_level%"],["WeekendStay","%search_is_weekend_stay%"],["Marsha","%Group_Marsha | Marsha%"],["BrowserLocationCountry ","%browser_akamai_loc_country%"],["DestinationLocation ","%City State Country%"]],accounts:{1571082055199:{enabled:!0},1571082085182:{enabled:!0}},callback:null}}]},{id:"RLbfec3faacbee4ab9893eb96a8f0c91df",name:"Analytics | Meeting RFP | Event Profile",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"spaTrigger"},ruleOrder:50},{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/rfp/event-profile.mi",valueIsRegex:!0},{value:"/meetings-events/rfp/event-info.mi",valueIsRegex:!0},{value:"/meetings-events/rfp-phx/event-profile.mi"}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar106",type:"value",value:"%group_marsha_list%"}]}}}]},{id:"RLc0ea8c40b9a445d2967c55bb5b63a1dd",name:"Areis | Analytics | Flexible Date Calendar",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCb6b2a54830fb4d47a432ee7c0f8ae67b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc292f7193618443a8d349ebeee15725b",name:"Marketing | Floodlight 1359549 | Send OTP Loyalty The Eras Tour",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".js-continue-otp",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loyalty/myAccount/sweepstakes/send-otp-challenge.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCbf4fef8e3be244d1be9bc178ccc3c8de-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc2a092898e0f4e128ebfacad8be2f8c1",name:"Analytics | Page Load Call | Send Beacon",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobepage"},ruleOrder:100},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:5},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"spaTrigger"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotContain"},leftOperand:"%page_domain_name%",rightOperand:"engage"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!0,t=_satellite.getVar("env_platform"),a=window.location.pathname;return t.indexOf("phoenix")>-1&&(a.indexOf("/search/findHotels.mi")>-1||a.indexOf("/meetings-events/")>-1)&&(e=!1),e}}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!0,t=window.location.pathname;return void 0!==t&&null!=t&&(t.includes("/search/")||t.includes("/roominglist/"))&&(e=!1),e}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.eVar95=_satellite.getVar("mr_id_alternate_filtered"),_satellite.getVar("acid")&&!_satellite.getVar("dataLayer.mr_id_alternate")&&(t.linkTrackEvents=t.apl(t.linkTrackEvents,"event345",","),t.events=t.apl(t.events,"event345",","));try{if(_satellite.getVar("dataLayer.loginEventDetails")){const[e,a,r,n]=_satellite.getVar("dataLayer.loginEventDetails").split("|"),s=n.replace(/[^a-zA-Z0-9]/g,"").slice(0,20);t.linkTrackVars=t.apl(t.linkTrackVars,"eVar21,eVar223,eVar224"),t.eVar21=e,t.eVar223=r,t.eVar224=a,t.linkTrackEvents=t.apl(t.linkTrackEvents,"event314,event315,event316",",");const o=a.includes("LOGIN_SUC_200")?`event315:${s}`:`event316:${s}`;t.events=t.apl(t.events,`event314:${s},${o}`,",")}}catch(e){}try{var a=document.querySelector("#__next > div > div > div > h2");null!=a&&"Application error: a client-side exception has occurred (see the browser console for more information)."==a.innerText&&(t.events=t.apl(t.events,"event150",",",1))}catch(e){}location.pathname.indexOf("/search/findHotels.mi")>-1&&(t.eVar150=_satellite.getVar("search_currency_type"),t.prop33=_satellite.getVar("search_results_view"),"true"==_satellite.getVar("search_availability_search")&&(t.events=t.apl(t.events,"event3",",",1),t.events=t.apl(t.events,"event212",",",1)),t.events=t.apl(t.events,"event202="+_satellite.getVar("res_rooms_per_night"),",",1)),location.pathname.indexOf("/reservation/confirmation.mi")>-1&&void 0!==dataLayer.mr_enrolled&&""!==_satellite.getVar("mr_enrolled")&&_satellite.getVar("mr_enrolled").includes("inactive")&&(t.events=t.apl(t.events,"event7",",",1)),"authenticated"==dataLayer.mr_prof_authentication_state?t.eVar22="logged in":"remembered"==dataLayer.mr_prof_authentication_state?t.eVar22="remembered":"unauthenticated"==dataLayer.mr_prof_authentication_state?t.eVar22="unauthenticated":"/logout.mi"==location.pathname&&(t.eVar22="logged out"),dataLayer.session_jsession_id!=_satellite.cookie.get("sessionID")&&(t.events=t.apl(t.events,"event441",",",1)),error_info=_satellite.getVar("error_info"),env_api_tile_error_info=_satellite.getVar("env_api_tile_error_info"),env_api_tile_error_info.length>0?t.list2=env_api_tile_error_info:error_info.length>0&&(t.list2=error_info),_satellite.getVar("env_api_tile_error_info").includes("404")&&(t.events=t.apl(t.events,"event432",",",1)),_satellite.getVar("pagename").length>100&&(t.events=t.apl(t.events,"event58",",",1));var r=_satellite.getVar("form_step_name"),n=_satellite.getVar("form_name");if(void 0!==r?t.eVar99=n+"|"+r:_satellite.logger.log("Analytics - Fired LPA TAGGING DID NOT TRIGGER"),"function"==typeof getCookie&&(void 0===t.marketingCloudVisitorID||""==t.marketingCloudVisitorID)){var s=getCookie("AMCV_664516D751E565010A490D4C%40AdobeOrg").split("|");s.length>0&&-1!==s.indexOf("MCMID")&&(t.marketingCloudVisitorID=s[s.indexOf("MCMID")+1])}_satellite.logger.log("***** evar22 at the end of the analytics send beacon rule = "+t.eVar22+" ***** prop_marsha_code ="+_satellite.getVar("prop_marsha_code")+" prop_brand_code = "+_satellite.getVar("prop_brand_code")+" prop_address_city_state_country = "+_satellite.getVar("prop_address_city_state_country")),t.contextData.env_site_id=_satellite.getVar("env_site_id"),t.contextData.chk_in=_satellite.getVar("search_date_check_in"),t.contextData.srch_adv_prchs_days=_satellite.getVar("search_advance_purchase_days"),t.contextData.res_stay_len=_satellite.getVar("res_stay_length"),t.contextData.prop_addr_city_state_cntry=_satellite.getVar("prop_address_city_state_country"),t.contextData.prop_marsha_cd=_satellite.getVar("prop_marsha_code"),t.contextData.prop_brand_cd=_satellite.getVar("prop_brand_code"),t.contextData.mr_prof_pref_pgm=_satellite.getVar("mr_prof_preferred_program"),t.contextData.mr_prof_rewards_lvl=_satellite.getVar("mr_prof_rewards_level"),t.contextData.mr_prof_earning_pref=_satellite.getVar("mr_prof_earning_pref"),t.contextData.mr_prof_addr_state_abbr=_satellite.getVar("mr_prof_address_state_abbr"),t.contextData.mr_prof_addr_cntry_abbr=_satellite.getVar("mr_prof_address_country_abbr"),t.contextData.res_conf_num=_satellite.getVar("res_confirmation_number"),t.contextData.mr_cei_SttBhvSeg=_satellite.getVar("mr_cei_SttBhvSeg"),t.contextData.mr_cei_PurBrand=_satellite.getVar("mr_cei_PurBrand"),t.contextData.mr_cei_SttValSeg=_satellite.getVar("mr_cei_SttValSeg"),t.contextData.mr_cei_PurActvty=_satellite.getVar("mr_cei_PurActvty"),t.contextData.mr_cei_PurProp=_satellite.getVar("mr_cei_PurProp"),t.contextData.mr_cei_PurMkt=_satellite.getVar("mr_cei_PurMkt"),t.contextData.mr_cei_NerMkt=_satellite.getVar("mr_cei_NerMkt"),t.contextData.mr_cei_NewMkt=_satellite.getVar("mr_cei_NewMkt"),t.contextData.mr_cei_ResMkt=_satellite.getVar("mr_cei_ResMkt"),t.contextData.mr_cei_PmoTaste=_satellite.getVar("mr_cei_PmoTaste"),t.contextData.mr_prof_cc_all=_satellite.getVar("mr_prof_cc_all"),t.contextData.mhr="",t.contextData.mhr.bookinglengthofstay=_satellite.getVar("res_stay_length")}},trackerProperties:{eVars:[{name:"eVar22",type:"value",value:"%mr_prof_authentication_state%"},{name:"eVar36",type:"value",value:"%mr_prof_join_date|daysSinceJoining%"},{name:"eVar53",type:"value",value:"%iscid%"},{name:"eVar69",type:"value",value:"%search_impression_criteria2_currency%"},{name:"eVar101",type:"value",value:"%env_onetrust_cookie_selection%"},{name:"eVar105",type:"value",value:"%ak_sgnl%"},{name:"eVar204",type:"value",value:"%ota_res_details%"},{name:"eVar222",type:"value",value:"%search_destination_type%"},{name:"eVar231",type:"value",value:"%form_prearrival_questions_complete%"},{name:"eVar237",type:"value",value:"%env_onetrust_language%"},{name:"eVar240",type:"value",value:"%server_id_scrape%"},{name:"eVar241",type:"value",value:"%session_id_cookie%"}],props:[{name:"prop24",type:"value",value:"%query_string_keys%"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}}]},{id:"RLc2bf8c5da221463c8fdf2de50be63ee5",name:"Analytics | Events - Meetings | Search",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/search/find-hotels.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){"undefined"!=typeof dataLayer&&window.dataLayer.search_destination_city&&window.dataLayer.search_destination_state&&(t.linkTrackVars="eVar12",t.eVar12=dataLayer.search_destination_city+":"+dataLayer.search_destination_state+":"+dataLayer.search_destination_country)}},trackerProperties:{eVars:[{name:"eVar2",type:"value",value:"%search_is_weekend_stay%"},{name:"eVar10",type:"value",value:"%search_date_check_in_day_of_week%"},{name:"eVar14",type:"value",value:"%search_filter_type%"},{name:"eVar17",type:"value",value:"%search_google_places_destination%"},{name:"eVar26",type:"value",value:"%res_stay_length%"},{name:"eVar29",type:"value",value:"%search_advance_purchase_days%"},{name:"eVar33",type:"value",value:"%group_event_type%"},{name:"eVar34",type:"value",value:"%group_room_attendee_count%"}],props:[{name:"prop16",type:"value",value:"%res_rooms_per_night%"},{name:"prop17",type:"value",value:"%search_date_check_in%"},{name:"prop18",type:"value",value:"%search_date_check_out%"},{name:"prop21",type:"value",value:"%group_search_options%"},{name:"prop69",type:"value",value:"%group_qg_rfp_serp_summary%"}],events:[{name:"event11"}]}}}]},{id:"RLc5e6f49a07864b4da20bcb798511d050",name:"Analytics | Modal clickTracking | All pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCae2615406c1e4766a2345ea69216013b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc61a17b4fb384286819c4f138f83094d",name:"Marketing | Facebook | Promo Join Confirmation",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%page_referrer%",rightOperand:"/sign-in.mi?returnTo=/loyalty/promotion.mi"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loyalty/promotion.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=!0;return-1!==location.hostname.indexOf(".cn")&&(e=!1),e}}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual",caseInsensitive:!0},leftOperand:"%browser_akamai_loc_country%",rightOperand:"CN"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCc04bcfd8d4cf4a319beffc3acca3520a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc76a9781abc0472c983adab4c51d3627",name:"Core | Data Layer previous_page | All",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCa4d20a86b5744cc293044ba94061aec4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc7810788ec334bb797d762da1ce5fc52",name:"Marketing | GA4 | AmexCreditCard Apply Now",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".card-overview-bordered a.custom_click_track",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".mt-auto .d-md-inline-block",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/credit-cards/american-express-credit-cards",valueIsRegex:!0}]}}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"credit_card_signup",options:[],accounts:{1727890546729:{enabled:!0}},callback:null}}]},{id:"RLc80b6968a16c4c7998ea9607a728fa2d",name:"Analytics | Page Load |  HWS",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/hotels/",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar143",type:"value",value:"%prop_brand_name%"},{name:"eVar144",type:"value",value:"%prop_brand_tier%"}],props:[{name:"prop62",type:"value",value:"%prop_hws_tier%"}],events:[{name:"event1"},{name:"prodView"}]}}}]},{id:"RLc845d065aa23418081f74e53cfffa6c7",name:"Analytics | Propert Search | Sold  Out",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"\\/search\\/findHotels\\.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%search_sold_out_search%",rightOperand:"true"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event32"},{name:"event212"},{name:"event213"}]}}}]},{id:"RLc9027ae0523e452792a7f349c8877771",name:"Core | Glassbox | All Domain PROD confirmation",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"_satellite.buildInfo.environment",value:"production"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"reservation/confirmation.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status_analytics%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC96fc081b33ce454198d6a91a48c11df8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc90608687d464ac1932f89fdd201bb76",name:"Core | WeChat | .cn only",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return-1!=location.hostname.indexOf(".com.cn")&&(-1!=navigator.userAgent.indexOf("MQQBrowser")||-1!=navigator.userAgent.indexOf("MicroMessenger"))}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC581b868f741a45bb8ff56b50b4c1803b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc96a17b747f7495d802d6e58a70a6f1a",name:"Marketing | GA4 | Hotel Search",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:49}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotMatchRegex"},leftOperand:"%env_site_id%",rightOperand:"CN|TW"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"view_item_list",options:[["event_category","ecommerce"],["non_interaction",!0],["dimension22","%search_date_check_in%"],["dimension23","%search_date_check_out%"],["dimension24","%search_day_check_in%"],["dimension25","%search_day_check_out%"],["dimension26","%search_is_weekend_stay%"],["dimension27","%res_room_nights_total%"],["dimension28","%search_advance_purchase_days%"],["dimension30","%search_number_guest%"],["dimension32","%search_date_type%"],["metric3","1"],["items","%items_on_view_item_list%"]],accounts:{1727890546729:{enabled:!0}},callback:null}}]},{id:"RLca5e0bb80650414197abebf97f7d66b0",name:"Marketing | Conversant | All Pages Except Conf",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!("US"==_satellite.getVar("env_site_id")||window.location.pathname.includes("/reservation/confirmation")||window.location.pathname.includes("/meetings-events/rfp/submitted")||window.location.pathname.includes("/meetings-events/rfp/event-info-submitted"))}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC2e56cc09ffc8406994f9434229d86523-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLca8c75f8d1a64346b2e8053ec9f95cdd",name:"Marketing | Bing UET | Create Account Join Button",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(""!==document.referrer){var e=new URL(document.referrer),t=window.location.pathname;e.pathname.includes("/loyalty/createAccount/createAccountPage1.mi")&&t.includes("/loyalty/myAccount/profile.mi")?console.log("true"):console.log("false")}}}}],actions:[{modulePath:"bing-ads-extension/src/lib/actions/customEventNew.js",settings:{event_action:"Join Button Clicked"}}]},{id:"RLcb6d39396d3b48d58974f944a6d19093",name:"Marketing | Marriott Media Network | Various Pages AEM",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%env_platform%",rightOperand:"AEM|ram"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC7f446b1a03074ecba2e486552a7dd071-source.min.js",language:"html",isExternal:!0}}]},{id:"RLcb82bf9ff6be45ab85332d3a93478bb0",name:"Marketing | Bing UET | Consent All Pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCc23e650ff90e4e49a8b3c7d5aab967c1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcbe09154023f4627ad6c1f41bfab9896",name:"Marketing | Epsilon | RFP Create RFP",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".m-button-s.rfp-cta",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/search/find-hotels.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCde216010406846f1b980276335218546-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcc3e994b621b4062ae9d918076827ef9",name:"Marketing | Snap FB Lnkd | Amex Credit Card",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a.custom_click_track.m-button-s.track-completed",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".m-button-m.custom_click_track",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/credit-cards/marriott-bonvoy-business-american-express-card",valueIsRegex:!0},{value:"/credit-cards/american-express-credit-cards.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC1eae11ad44764da5919f3c4803f0c55c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcd6d336ab4784b55831d20a2a83f749c",name:"Marketing | Gtag | Wedding All Pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meeting-event-hotels/weddings.mi",valueIsRegex:!0},{value:"/hotels/event-planning/wedding-planning/",valueIsRegex:!0}]}}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"page_view",options:[["u1","%page_url_query_string%"]],accounts:{1571082123935:{label:"DC-9035495/b2bma0/globa007+standard",enabled:!0}},callback:null}}]},{id:"RLcea157d16a4e416cab837910bab3634a",name:"Marketing | Pinterest | All Pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC15b140ca184b4536822add626ab63dfa-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd02f5d48b126477a932d88d6b80c16a2",name:"Marketing | Hook Logic | Search Results",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels.mi",valueIsRegex:!0},{value:"/meetings/group-travel/findHotels.mi",valueIsRegex:!0},{value:"/hotel-search/",valueIsRegex:!0},{value:"/search/",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCbfd595e025034a4d94fca6a84cdc08c8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd153deed2b934e38958c29a4d66a6e25",name:"Marketing | Marriott Media Network | Base Code - old",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%env_is_prod%",rightOperand:"false"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%page_pathname%",rightOperand:"^/einterface/"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%browser_akamai_loc_country%",rightOperand:"US"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC28d21836c97c4a839a9287bb403af490-source.min.js",language:"html",isExternal:!0}}]},{id:"RLd170d3a016e743d68b069ee38341203f",name:"Analytics | Base Code | Upcoming Stays (Phoenix - SERP)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"searchDataFire"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%page_pathname%",rightOperand:"/search/findHotels.mi"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar55",type:"value",value:"%mr_prof_upcoming_stay%"}]}}}]},{id:"RLd31bd243513d4a2a813d0e23186d5cae",name:"Marketing | Floodlight | Promo Join Confirmation Existing Members m1m_j0",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"loyalty/promotionConfirmation.mi",valueIsRegex:!0},{value:"/loyalty/join/joinConfirmationPromotion.mi",valueIsRegex:!0},{value:"%3loyalty%3join%3joinConfirmationPromotion.mi",valueIsRegex:!0},{value:"/loyalty/createAccount/createAccountpage1Submit.mi",valueIsRegex:!0},{value:" %3loyalty%3createAccount%3createAccountpage1Submit.mi",valueIsRegex:!0},{value:"/loyalty/promotion.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC6b4d2ef0352843b591cc6b20f563f540-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd36860057d1248a8bf180d91ce5299f1",name:"Analytics | Meetings | Errors ",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings/sfaError.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar129",type:"value",value:"%group_error_type%"}]}}}]},{id:"RLd3f9fee3b7664f5a80e88446f142ee3a",name:"Marketing | Tradedesk | Guest Info",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/guestInfo.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC033c799cecf841718c3f20ae96c22fd3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd466c1fd044f42cdab13889b9b6b1aa3",name:"Core | Glassbox | All Domain DEV confirmation",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"_satellite.buildInfo.environment",value:"staging|development",valueIsRegex:!0}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=window.location.href.toString(),t=!1;return(e.indexOf("ram-test8.ose-dev39-vxbyr.cloud.marriott.")>-1||e.indexOf("swi-bpv.marriott.")>-1||e.indexOf("uat05.marriott.")>-1||e.indexOf("miram-uat01.marriott.")>-1||e.indexOf("uat02.marriott.")>-1||e.indexOf("ram-preprod.marriott.")>-1||e.indexOf("uat03.marriott.")>-1)&&(t=!0),t}}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"reservation/confirmation.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status_analytics%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC251e18fd4bb246b98ef8dd6cf3adbcbd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd5b87a51f292455cb6dd34b58383ed19",name:"Marketing | Sojern | All Pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCbd07f015e07649d6bfca02b641da7e65-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd5e54eaa2223424fbc67bb066c27283f",name:"Analytics | Page Load Call | Base Variables (Phoenix - SERP)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobepage"},ruleOrder:1},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"updates_search_call_counter"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!0;return""===location.hash.substr(1)&&(e=!1),e}}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!1,t=location.pathname;return(t.includes("/search/default")||t.includes("/search/findHotels.mi")||t.includes("/search/availabilityCalendar.mi"))&&(e=!0),e}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC703fd493b3d444eeb3e00922dbd2fbe8-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{"smetrics.marriott.com"!=t.trackingServerSecure&&(_satellite.track("s_test"),console.log(t))}catch(e){_satellite.track("s_test"),console.log(t)}var a=dataLayer.search_filters_applied;t.list1=a,t.contextData["dtm.no_block"]="true",t.prop71=_satellite.property.name,"authenticated"==_satellite.getVar("mr_prof_authentication_state")?t.eVar22="logged in":"unauthenticated"==_satellite.getVar("mr_prof_authentication_state")&&(t.eVar22="unauthenticated"),"/logout.mi"==location.pathname&&(t.eVar22="logged out"),void 0===dataLayer.prop_marsha_code||window.location.pathname.includes("/reservation/confirmation.mi")||(t.products=";"+_satellite.getVar("prop_marsha_code")+";;"),navigator.userAgent.indexOf("iPhone")>-1&&(t.eVar78=screen.width+"x"+screen.height),void 0===_satellite.getVar("mr_prof_ic_approved")||"Chase_Boundless"!=_satellite.getVar("mr_prof_ic_approved")&&"Chase_Bold"!=_satellite.getVar("mr_prof_ic_approved")&&"Amex_Brilliant"!=_satellite.getVar("mr_prof_ic_approved")&&"Amex_Business"!=_satellite.getVar("mr_prof_ic_approved")||(console.log("eVar156 should be approved"),t.eVar156="Approved");var r=window.mvpOffers&&window.mvpOffers.source?window.mvpOffers.source:"";if(""!=r&&(t.eVar212=r),!t.eVar31){t.Util.getQueryParam("pid")&&(t.eVar31=t.Util.getQueryParam("pid")),!t.eVar31&&t.Util.getQueryParam("affname")&&(t.eVar31="affname="+t.Util.getQueryParam("affname"));var n=t.Util.cookieRead("Affname");!t.eVar31&&n&&(n=n.split("|")[0].replace(/pid=/gi,""))&&(t.eVar31=n)}try{const e=_satellite.cookie.get("data-custom_click_track_value");if(e){["eVar1","eVar22","eVar41","eVar212"].map((e=>{t.linkTrackVars=t.apl(t.linkTrackVars,e,",")})),["event2","event1000"].map((e=>{t.linkTrackEvents=t.apl(t.linkTrackEvents,e,","),t.events=t.apl(t.events,e,",")}));const[a,r]=e.split(":extra=");t.eVar1=a;const n=window?.dataLayer?.mr_prof_authentication_state;t.eVar22=n,t.eVar41=t.prop5=_satellite.getVar("env_site_id");const s=window?.mvpOffers?.source;if(s&&(t.eVar212=s),r){const e=decodeURIComponent(r).split(","),a=e.filter((e=>e.startsWith("event"))),n=e.filter((e=>e.startsWith("eVar")||e.startsWith("prop"))),s=e.filter((e=>e.startsWith("list")));n.map((e=>{const[a,r]=e.split("=");t.linkTrackVars=t.apl(t.linkTrackVars,a,","),t[a]=r})),a.map((e=>{t.linkTrackEvents=t.apl(t.linkTrackEvents,e,","),t.events=t.apl(t.events,e,",")})),s.map((e=>{const[a,r]=e.split(/(?<=list\d)=/);t.linkTrackVars=t.apl(t.linkTrackVars,a,","),t[a]=r.replaceAll(";",",")}))}_satellite.cookie.remove("data-custom_click_track_value")}}catch(e){_satellite.logger.warn(e)}}},trackerProperties:{eVars:[{name:"eVar9",type:"value",value:"%mr_prof_member_program_level%"},{name:"eVar22",type:"value",value:"%mr_prof_authentication_state%"},{name:"eVar41",type:"value",value:"%env_site_id%"},{name:"eVar95",type:"value",value:"%mr_id_alternate_filtered%"},{name:"eVar109",type:"value",value:"%mr_prof_cc_all%"},{name:"eVar139",type:"value",value:"%mr_prof_address_country%"},{name:"eVar140",type:"value",value:"%mr_prof_address_state%"},{name:"eVar191",type:"value",value:"%mr_prof_address_city%"},{name:"eVar235",type:"value",value:"%Glassbox_unionID%"},{name:"eVar238",type:"value",value:"%cookie_segmentID%"}],props:[{name:"prop25",type:"value",value:"%env_server_id%"},{name:"prop26",type:"value",value:"%env_platform%"},{name:"prop48",type:"value",value:"%env_analytics_code_version%"},{name:"prop56",type:"value",value:"%session_jsession_id%"}]}}}]},{id:"RLd659170ed89c452db8285d4e9c2af88b",name:"Marketing | Google | Add Microdata Schema to RLM",events:[{modulePath:"core/src/lib/events/elementExists.js",settings:{elementSelector:"#Showwithtaxesandfees"},ruleOrder:50},{modulePath:"core/src/lib/events/elementExists.js",settings:{elementSelector:"[data-testid='showFullPrice']"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/rateListMenu.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%isRewardRedemption%",rightOperand:"false"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!0;return void 0!==dataLayer.search_cluster_code&&(e=!1),e}}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!0,t=_satellite.getVar("memState");return void 0!==t&&"authenticated"==t&&(e=!1),e}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCcd1f85d9695e4300a1d0a513d1471f78-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd7195aa6ce9d49a59d7594a1572b1355",name:"Target |Guest Info mBox parameter | GuestInfo copy",events:[{modulePath:"core/src/lib/events/elementExists.js",settings:{elementSelector:"#oldRecipe"},ruleOrder:50},{modulePath:"core/src/lib/events/elementExists.js",settings:{elementSelector:"#newGuestInfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/reviewguestinformation.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%CheckCookieEXISTs%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC5883d30841fc40388ecbf586aeeb74aa-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd754481b8c7e4335b75c30282eb212d9",name:"Core | OneTrust | All Pages | Footer Controller",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"function waitForElement(selector, callback) {\n    const observer = new MutationObserver((mutations, observer) => {\n        const element = document.querySelector(selector);\n        if (element) {\n            callback();\n            observer.disconnect();\n        } else if (document.readyState === \"complete\" || \n                   (document.readyState !== \"loading\" && !document.documentElement.doScroll)) {\n            callback();\n            observer.disconnect();\n        }\n    });\n  \n  try {\n    const targetNode = document.body;\n    if (targetNode instanceof Node) {\n        observer.observe(targetNode, {\n            childList: true,\n            subtree: true\n        });\n    } \n  } catch (error) {\n      console.error('Target node is not of type Node');\n  } \n}\n\nwaitForElement('#teconsent', () => {\n    _satellite.logger.warn('OneTrust Element exists!');\n    if (!document.getElementById('ot-sdk-btn')) {\n        _satellite.logger.warn('OneTrust ot-sdk-btn does not exist yet, calling fireOneTrust Direct Call');\n        _satellite.track('fireOneTrust');\n    }\n});",language:"javascript"}}]},{id:"RLd84787a5365f4cd9bd1fac42d25064ee",name:"Analytics | Click Tracking | Get Help",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'.l-link a[href="http://loginhelp.marriott.com/"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/sign-in-error.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"uri=www.marriott.com/sign-in-error.mi:loc=body:linkDescription=Get Help"}],events:[{name:"event2"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Get Help Clicked",linkType:"o"}}]},{id:"RLd8c3683e92e84d248424f1befa677550",name:"Marketing | Yahoo JP | Search Multiple pages ",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"JP"===dataLayer.env_site_id}}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels.mi",valueIsRegex:!0},{value:"/reservation/rateListMenu.mi",valueIsRegex:!0},{value:"/reservation/reviewDetails.mi",valueIsRegex:!0},{value:"/reservation/guestInfo.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCf161d2a0d2af4af69d0d10307c6aed9e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd8d193596e684766aa6163c98ef16ba5",name:"Marketing | Line | Book Now Click",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".l-book-now-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".js-submit-btn-book",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/guestInfo.mi",valueIsRegex:!0},{value:"/reservation/reviewDetails.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC66c0e253e03848e3b9e4ce72e7d4cd48-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd90793e07eda47e2a1c9a5e498c2ceee",name:"Analytics | Click Tracking | Review Another Payment",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".js-alternative-payment-header",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/reviewDetails.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"uri=www.marriott.com/reservation/reviewDetails.mi:loc=Payment Options:linkDescription=Alternate Payment"}],events:[{name:"event2"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Another Payment Method Clicked",linkType:"o"}}]},{id:"RLd955a86e4bf54dd79acc19cafa6a75ac",name:"Marketing | Facebook | Loyalty The Eras Tour Enter Now",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".enter-now-cta",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loyalty/sweepstakes/TSTheErasTour.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCc9599e1c7e7140dca63ae2c6c28a98ef-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd9638962ddde4f10942aef91e3b33910",name:"Marketing | GA4 | Ratelist",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:40}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotMatchRegex"},leftOperand:"%env_site_id%",rightOperand:"CN|TW"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/rateListMenu.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"view_item",options:[["event_category","ecommerce"],["dimension22","%search_date_check_in%"],["dimension23","%search_date_check_out%"],["dimension24","%search_day_check_in%"],["dimension25","%search_day_check_out%"],["dimension26","%search_is_weekend_stay%"],["dimension27","%res_room_nights_total%"],["dimension28","%search_advance_purchase_days%"],["dimension30","%search_number_guest%"],["dimension32","%search_date_type%"],["items","%items_on_purchase%"],["dimension19","%prop_name%"],["dimension20","%prop_brand_code%"],["dimension21","%prop_address_city_state_country%"]],accounts:{1727890546729:{enabled:!0}},callback:null}}]},{id:"RLdc54874b5add43b29f50730e0d72319a",name:"Analytics | Marriott Media Network Test Impressions | HWS",events:[{modulePath:"core/src/lib/events/entersViewport.js",settings:{frequency:"firstEntry",elementSelector:".mmn-ads-container iframe"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%page_pathname%",rightOperand:"/overview"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%browser_akamai_loc_country%",rightOperand:"US"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCa4a705310e3d457489808eb772eb2368-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdce7d451cd684fa2b4c07573b36b0ad6",name:"Marketing | LinkedIn | AmexCreditCard Apply Now",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".card-overview-bordered a.custom_click_track",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".m-button-s.mt-auto",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".m-link-tertiary-button-external",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/credit-cards/american-express-credit-cards",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCd93790a0cf134feb98f4f231f7bb7798-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLde4a609674234e6f96ce748270cab4b3",name:"HWS|SPO_MPO|mbox",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=_satellite.getVar("promo_special_offer_id"),t=_satellite.getVar("promo_single_or_multi_property");if("undefined"==typeof dataLayer||void 0===e||void 0===t)return!1;{let a,r;if(a=e.length>0,r=t.length>0,a&&r)return!0}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC72b409043f3a40d381b4d1097b9f9c24-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLde9fe14f80594369ab8e5d8e0bd2b535",name:"Core | Affiliate Cookie Patch  marriott.com",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"true"===_satellite.getVar("affiliate_parameter")||!!(_satellite.getVar("page_url_query_string").includes("aff")||_satellite.getVar("page_url_query_string").includes("pid")||_satellite.getVar("page_url_query_string").includes("pId"))}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'let siteID = _satellite.getVar("env_site_id");\nlet theDomain = window.location.hostname;\nif (theDomain =="www.marriott.com"){\n  if(siteID.indexOf("TR")>-1){\n     theDomain = "";\n  }else{\n     theDomain = ".marriott.com";\n  }\n}else{theDomain = ""}\n\nfunction QueryStringToJSON() {\n    if (window.location.search !== "undefined") {\n        var pairs = window.location.search.replace(/&amp;/g, "&").replace(/\\?/g, "").split(\'&\');\n        var result = {};\n        pairs.forEach(function(pair) {\n            pair = pair.split(\'=\');\n            result[pair[0].toLowerCase()] = decodeURIComponent(pair[1] || \'\');\n        });\n\n        return JSON.parse(JSON.stringify(result));\n    } else {\n        return {}\n    }\n}\n\nvar query_string = QueryStringToJSON();\n\nfunction queryStringCheck(parameter) {\n    if (typeof query_string[parameter.toLowerCase()] !== "undefined") {\n        return query_string[parameter.toLowerCase()]\n    } else {\n        return ""\n    }\n}\n\nvar cookieValue = "";\nvar cookieName = \'Affiliate\';\nif (typeof query_string.affname !== "undefined"){\n  var affname = queryStringCheck("affname");\n  var aff = queryStringCheck("aff");\n  var co = queryStringCheck("co");\n  var nt = queryStringCheck("nt");\n  cookieValue = "Optional[" + affname + "]|aff=" + aff + "|co=" + co + "|Vendor=" + nt;\n}\nif (typeof query_string.pid !== "undefined"){\n  cookieValue = "pId=" + queryStringCheck("pid");\n}\n//console.log(\'Martan query_string.affname : \'+query_string.affname);\n//console.log(\'Martan query_string.pid : \'+query_string.pid);\n//console.log(\'Martan cookieValue is : \'+cookieValue);\nif(cookieValue == ""){\n  var queryStringFromDataLayer = _satellite.getVar(\'page_url_query_string\');\n  var obj = new Array();\n  var arr = queryStringFromDataLayer.replace(/&amp;/g, "&").replace(/\\?/g, "").split(\'&\');\n  for(var x=0; x<arr.length;x++){\n      var temp = arr[x].split(\'=\');\n      obj[temp[0]] = temp[1];\n  }\n  if (typeof obj[\'pId\'] !== "undefined"){\n      cookieValue = "pId=" + obj[\'pId\'];\n  } \n  if(typeof obj[\'pid\'] !== "undefined"){\n     cookieValue = "pId=" +obj[\'pid\'];\n   } \n  if(typeof obj[\'aff\'] !== "undefined"){\n     cookieValue = "aff=" +obj[\'aff\'];\n   }\n//  console.log(\'Martan pId is :\'+obj[\'pId\']);\n//  console.log(\'Martan aff is :\'+obj[\'aff\']);\n//  console.log(\'Martan pid is :\'+obj[\'pid\']);\n//  console.log(\'Martan cookieValue from dataLayer is : \'+cookieValue);\n}\n\nvar myDate = new Date();\nmyDate.setDate(myDate.getDate() + 7);\ndocument.cookie = cookieName +"=" + cookieValue + ";expires=" + myDate + ";domain="+theDomain+";path=/";',language:"javascript"}}]},{id:"RLdf89a5156c294a08ba8195d18c57afb9",name:"Analytics|Medallia|events",events:[{modulePath:"medallia-for-adobe-launch/lib/events/form-displayed.js",settings:{},ruleOrder:50},{modulePath:"medallia-for-adobe-launch/lib/events/form-next-page.js",settings:{},ruleOrder:50},{modulePath:"medallia-for-adobe-launch/lib/events/survey-abandoned.js",settings:{},ruleOrder:50},{modulePath:"medallia-for-adobe-launch/lib/events/survey-completed.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return"medallia-for-adobe-launch.form-next-page"!=e.$type||(_satellite.getVar("m_throttle")?void 0:(_satellite.setVar("m_throttle",!0),!0))}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var a=e.$type,r={"medallia-for-adobe-launch.form-displayed":"event377","medallia-for-adobe-launch.form-next-page":"event378","medallia-for-adobe-launch.survey-completed":"event379","medallia-for-adobe-launch.survey-abandoned":"event380"};r[a]&&(t.linkTrackEvents=r[a],t.events=r[a])}catch(e){}}},trackerProperties:{eVars:[{name:"eVar234",type:"value",value:"%Medallia_formid%"},{name:"eVar236",type:"value",value:"%Medallia_feedbackuuid%"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Medallia Interaction",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLdff2d9e17cab4d7197a8299487b7334b",name:"Analytics | RFP | Confirmation",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"groupsAnalyticsCall"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/rfp/submitted.mi",valueIsRegex:!0},{value:"/meetings-events/rfp/event-info-submitted.mi",valueIsRegex:!0},{value:"/meetings-events/rfp-phx/submitted.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){let a="";a=location.pathname.includes("/meetings-events/rfp-phx/submitted.mi")?_satellite.getVar("group_marsha_list").split(","):_satellite.getVar("prop_marsha_code").split(","),void 0!==a&&""!=a||(a=""),t.products="";for(let e=0;e<a.length;e++)t.products+=";"+a[e]+";;;;,";t.products=t.products.slice(0,-1)}},trackerProperties:{eVars:[{name:"eVar33",type:"value",value:"%group_event_type%"},{name:"eVar34",type:"value",value:"%group_room_attendee_count%"},{name:"eVar217",type:"value",value:"%group_marsha_count%"}],props:[{name:"prop16",type:"value",value:"%res_rooms_per_night%"},{name:"prop21",type:"value",value:"%group_search_options%"},{name:"prop68",type:"value",value:"%group_opportunity_id%"}],events:[{name:"event16"},{name:"event217",value:"%group_marsha_count%"}]}}}]},{id:"RLe02ed5f85d924b08820b9048b73ecca2",name:"Analytics | Loyalty Enrollment Confirmation",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loyalty/myAccount/profile.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=document.referrer,r=window.location.pathname;a.includes("/loyalty/createAccount/createAccountPage1.mi")&&r.includes("/loyalty/myAccount/profile.mi")&&(t.linkTrackEvents="event19",t.events=t.apl(t.events,"event19",",",2))}},trackerProperties:{eVars:[{name:"eVar153",type:"value",value:"%mr_enrollment_source%"}]}}}]},{id:"RLe08083a6d3b642828b0ca875d5916f1d",name:"Target | mbox HYBRID | Review_Reservation ",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/reviewDetails.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%mr_prof_authentication_state%",rightOperand:"unauthenticated"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCc54bde30e51641b190d738ad4facc759-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe24e5d7195404119ae069fc3127eb04a",name:"Analytics | Click Tracking Villas Tab | RLM",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%page_pathname%",rightOperand:"/reservation/rateListMenu.mi"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC747520dc52ee481db931e68d416fd605-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe307cd099aeb492dbb8c71483a35188d",name:"Marketing | Line | APAC RT",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%env_site_id%",rightOperand:"CN|KR|AU|JP"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC25c7139986bc48298c464b3f6b5657ff-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe38145126350497b8f93982fbf2e9c5c",name:"Analytics | AEM - DOM Ready | Dining Search",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/dining/search-results.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%env_platform%",rightOperand:"AEM"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar12",type:"value",value:"%search_destination_city_state_country%"},{name:"eVar151",type:"value",value:"%Search Term Query String%"}],events:[{name:"event283"}]}}}]},{id:"RLe4b579fea592414d8eea903f78cf8855",name:"Analytics | Search | clickTracking | Compare | Multirate",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".l-compare-rate-item",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCc440a39a9b7241bab0de71bc850f0a24-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe4db520eb201418f804db16927a35d1e",name:"Target |  mBox parameter | HQV",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels",valueIsRegex:!0},{value:"/search/filterSearch",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!0,t=_satellite.getVar("env_platform"),a=window.location.pathname;return t.indexOf("phoenix")>-1&&a.indexOf("/search/findHotels.mi")>-1&&(e=!1),e}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCc0f3385ed8504df7a69341e93940066f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe5bad39028df420d9bff2251cbc86cee",name:"Marketing | Floodlight 1359549| India HDFC Credit Card",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".mt-auto.d-md-inline-block",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/credit-cards/india-credit-cards",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC76f7e3d2817d4227b0f7bbda91a92ac0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe5c003c922b640a1b940ea7d7babbec9",name:"Analytics | Contactless | Not Available ",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(console.log("contactless"),null!=document.querySelector(".contactless")){var e=document.querySelectorAll(".contactless-container").length,t=document.querySelectorAll(".contactless").length,a=document.querySelector(".contactless").getAttribute("data-contactless");return 0==e&&t>0&&"true"==a}return!1}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar202",type:"value",value:"No"}]}}}]},{id:"RLe6f426d2c3534807901f32b3191f686a",name:"Analytics | Homepage | Explore destination",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".l-card-wrapper",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"session",count:1}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/default.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event238"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Explore destination Clicked",linkType:"o"}}]},{id:"RLe70e42add58941a4b7da1864ff1a7d92",name:"Analytics | OneTrust Banner Clicks | All Pages",events:[{modulePath:"core/src/lib/events/mousedown.js",settings:{elementSelector:"#onetrust-reject-all-handler, #onetrust-accept-btn-handler, #onetrust-close-btn-container > button, #onetrust-pc-btn-handler",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){function e(e,t,a){s.origLTV=s.linkTrackVars,s.origEvents=s.events,s.linkTrackVars="eVar1,events",s.linkTrackEvents=a,s.events=a,s.eVar1="uri="+location.hostname+location.pathname+":loc="+e+":linkDescription="+t,s.tl(this,"o","Analytics "+t+" Click tracking"),_satellite.logger.warn("sendAnalytics FIRED"),s.linkTrackEvents="None",s.linkTrackVars=s.origLTV,s.events=s.origEvents}let t="optout banner",a="",r="";_satellite.logger.warn("ONETRUST Banner Clicked");let n=this.getAttribute("id");return void 0!==n&&null!=n||(n=this.getAttribute("class")),n.indexOf("accept")>-1?(_satellite.setVar("overideOptOut","true"),a="opt in to all",r="event2,event321",_satellite.track("adobepage"),_satellite.logger.warn("ONETRUST Banner Clicked==ACCEPT ALL")):n.indexOf("reject")>-1||n.indexOf("refuse")>-1?(_satellite.setVar("overideOptOut","true"),a="opt out of all",r="event2,event320",_satellite.logger.warn("ONETRUST Banner Clicked==DENY ALL")):n.indexOf("-close-")>-1?(_satellite.setVar("overideOptOut","true"),a="close banner",r="event2",_satellite.logger.warn("ONETRUST Banner Clicked==CLOSE")):n.indexOf("-pc-")>-1&&(a="cookie settings",r="event2",_satellite.logger.warn("ONETRUST Banner Clicked=="+a)),e(t,a,r),!0}}}],actions:[]},{id:"RLe82a3864e1324f1c9256c2b03ed9a1c6",name:"Marketing | Floodlight | Convention Resort Network",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/convention-resort-network/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCd6691f3a360e43b6b4b562bac12470d5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe8d438b746e549449a04c25bbe49ecb8",name:"Phoenix POC - Hash Tracker",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC377eb9caa4a0427990be8587d7d3c38e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe936be387309456da7fac3f440d2028e",name:"Analytics | Page Load Call | Base Variables (Groups - Phoenix - SPA)",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meeting-event-hotels/meeting-plannin.mi",valueIsRegex:!0},{value:"/meetings-events/group-booking-phx/billing-contact.mi"},{value:"/meetings-events/billing-contact.mi"},{value:"/meetings-events/submitted.mi"},{value:"/meetings-events/group-booking-phx/event-space.mi"},{value:"/meetings-events/event-space.mi"},{
value:"/meetings-events/group-booking-phx/review-details.mi"},{value:"/meetings-events/review-details.mi",valueIsRegex:!0},{value:"/meetings-events/rfp-phx/event-details.mi",valueIsRegex:!0},{value:"/meetings-events/group-booking/",valueIsRegex:!0},{value:"/roominglist/",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{"smetrics.marriott.com"!=t.trackingServerSecure&&(_satellite.track("s_test"),console.log(t))}catch(e){_satellite.track("s_test"),console.log(t)}var a=dataLayer.search_filters_applied;t.list1=a,t.contextData["dtm.no_block"]="true",t.prop71=_satellite.property.name,"authenticated"==_satellite.getVar("mr_prof_authentication_state")?t.eVar22="logged in":"unauthenticated"==_satellite.getVar("mr_prof_authentication_state")&&(t.eVar22="unauthenticated"),"/logout.mi"==location.pathname&&(t.eVar22="logged out"),void 0===dataLayer.prop_marsha_code||window.location.pathname.includes("/reservation/confirmation.mi")||(t.products=";"+_satellite.getVar("prop_marsha_code")+";;"),navigator.userAgent.indexOf("iPhone")>-1&&(t.eVar78=screen.width+"x"+screen.height),void 0===_satellite.getVar("mr_prof_ic_approved")||"Chase_Boundless"!=_satellite.getVar("mr_prof_ic_approved")&&"Chase_Bold"!=_satellite.getVar("mr_prof_ic_approved")&&"Amex_Brilliant"!=_satellite.getVar("mr_prof_ic_approved")&&"Amex_Business"!=_satellite.getVar("mr_prof_ic_approved")||(console.log("eVar156 should be approved"),t.eVar156="Approved");var r=window.mvpOffers&&window.mvpOffers.source?window.mvpOffers.source:"";if(""!=r&&(t.eVar212=r),!t.eVar31){t.Util.getQueryParam("pid")&&(t.eVar31=t.Util.getQueryParam("pid")),!t.eVar31&&t.Util.getQueryParam("affname")&&(t.eVar31="affname="+t.Util.getQueryParam("affname"));var n=t.Util.cookieRead("Affname");!t.eVar31&&n&&(n=n.split("|")[0].replace(/pid=/gi,""))&&(t.eVar31=n)}}},trackerProperties:{eVars:[{name:"eVar9",type:"value",value:"%mr_prof_member_program_level%"},{name:"eVar22",type:"value",value:"%mr_prof_authentication_state%"},{name:"eVar41",type:"value",value:"%env_site_id%"},{name:"eVar95",type:"value",value:"%mr_id_alternate_filtered%"},{name:"eVar109",type:"value",value:"%mr_prof_cc_all%"},{name:"eVar139",type:"value",value:"%mr_prof_address_country%"},{name:"eVar140",type:"value",value:"%mr_prof_address_state%"},{name:"eVar191",type:"value",value:"%mr_prof_address_city%"},{name:"eVar235",type:"value",value:"%Glassbox_unionID%"},{name:"eVar238",type:"value",value:"%cookie_segmentID%"}],props:[{name:"prop25",type:"value",value:"%env_server_id%"},{name:"prop26",type:"value",value:"%env_platform%"},{name:"prop48",type:"value",value:"%env_analytics_code_version%"},{name:"prop56",type:"value",value:"%session_jsession_id%"}]}}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCe12da2f670d74b64a11116306af1e8d6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe99d21ea3db4448fb6e949c4be6d91b1",name:"Target |Default tab mBox parameter | RLM",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/rateListMenu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC2d096b61f73d4d48b30079d64994d694-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe9fb9cbe9abe4cefb875790f32207447",name:"Core | Salesforce Chat | select pages Non Prod",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%env_site_id%",rightOperand:"US"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%page_domain_name%",rightOperand:"uat02.marriott.com|uat03.marriott.com|www.miram-uat01.marriott.com"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return void 0!==_satellite.getVar("browser_akamai_loc_country")&&"US"===_satellite.getVar("browser_akamai_loc_country")&&(-1!==_satellite.getVar("page_pathname").indexOf("/loyalty.mi")||"true"==sessionStorage.chatIsOpen)}}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loyalty/where-can-we-take-you.mi|/reservation/confirmation.mi"}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC4adfa69b8fc2423e98f13d066058abc4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLea35e240e6c145b4bea6bc2600920a07",name:"Marketing | Tradedesk | Review Details",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/reviewDetails.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC984469353d5a48c1af17fa744f0b0ee5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLeae2425dc1414d49ae3c26807bd5181a",name:"Analytics | Click Tracking | Property Name",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".js-hotel-quickview-link",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/filterSearch.mi",valueIsRegex:!0},{value:"/search/findHotels.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"uri=%page_hostname%%page_pathname%:loc=Hotel Module:linkDescription=PropertyNameClicked"}],events:[{name:"event2"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"HotelPropertyNameClicked",linkType:"o"}}]},{id:"RLebdbc58f393044f0b37b7a4a2ad561cf",name:"Analytics | custom_click_track function | What To Expect",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!1;return window.location.pathname.indexOf("/overview/what-to-expect/")>-1&&(e=!0),e}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'/*check element for custom_click_track info, in case that is on an ancestor element*/\n/*window.testObject = event.target; window.thisObject = $(this);\nif (event.target.classList.contains("custom_click_track") == true) {console.log("class on element");\n    var targetElement = event.target;\n} else if (event.target.closest(".custom_click_tack") !== null) {console.log("class on ancestor");\n    var targetElement = event.target.closest(".custom_click_tack");\n}\nif (typeof targetElement !== "undefined") {*/\n    /* Log the clicked element in the console*/\ndocument.addEventListener(\'click\', function (event) {\n\tif (event.target.closest(\'.custom_click_track\')) {\n\t\t/* Run your code*/\n         \n\n    /*build evar1 string*/\n    var tempValue = "";\n    var varValue = "";\n    var tempEvents = "";\n    var tempEvars = "";\n    var tempProps = "";\n    var tempLists = "";\n    tempValue = (event.target.closest(\'.custom_click_track\').getAttribute("custom_click_track_value") || event.target.closest(\'.custom_click_track\').getAttribute("data-custom_click_track_value") || "default").split("|");\n    \n    varValue = "uri=" + location.hostname + location.pathname + ":loc=" + (tempValue[0] || "undefined") + ":linkDescription=" + (tempValue[1] || "undefined");\n    /*varValue = encodeURIComponent("uri=" + location.hostname + location.pathname + ":loc=" + (tempValue[0] || "undefined") + ":linkDescription=" + (tempValue[1] || "undefined"));*/\n    tempEvents = tempValue[3];\n    /*check if an internal or external link*/\n      //console.log(\'Nimisha Test : tempValue is \'+tempValue);\n    if (typeof tempValue != "undefined" && typeof tempValue[2] != "undefined" && tempValue[2].toLowerCase() != "ZZ") {\n        /*send server call with data*/\n      var loginStatus,\n            memState = window.dataLayer ? (window.dataLayer.mr_prof_authentication_state ? window.dataLayer.mr_prof_authentication_state : \'\') : \'\';\n      var mvpOffers = window.mvpOffers ? (window.mvpOffers.source ? window.mvpOffers.source : \'\') : \'\';\n      //console.log(\'Nimisha Test : mvpOffers is \'+mvpOffers);\n          /* remembered users */\n          if (memState == \'remembered\') {\n            //s.events = s.apl(s.events, \'event12\', \',\', 2);\n            //s.events = s.apl(s.events, \'event13\', \',\', 2);\n            loginStatus = \'remembered\';\n            //s.Util.cookieWrite(\'s_loginState\', \'remembered\');\n          }\n          /* logged in users */\n          if (memState == \'authenticated\') {\n            loginStatus = \'logged in\';\n            //s.Util.cookieWrite(\'s_loginState\', \'authenticated\');\n          }\n          /* logged in users */\n          if (memState == \'unauthenticated\') {\n            loginStatus = \'unauthenticated\';\n            //s.Util.cookieWrite(\'s_loginState\', \'authenticated\');\n          }\n          /* logged out users */\n          if (window.location.pathname.indexOf(\'logout.mi\') > -1) {\n            loginStatus = \'logged out\'; /* why are we not setting cookie here but in other places above */\n          }\n          /* login status */\n          if (loginStatus) {\n            s.eVar22 = loginStatus;\n          }\n\t\tif(mvpOffers !== \'\'){\n          //console.log(\'Nimisha Test : setting eVar212\');\n\t\t\ts.eVar212 = mvpOffers;\n\t\t}        \n        if(typeof dataLayer.prop_marsha_code != \'undefined\'){\n                s.products =  \';\' + _satellite.getVar("prop_marsha_code") +";;";\n          }\n        s.origLTV = s.linkTrackVars;\n        s.origEvents = s.events;\n        s.events = "event2";\n        s.eVar1 = varValue;\n        s.linkTrackVars = "eVar1,eVar22,eVar212,events,products";\n        s.linkTrackEvents = "event2";\n//console.log(\'Nimisha Test : typeof tempValue[3] is : \'+typeof tempValue[3]);\n        /*check for additional events, evars, props*/\n        if (typeof tempValue[3] != "undefined") {\n            /*check capitalization of event, eVar, prop*/\n            var regexE = /event/i;\n            var regexV = /evar/i;\n            var regexP = /prop/i;\n            var regexL = /list/i;\n            tempEvents = tempValue[3].split(",");\n            tempEvents.forEach(function(value, index) {\n                /*test which variable type*/\n                var varType = "";\n                if (/^event/i.test(value) == true) {\n                    varType = "event";\n                } else if (/^evar/i.test(value) == true) {\n                    varType = "eVar";\n                } else if (/^prop/i.test(value) == true) {\n                    varType = "prop";\n                } else if (/^list/i.test(value) == true) {\n                    varType = "list";\n                }\n                switch (varType) {\n                    case "event":\n                        var eventVal = value.replace(regexE, "event");\n                        s.events = s.apl(s.events, eventVal, ",", 2);\n                        /*grab only the event name in case there is an incrementor also passed*/\n                        var eventName = value.split("=");\n                        s.linkTrackEvents = s.apl(s.linkTrackEvents, eventName[0], ",", 2);\n                        break;\n                    case "eVar":\n                        /*split the evar and value*/\n                        var varName = value.split("=");\n                    //console.log(\'Nimisha Test : switch case eVar : \'+varName);\n                    //console.log(\'Nimisha Test : s.linkTrackVars : \'+s.linkTrackVars);\n                        s.linkTrackVars = s.apl(s.linkTrackVars, varName[0].replace(regexV, "eVar"), ",", 2);\n                        s[varName[0].replace(regexV, "eVar")] = varName[1];\n                        break;\n                    case "prop":\n                        /*split the prop and value*/\n                        var propName = value.split("=");\n                        s.linkTrackVars = s.apl(s.linkTrackVars, propName[0].replace(regexP, "prop"), ",", 2);\n                        s[propName[0].replace(regexP, "prop")] = propName[1];\n                        break;\n                    case "list":\n                        /*split the prop and value*/\n                        var listName = value.replace("=", "@@").split("@@");\n                        s.linkTrackVars = s.apl(s.linkTrackVars, listName[0].replace(regexL, "list"), ",", 2);\n                        s[listName[0].replace(regexL, "list")] = listName[1].replace(/\\^/g, "|").replace(/\\;/g,",");\n                        break;\n                    default:\n                        // add nothing\n                }\n            });\n        }\n//console.log(\'Nimisha Test : This is inside click tracking if condition\');\n      \n        s.tl(this, "o", "Custom Link Click");\n        s.event = s.origEvents;\n        s.linkTrackEvents = "None";\n        s.linkTrackVars = s.origLTV;\n    } else {\n        /*store in cookie to be captured on next page*/\n        var extraVals = "";\n        if (typeof tempValue[3] !== "undefined") {\n            extraVals = "|" + encodeURIComponent(tempValue[3]);\n        }\n        document.cookie = "custom_click_track=" + varValue + extraVals + "; path=/";\n    }\n/*}*/\n\t}\n}, false);\n',language:"javascript"}}]},{id:"RLeca5c9cde2f7416bad004034960411f2",name:"Marketing | GA4 | Page Load Base Variables",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotMatchRegex"},leftOperand:"%env_site_id%",rightOperand:"CN|TW"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/pageview.js",settings:{accounts:{1727890546729:{enabled:!0,options:[["u1",'%mr_id_alternate%"'],["u3","%mr_prof_authentication_state%"],["u4","%time_parting%"],["u5","%env_site_id%"],["u6","%campaign_scid%"],["u19","%prop_name%"],["u20","%prop_brand_code%"],["u21","%prop_address_city_state_country%"],["u7","%page_url_query_string%"],["u8","%page_url_query_string_150_SESSION%"],["martan_cookie","%cookie_Affiliate%"]]}}}}]},{id:"RLed789e7246954f9cbfd5203ab49b4a2f",name:"Analytics | Search | Flexible Date",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return 1==_satellite.getVar("search_dates_flexible")||"true"==_satellite.getVar("search_dates_flexible")}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){}},trackerProperties:{eVars:[{name:"eVar12",type:"value",value:"%search_destination_city_state_country%"},{name:"eVar93",type:"value",value:"%search_date_type%"},{name:"eVar148",type:"value",value:"%res_num_adults%"},{name:"eVar149",type:"value",value:"%res_num_children%"},{name:"eVar150",type:"value",value:"%search_currency_type%"}],props:[{name:"prop16",type:"value",value:"%res_rooms_per_night%"},{name:"prop23",type:"value",value:"%search_list_setting_sort_order%"},{name:"prop33",type:"value",value:"%search_results_view%"},{name:"prop34",type:"value",value:"%search_list_records_total%"}],events:[{name:"event203",value:"%res_num_adults%"},{name:"event204",value:"%res_num_children%"},{name:"event212"}]}}}]},{id:"RLedf4ccc869b64851b49364e3ba9ac157",name:"Marketing | Linkedin | Meeting Event Vision Commitment Join For Free",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".m-button-primary-inverse",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meeting-event-hotels/group-reservations/your-vision-our-commitment.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC021f4cbab50240da85f91e5279234d60-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLef63a93aabff4606896b6e175651c4ab",name:"Marketing | Epsilon | RFP Find Button",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"button.m-button-primary",elementProperties:[{name:"type",value:"submit"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meeting-event-hotels/meeting-planning.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCa0318ef242814ce7bcf3e87870313bd2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLefd17e35e2514c6abe9bb5f2c1e29726",name:"Brand Point | Review Details | Logic  ",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/reviewDetails.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC4019a178b88c4c98866732951c8b58a8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLeffbba8639f04cc38d54caa5e3fd4834",name:"Analytics | Click Tracking | Footer Help",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'.l-univ-nav-footer a[href="https://help.marriott.com/s/"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"uri=www.marriott.com/default.mi:loc=footer:linkDescription=Help"}],events:[{name:"event2"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Footer Help Clicked",linkType:"o"}}]},{id:"RLf067946e7db944b0b36da476714fffe7",name:"Marketing | Tradedesk APAC | All Pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"CN"===dataLayer.env_site_id||"KR"===dataLayer.env_site_id||"JP"===dataLayer.env_site_id}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC2a3cfcf3e5a54f65b696a7dee276b600-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf1321a4f4a2d4287bfc4d59bb4e42285",name:"Marketing | Yahoo | JP domain",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!("JP"!==dataLayer.env_site_id||!dataLayer.page_url_path_branch.includes("/default"))}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC77ec76c9b98b430ab8f64835624ecbed-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf1507fc173f948158ee0c2141d1eea1f",name:"Target | Trigger on SERP Page | No Results",events:[{modulePath:"core/src/lib/events/elementExists.js",settings:{elementSelector:"#__next > div > div > div.serp-search-form"},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!1,t=location.hash.substr(1),a=_satellite.getVar("search_list_marshas_on_page"),r=_satellite.getVar("search_list_records_total");return""!=a&&""!=r||!t.includes("/0/")||(_satellite.logger.warn("KKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKK"),e=!0),e}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCb69c0ac1578045159a01dc7993660231-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-mcid/src/lib/actions/setCustomerIds.js",settings:{customerIds:[{value:"%mr_id_alternate_authenticated%",hashType:"",authState:1,integrationCode:"adf7dd8sd"},{value:"%mr_id_alternate_authenticated%",authState:1,integrationCode:"cobrand"}]}},{modulePath:"adobe-target-v2/lib/loadTarget.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC00da805365f24576b8a2c75725b21d25-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-target-v2/lib/addParams.js",settings:{params:{rpcCode:{value:"%rpcCode%",checked:!0},offerCode:{value:"%offerCode%",checked:!0},page_type:{value:"%page_type%",checked:!0},at_property:{value:"%at_property%",checked:!0},env_is_prod:{value:"%env_is_prod%",checked:!0},env_site_id:{value:"%env_site_id%",checked:!0},mr_enrolled:{value:"%mr_enrolled%",checked:!0},prop_is_ers:{value:"%prop_is_ers%",checked:!0},env_platform:{value:"%env_platform%",checked:!0},daysToCheckin:{value:"%daysToCheckin%",checked:!0},firstTimeUser:{value:"%firstTimeUserCopy%",checked:!0},prop_hws_tier:{value:"%prop_hws_tier%",checked:!0},mbox3rdPartyId:{value:"%mbox3rdPartyId%",checked:!1},mr_prof_cc_all:{value:"%mr_prof_cc_all%",checked:!0},specialMessage:{value:"%specialMessage%",checked:!0},prop_brand_code:{value:"%prop_brand_code%",checked:!0},prop_brand_tier:{value:"%prop_brand_tier%",checked:!0},res_stay_length:{value:"%res_stay_length%",checked:!0},res_stay_nights:{value:"%res_stay_nights%",checked:!0},daysSinceJoining:{value:"%daysSinceJoining%",checked:!1},mvpOffers_source:{value:"%mvpOffers_source%",checked:!0},promoIDsEligible:{value:"%promoIDsEligible%",checked:!0},prop_marsha_code:{value:"%prop_marsha_code%",checked:!0},res_isRedemption:{value:"%res_isRedemption%",checked:!0},res_rate_program:{value:"%res_rate_program%",checked:!0},res_room_rate_tab:{value:"%res_room_rate_tab%",checked:!0},cookie_merchViewed:{value:"%cookie_merchViewed%",checked:!0},promoIDsRegistered:{value:"%promoIDsRegistered%",checked:!0},prop_currency_type:{value:"%prop_currency_type%",checked:!0},suppressedRpcCodes:{value:"%suppressedRpcCodes%",checked:!0},coBrandControlGroup:{value:"%coBrandControlGroup%",checked:!0},res_rooms_per_night:{value:"%res_rooms_per_night%",checked:!0},search_cluster_code:{value:"%search_cluster_code%",checked:!0},search_date_check_in:{value:"%search_date_check_in%",checked:!0},mr_prof_address_state:{value:"%mr_prof_address_state%",checked:!0},mr_prof_upcoming_stay:{value:"%mr_prof_upcoming_stay%",checked:!0},mr_register_for_promo:{value:"%mr_register_for_promo%",checked:!0},page_url_query_string:{value:"%page_url_query_string_&_patch%",checked:!0},prop_address_lat_long:{value:"%prop_address_lat_long%",checked:!0},search_date_check_out:{value:"%search_date_check_out%",checked:!0},mr_nights_to_next_level:{value:"%mr_nights_to_next_level%",checked:!0},mr_prof_address_country:{value:"%mr_prof_address_country%",checked:!0},res_rate_is_member_rate:{value:"%res_rate_is_member_rate%",checked:!0},mr_prof_stay_in_progress:{value:"%mr_prof_stay_in_progress%",checked:!0},search_is_dates_flexible:{value:"%search_is_dates_flexible%",checked:!0},prop_address_country_abbr:{value:"%prop_address_country_abbr%",checked:!0},miRecentlyViewedProperties:{value:"%miRecentlyViewedProperties%",checked:!1},search_multiRate_or_single:{value:"%search_multiRate_or_single%",checked:!0},search_list_marshas_on_page:{value:"%search_list_marshas_on_page%",checked:!0},mr_prof_authentication_state:{value:"%mr_prof_authentication_state%",checked:!0},mr_prof_member_program_level:{value:"%mr_prof_member_program_level%",checked:!0},search_advance_purchase_days:{value:"%search_advance_purchase_days%",checked:!1},prop_address_city_state_country:{value:"%prop_address_city_state_country%",checked:!1},search_google_places_destination:{value:"%search_google_places_destination%",checked:!1},mr_prof_upcoming_stay_consolidated:{value:"%mr_prof_upcoming_stay_consolidated%",checked:!1},search_criteria_filter_selected_ids:{value:"%search_criteria_filter_selected_ids%",checked:!0}}}},{modulePath:"adobe-target-v2/lib/firePageLoad.js",settings:{bodyHiddenStyle:"body {opacity: 0}",bodyHidingEnabled:!1}}]},{id:"RLf1ee3f46165e433aa2119ecefb29fe08",name:"Analytics | OneTrust Banner Load | All Pages",events:[{modulePath:"core/src/lib/events/entersViewport.js",settings:{frequency:"firstEntry",elementSelector:"#onetrust-banner-sdk"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC64a1acde6aa34173a96a4ddfe27c58f8-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){window.origTrackVars=t.linkTrackVars;let a=OneTrust.GetDomainData().Language.Culture;t.eVar237=a,t.linkTrackVars="events,eVar237,eVar48"}},trackerProperties:{eVars:[{name:"eVar48",type:"value",value:"Onetrustbanner"},{name:"eVar237",type:"value",value:"Default"}],events:[{name:"event168"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Impression View",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars=window.origTrackVars}},trackerProperties:{}}}]},{id:"RLf25c1afade3d406a96a3dbc40cc69579",name:"Analytics | Click Tracking | Modal Window Search Page",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".js-image-container",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".js-hotel-quickview-link",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=$(this).attr("href");void 0!==a&&!1!==a&&(t.prop20="Hotel Information",t.product=$(this).attr("data-marsha"))}},trackerProperties:{props:[{name:"prop20",type:"value",value:"Guest Room Photos"}],events:[{name:"event24"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Launch Search Modal Click ",linkType:"o"}}]},{id:"RLf2768c29b45c4985b07b41bb80af5a4a",name:"Marketing | Conversant | Profile Booking Confirmation",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/confirmation.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual"},leftOperand:"%env_site_id%",rightOperand:"US"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCbedf6cb3fce14bff97e010377dac89fb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf2b0ad2bc37d494ca9ab5c2acaff7dfa",name:"Marketing | Epsilon | RFP Event Contact Submit",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".m-button-primary.m-button-m.submit-cta",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/rfp/event-contact.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC821b73cb68a84d0284b2aeb419012809-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf3bc6721bc714b40b202f4b6eea2f616",name:"Core | Patch OneTrust Links | about/privacy.mi",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"endsWith"},leftOperand:"%page_pathname%",rightOperand:"/about/privacy.mi"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC019f540d2cb848da92be481428ae8a87-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf50eaceadb8f43cea7afa8c153114f5f",name:"Marketing | Jivox | Confirmation Pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/confirmation.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC5e509a31bc50438ca29c896ce8015ff4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf6978cee9d9741c58ae45fdae405dd42",name:"Marketing | Floodlight | User Dwell 5 Sec",events:[{modulePath:"core/src/lib/events/timeOnPage.js",settings:{timeOnPage:5},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"page_view",options:[["u69","true"],["u7","%page_url_query_string%"]],accounts:{1570639551011:{label:"DC-1359549/all_pg/dwell5+standard",enabled:!0}},callback:null}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC5fbe2db11fd44346846698de3f2ddc95-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf6cd2fd619f046cfa7a774022950afb4",name:"Marketing | Cross Domain Tracking Test | All Pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCbf03f024c3ff420ca40bfdb4917e8258-source.min.js",
language:"javascript",isExternal:!0}}]},{id:"RLf7276a10da78498095b9155df6504396",name:"Analytics | Aries | Flexible Date",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search/findHotels.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%search_date_type%",rightOperand:"Flexible Dates"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar93",type:"value",value:"Flexible Dates"}]}}}]},{id:"RLf8779bbd3aa342fc94927d5be6e5a6a7",name:"Marketing | Google Ads | Join | Conversion",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return""!==document.referrer&&new URL(document.referrer).pathname.includes("/loyalty/createAccount/createAccountPage1.mi")&&window.location.pathname.includes("/loyalty/myAccount/profile.mi")}}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCf169da9fdd514df8a059305d03893895-source.min.js",language:"html",isExternal:!0}}]},{id:"RLfa403cc145a0478c9be2ce10293f60a5",name:"Marketing | GA4 | Group RFP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:40}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotMatchRegex"},leftOperand:"%env_site_id%",rightOperand:"CN|TW"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meetings-events/rfp/submitted.mi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"group_rfp",options:[["event_category","group"],["dimension22","%search_date_check_in%"],["dimension23","%search_date_check_out%"],["dimension50","%group_opportunity_id%"],["dimension51","%Group_Marsha | Marsha%"],["dimension52","%group_event_type%"],["metric4","1"]],accounts:{1727890546729:{enabled:!0}},callback:null}}]},{id:"RLfb263de9b3e54074a5d4a6a298edbdfb",name:"Marketing | Floodlight 9035495 | Meeting Events Group Reservation",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/meeting-event-hotels/group-reservations/your-vision-our-commitment",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCbdf7e833233f44b188df1964251ebce7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfb46c79fd3004e19b7ab85ee5472dde6",name:"Analytics | Base Code | Upcoming Stays",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual"},leftOperand:"%page_pathname%",rightOperand:"/reservation/confirmation.mi"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!0,t=_satellite.getVar("env_platform"),a=window.location.pathname;return t.indexOf("phoenix-prod")>-1&&a.indexOf("/search/findHotels.mi")>-1&&(e=!1),e}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar55",type:"value",value:"%mr_prof_upcoming_stay%"}]}}}]},{id:"RLfb6cee2cc0f347cba982f7ae9281497d",name:"Core | CCPA Link | AEM pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=!1,t=_satellite.getVar("env_platform");return void 0!==t&&(t.indexOf("AEM")>-1||t.indexOf("phoenix")>-1)&&(e=!0),e}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC0c9f33f7fe794b0faa79f8e9292d7f3b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfc1e26db69b4440ebc81c19de77a0424",name:"Marketing | Floodlight 1359549 | Resort Escape Find Deals",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".find-btn.m-button-l",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/offers/resort-escapes",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC1d26a73461ab46e29f45e6819d3f386b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfce22cd797d5469489dc0fc17ef818c6",name:"Analytics | Check-In | Various Pages",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%page_pathname%",rightOperand:"/reservation/check"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC81803152592846529aaa752df2cd8e41-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){"/reservation/check-in-confirmation.mi"==_satellite.getVar("page_pathname")&&(_satellite.getVar("housekeeping_checkin")&&(t.eVar215=_satellite.getVar("housekeeping_checkin")),t.events=t.events?t.events+",event45":"event45"),dataLayer.ci_submitted_arrival_time==sessionStorage.getItem("ci_default_arrival_time")?t.eVar187="Default":t.eVar187="Modified",dataLayer.ci_submited_parking_option==sessionStorage.getItem("ci_default_parking_option")?t.eVar188="Default":t.eVar188="Modified","/reservation/check-in.mi"==_satellite.getVar("page_pathname")&&0!==$("#form-action-messages").length&&(t.events?t.events+=",event166":t.events="event166",t.eVar32=$("#form-action-messages")[0].childNodes[0].nodeValue.trim())}},trackerProperties:{eVars:[{name:"eVar145",type:"value",value:"%search_date_check_in%"},{name:"eVar186",type:"value",value:"%ci_sms_optin%"},{name:"eVar203",type:"value",value:"%ota_flag%"}],props:[{name:"prop17",type:"value",value:"%search_date_check_in%"}]}}}]},{id:"RLfcec656393414d1ca29b6397b01b7804",name:"Marketing | TradeDesk | Audience Pixel Time On Site",events:[{modulePath:"core/src/lib/events/timeOnPage.js",settings:{timeOnPage:10},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"session",count:1}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCf48cf59e69a34aa5955af615da53e81d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfdc551ba81cf44d2bdaeb745117ddb76",name:"Marketing | Hook Logic | HWS Pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/hotels/",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC53968eb1417e4d8bbaea12c327e8d58e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfdd5711501dc46a8bdbce0bec58d59a8",name:"Target | mbox Pixels | Confirmation page",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/confirmation.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC84874ca50b8841249f3a0b9a8f2d9875-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfeae1a1ed3244a7894d75ef055060b6b",name:"OneTrust | Auto-open Module | CCPA Page",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:20}],conditions:[{modulePath:"core/src/lib/conditions/queryStringParameter.js",settings:{name:"trustarcOpen",value:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC6af65c424bc64b0bad6b6ccc2d4bb10f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfebf4afc189e4833b4fbec37ea5475e9",name:"Marketing | Gtag 9035495 | Amex Credit Card",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a.custom_click_track.m-button-s.track-completed",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/credit-cards/marriott-bonvoy-business-american-express-card",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%user_optin_status%",rightOperand:"optin"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC34378a0b10ef43a1854db36e0ebdabeb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLff523854349048cbaa944a2806849a0a",name:"Marketing | Jivox | Review Pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/reservation/reviewDetails.mi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RC5eaf3380b9bc4a299867ad9d6aa9948d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfff38f9d2ca24edca3d8594e05963dca",name:"Marketing | Line | Marriott JP All Pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%user_optin_status%",rightOperand:"optin"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%env_site_id%",rightOperand:"JP"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/697d0c070f1e/16ad26f0160a/ae47bd4cd324/RCbc03d0357483446a92808049a55dccc9-source.min.js",language:"javascript",isExternal:!0}}]}]};var _satellite=function(){"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function t(e){return"[object Object]"===Object.prototype.toString.call(e)}function a(e){var a,r;return!1!==t(e)&&(void 0===(a=e.constructor)||!1!==t(r=a.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf"))}function r(e){return"string"==typeof e&&-1!==e.indexOf("[")&&-1!==e.indexOf("]")}function n(e){return e.substr(0,e.indexOf("["))}function s(e,t,a){if(e.length&&ut(t)){var o=e[0];if(1!==e.length){var i=e.slice(1);if(!r(o))return s(i,t[o],a);var c=t[o=n(o)];Array.isArray(c)&&c.forEach((function(e){return s(i,e,a)}))}else t.hasOwnProperty(o)&&"string"==typeof t[o]&&(t[o]=a(t[o]))}}if(window.atob){var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},i=document,c=Object.assign,l=window,d=l,u=function(e,t,a,r){var n,s=Boolean(t&&Array.isArray(a)),o=Boolean(s&&e),i=document.createElement("a");if(s){var c=function(){var e=new Error("Unable to find the Library Embed Code for Dynamic Host Resolution.");throw e.code="dynamic_host_resolver_constructor_error",e};if(e&&(/^((https?:)?\/\/).+/.test(e)||c(),/^\/\/.+/.test(e)?i.href=d.location.protocol+e:i.href=e),i.hostname||c(),-1===a.indexOf(i.hostname)){var l=new Error("This library is not authorized for this domain. Please contact your CSM for more information.");throw l.code="dynamic_host_not_allowed",l}}var u=function(){if(null!=n)return n;if(o){var e=i.host;/:80$/.test(e)?e=e.replace(":80",""):/:80\/$/.test(e)?e=e.replace(":80/",""):/:443$/.test(e)?e=e.replace(":443",""):/:443\/$/.test(e)&&(e=e.replace(":443/","")),n=i.protocol+"//"+e}else n="";return n},m=function(e){return o&&"string"==typeof e?[u(),"/"===e.charAt(0)?e.slice(1):e].join("/"):e},p={getTurbineHost:u,decorateWithDynamicHost:m,get isDynamicEnforced(){return s}};return d&&r.onDebugChanged((function(e){e?d.dynamicHostResolver=p:delete d.dynamicHostResolver})),p},m=function(e){var t=[];return e.forEach((function(e){e.events&&e.events.forEach((function(a){t.push({rule:e,event:a})}))})),t.sort((function(e,t){return e.event.ruleOrder-t.event.ruleOrder}))},p="debug",f=function(e,t){var a=function(){return"true"===e.getItem(p)},r=function(t){e.setItem(p,t)},n=[],s=function(e){n.push(e)};return t.outputEnabled=a(),{onDebugChanged:s,getDebugEnabled:a,setDebugEnabled:function(e){a()!==e&&(r(e),t.outputEnabled=e,n.forEach((function(t){t(e)})))}}},g="Module did not export a function.",h=function(e,t,a){return function(r,n,s){s=s||[];var o=e.getModuleExports(r.modulePath);if("function"!=typeof o)throw new Error(g);var i=e.getModuleDefinition(r.modulePath),c=r.settings||{};!r.hasTransformedFilePaths&&i.filePaths&&(a(c,i.filePaths,r.modulePath),r.hasTransformedFilePaths=!0);var l=t(c,n);return o.bind(null,l).apply(null,s)}},v=function(e){return"string"==typeof e?e.replace(/\s+/g," ").trim():e},_={LOG:"log",INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error"},b="\ud83d\ude80",y=10===parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])?"[Launch]":b,P=!1,k=function(e){if(P&&window.console){var t=Array.prototype.slice.call(arguments,1);t.unshift(y),e!==_.DEBUG||window.console[e]||(e=_.INFO),window.console[e].apply(window.console,t)}},C=k.bind(null,_.LOG),j=k.bind(null,_.INFO),w=k.bind(null,_.DEBUG),x=k.bind(null,_.WARN),I=k.bind(null,_.ERROR),V=function(){var e=P;P=!0,k.apply(null,Array.prototype.concat(_.WARN,Array.prototype.slice.call(arguments))),e||(P=!1)},O={log:C,info:j,debug:w,warn:x,error:I,deprecation:V,get outputEnabled(){return P},set outputEnabled(e){P=e},createPrefixedLogger:function(e){var t="["+e+"]";return{log:C.bind(null,t),info:j.bind(null,t),debug:w.bind(null,t),warn:x.bind(null,t),error:I.bind(null,t)}}},E=l,S="com.adobe.reactor.",R=function(e,t){var a=S+(t||"");return{getItem:function(t){try{return E[e].getItem(a+t)}catch(e){return null}},setItem:function(t,r){try{return E[e].setItem(a+t,r),!0}catch(e){return!1}}}},L=R,T="dataElements.",A=L("sessionStorage",T),D=L("localStorage",T),M={PAGEVIEW:"pageview",SESSION:"session",VISITOR:"visitor"},N={},q=function(e){var t;try{t=JSON.stringify(e)}catch(e){}return t},F=v,U=O,B={setValue:function(e,t,a){var r;switch(t){case M.PAGEVIEW:return void(N[e]=a);case M.SESSION:return void((r=q(a))&&A.setItem(e,r));case M.VISITOR:return void((r=q(a))&&D.setItem(e,r))}},getValue:function(e,t){var a;switch(t){case M.PAGEVIEW:return N.hasOwnProperty(e)?N[e]:null;case M.SESSION:return null===(a=A.getItem(e))?a:JSON.parse(a);case M.VISITOR:return null===(a=D.getItem(e))?a:JSON.parse(a)}}},G=function(e,t,a,r){return"Failed to execute data element module "+e.modulePath+" for data element "+t+". "+a+(r?"\n"+r:"")},H=function(e,t,a,r,n){return function(s,o){var i=t(s);if(!i)return r?"":void 0;var c,l,d=i.storageDuration;try{c=e.getModuleExports(i.modulePath),l=e.getModuleDefinition(i.modulePath)}catch(e){return void U.error(G(i,s,e.message,e.stack))}if("function"==typeof c){var u,m=i.settings||{};!i.hasTransformedFilePaths&&l.filePaths&&(n(m,l.filePaths,i.modulePath),i.hasTransformedFilePaths=!0);try{u=c(a(m,o),o)}catch(e){return void U.error(G(i,s,e.message,e.stack))}return d&&(null!=u?B.setValue(s,d,u):u=B.getValue(s,d)),null==u&&null!=i.defaultValue&&(u=i.defaultValue),"string"==typeof u&&(i.cleanText&&(u=F(u)),i.forceLowerCase&&(u=u.toLowerCase())),u}U.error(G(i,s,"Module did not export a function."))}},J=v,z={text:function(e){return e.textContent},cleanText:function(e){return J(e.textContent)}},W=function(e,t,a){for(var r,n=e,s=0,o=t.length;s<o;s++){if(null==n)return;var i=t[s];if(a&&"@"===i.charAt(0)){var c=i.slice(1);n=z[c](n)}else if(n.getAttribute&&(r=i.match(/^getAttribute\((.+)\)$/))){var l=r[1];n=n.getAttribute(l)}else n=n[i]}return n},$=function(e,t,a){return function(r,n){var s;if(t(r))s=a(r,n);else{var o=r.split("."),i=o.shift();"this"===i?n&&(s=W(n.element,o,!0)):"event"===i?n&&(s=W(n,o)):"target"===i?n&&(s=W(n.target,o)):s=W(e[i],o)}return s}},Q=function(e,t){return function(a){var r=a.split(".")[0];return Boolean(t(a)||"this"===r||"event"===r||"target"===r||e.hasOwnProperty(r))}},K=function(e,t,a){var r={exports:{}};return e.call(r.exports,r,r.exports,t,a),r.exports},Y=K,X=O,Z=function(){var e={},t=function(t){var a=e[t];if(!a)throw new Error("Module "+t+" not found.");return a},a=function(){Object.keys(e).forEach((function(e){try{r(e)}catch(a){var t="Error initializing module "+e+". "+a.message+(a.stack?"\n"+a.stack:"");X.error(t)}}))},r=function(e){var a=t(e);return a.hasOwnProperty("exports")||(a.exports=Y(a.definition.script,a.require,a.turbine)),a.exports};return{registerModule:function(t,a,r,n,s){var o={definition:a,extensionName:r,require:n,turbine:s};o.require=n,e[t]=o},hydrateCache:a,getModuleExports:r,getModuleDefinition:function(e){return t(e).definition},getModuleExtensionName:function(e){return t(e).extensionName}}},ee=O,te=!1,ae=function(e){return function(t,a){var r=e._monitors;r&&(te||(ee.warn("The _satellite._monitors API may change at any time and should only be used for debugging."),te=!0),r.forEach((function(e){e[t]&&e[t](a)})))}},re=O,ne=function(e,t,a){var r,n,s,o,i=[],c=function(r,n,s){if(!e(n))return r;i.push(n);var o=t(n,s);return i.pop(),null==o&&a?"":o};return r=function(e,t){var a=/^%([^%]+)%$/.exec(e);return a?c(e,a[1],t):e.replace(/%(.+?)%/g,(function(e,a){return c(e,a,t)}))},n=function(e,t){for(var a={},r=Object.keys(e),n=0;n<r.length;n++){var s=r[n],i=e[s];a[s]=o(i,t)}return a},s=function(e,t){for(var a=[],r=0,n=e.length;r<n;r++)a.push(o(e[r],t));return a},o=function(e,t){return"string"==typeof e?r(e,t):Array.isArray(e)?s(e,t):"object"==typeof e&&null!==e?n(e,t):e},function(e,t){return i.length>10?(re.error("Data element circular reference detected: "+i.join(" -> ")),e):o(e,t)}},se=function(e){return function(){if("string"==typeof arguments[0])e[arguments[0]]=arguments[1];else if(arguments[0]){var t=arguments[0];for(var a in t)e[a]=t[a]}}},oe="undefined"!=typeof window&&window.Promise||void 0!==o&&o.Promise,ie=oe,ce=function(e,t,a){return function(r,n,s,o){return o.then((function(){var o,i=r.delayNext;return new ie((function(t,a){var n=e(r,s,[s]);if(!i)return t();var c=r.timeout,l=new ie((function(e,t){o=setTimeout((function(){t(new Error("A timeout occurred because the action took longer than "+c/1e3+" seconds to complete. "))}),c)}));ie.race([n,l]).then(t,a)})).catch((function(e){return clearTimeout(o),e=t(e),a(r,n,e),ie.reject(e)})).then((function(){clearTimeout(o)}))}))}},le=oe,de=function(e,t,a,r,n){return function(s,o,i,c){return c.then((function(){var c;return new le((function(t,a){var r=e(s,i,[i]),n=s.timeout,o=new le((function(e,t){c=setTimeout((function(){t(new Error("A timeout occurred because the condition took longer than "+n/1e3+" seconds to complete. "))}),n)}));le.race([r,o]).then(t,a)})).catch((function(e){return clearTimeout(c),e=t(e),r(s,o,e),le.reject(e)})).then((function(e){if(clearTimeout(c),!a(s,e))return n(s,o),le.reject()}))}))}},ue=oe.resolve(),me=function(e,t,a){return function(r,n){return r.conditions&&r.conditions.forEach((function(t){ue=e(t,r,n,ue)})),r.actions&&r.actions.forEach((function(e){ue=t(e,r,n,ue)})),ue=(ue=ue.then((function(){a(r)}))).catch((function(){}))}},pe=function(e){return Boolean(e&&"object"==typeof e&&"function"==typeof e.then)},fe=function(e,t,a,r){return function(n,s){var o;if(n.conditions)for(var i=0;i<n.conditions.length;i++){o=n.conditions[i];try{var c=e(o,s,[s]);if(pe(c))throw new Error("Rule component sequencing must be enabled on the property for this condition to function properly.");if(!t(o,c))return a(o,n),!1}catch(e){return r(o,n,e),!1}}return!0}},ge=function(e,t){return function(a,r){e(a,r)&&t(a,r)}},he=function(e){return function(t){var a=e.getModuleDefinition(t.modulePath);return a&&a.displayName||t.modulePath}},ve=function(e){return function(t){var a=t.rule,r=t.event,n=e.getModuleDefinition(r.modulePath).name;return{$type:e.getModuleExtensionName(r.modulePath)+"."+n,$rule:{id:a.id,name:a.name}}}},_e=function(e,t,a,r,n,s){return function(o,i){var c=i.rule,l=i.event;l.settings=l.settings||{};try{var d=n(i);t(l,null,[function(t){var r=a(d,t);o((function(){e(r,c)}))}])}catch(e){s.error(r(l,c,e))}}},be=function(e,t,a,r){return function(n,s,o){var i=t(n);a.error(e(i,s.name,o)),r("ruleActionFailed",{rule:s,action:n})}},ye=function(e,t,a,r){return function(n,s,o){var i=t(n);a.error(e(i,s.name,o)),r("ruleConditionFailed",{rule:s,condition:n})}},Pe=function(e,t,a){return function(r,n){var s=e(r);t.log('Condition "'+s+'" for rule "'+n.name+'" was not met.'),a("ruleConditionFailed",{rule:n,condition:r})}},ke=function(e,t){return function(a){e.log('Rule "'+a.name+'" fired.'),t("ruleCompleted",{rule:a})}},Ce=function(e,t,a){return function(r,n){var s;if(r.actions)for(var o=0;o<r.actions.length;o++){s=r.actions[o];try{e(s,n,[n])}catch(e){return void t(s,r,e)}}a(r)}},je=function(e,t,a,r){return function(n,s){r("ruleTriggered",{rule:s}),e?a(s,n):t(s,n)}},we=function(e,t,a){return'Failed to execute "'+e+'" for "'+t+'" rule. '+a.message+(a.stack?"\n"+a.stack:"")},xe=function(e,t){return t&&!e.negate||!t&&e.negate},Ie=[],Ve=!1,Oe=function(e){Ve?e():Ie.push(e)},Ee=function(e,t,a){e(t).forEach((function(e){a(Oe,e)})),Ve=!0,Ie.forEach((function(e){e()})),Ie=[]},Se=function(e){if(e||(e=new Error("The extension triggered an error, but no error information was provided.")),!(e instanceof Error)){var t="object"==typeof e?JSON.stringify(e):String(e);e=new Error(t)}return e},Re={};Object.defineProperty(Re,"__esModule",{value:!0}),Re.isPlainObject=a;var Le,Te=O,Ae=c,{isPlainObject:De}=Re,Me=function(e,t){return De(t=t||{})?t=Ae({},t,e):Ae(t,e),t.hasOwnProperty("type")||Object.defineProperty(t,"type",{get:function(){return Te.deprecation("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."),t.$type}}),t},Ne=function(e,t){return function(a,r){var n=e[a];if(n){var s=n.modules;if(s)for(var o=Object.keys(s),i=0;i<o.length;i++){var c=o[i],l=s[c];if(l.shared&&l.name===r)return t.getModuleExports(c)}}}},qe=function(e,t){return function(){return t?e(t):{}}},Fe=function(e,t,a){return function(r){if(a){var n=r.split(".");n.splice(n.length-1||1,0,"min"),r=n.join(".")}return e(t)+r}},Ue=".js",Be=function(e){return e.substr(0,e.lastIndexOf("/"))},Ge=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},He=function(e,t){Ge(t,Ue)||(t+=Ue);var a=t.split("/"),r=Be(e).split("/");return a.forEach((function(e){e&&"."!==e&&(".."===e?r.length&&r.pop():r.push(e))})),r.join("/")},Je={exports:{}};Le=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var a=arguments[e];for(var r in a)t[r]=a[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function a(r){function n(){}function s(t,a,s){if("undefined"!=typeof document){"number"==typeof(s=e({path:"/"},n.defaults,s)).expires&&(s.expires=new Date(1*new Date+864e5*s.expires)),s.expires=s.expires?s.expires.toUTCString():"";try{var o=JSON.stringify(a);/^[\{\[]/.test(o)&&(a=o)}catch(e){}a=r.write?r.write(a,t):encodeURIComponent(String(a)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var i="";for(var c in s)s[c]&&(i+="; "+c,!0!==s[c]&&(i+="="+s[c].split(";")[0]));return document.cookie=t+"="+a+i}}function o(e,a){if("undefined"!=typeof document){for(var n={},s=document.cookie?document.cookie.split("; "):[],o=0;o<s.length;o++){var i=s[o].split("="),c=i.slice(1).join("=");a||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=t(i[0]);if(c=(r.read||r)(c,l)||t(c),a)try{c=JSON.parse(c)}catch(e){}if(n[l]=c,e===l)break}catch(e){}}return e?n[e]:n}}return n.set=s,n.get=function(e){return o(e,!1)},n.getJSON=function(e){return o(e,!0)},n.remove=function(t,a){s(t,"",e(a,{expires:-1}))},n.defaults={},n.withConverter=a,n}return a((function(){}))},Je.exports=Le();var ze=Je.exports,We={get:ze.get,set:ze.set,remove:ze.remove},$e=oe,Qe=function(e,t){return new $e((function(a,r){t.onload=function(){a(t)},t.onerror=function(){r(new Error("Failed to load script "+e))}}))},Ke=function(e){var t={};if(!e||"string"!=typeof e)return t;var a=e.trim().replace(/^[?#&]/,""),r=new URLSearchParams(a),n=r.keys();do{var s=n.next(),o=s.value;if(o){var i=r.getAll(o);1===i.length?t[o]=i[0]:t[o]=i}}while(!1===s.done);return t},Ye=function(e){var t="{{space}}",a=new URLSearchParams;return Object.keys(e).forEach((function(r){var n=e[r];"string"==typeof e[r]?n=n.replace(/ /g,t):["object","undefined"].includes(typeof n)&&!Array.isArray(n)&&(n=""),Array.isArray(n)?n.forEach((function(e){a.append(r,e)})):a.append(r,n)})),a.toString().replace(new RegExp(encodeURIComponent(t),"g"),"%20")},Xe="@adobe/reactor-",Ze={cookie:We,document:i,"load-script":function(e){var t=document.createElement("script");t.src=e,t.async=!0;var a=Qe(e,t);return document.getElementsByTagName("head")[0].appendChild(t),a},"object-assign":c,promise:oe,"query-string":{parse:function(e){return Ke(e)},stringify:function(e){return Ye(e)}},window:l},et=function(e){return function(t){if(0===t.indexOf(Xe)){var a=t.substr(Xe.length),r=Ze[a];if(r)return r}if(0===t.indexOf("./")||0===t.indexOf("../"))return e(t);throw new Error('Cannot resolve module "'+t+'".')}},tt=Ne,at=qe,rt=Fe,nt=O,st=He,ot=et,it=function(e,t,a,r,n,s,o){var i=e.extensions,c=e.buildInfo,l=e.environment,d=e.property.settings;if(i){var u=tt(i,t);Object.keys(i).forEach((function(m){var p=i[m],f=p.settings;Array.isArray(p.filePaths)&&(f=s(f,p.filePaths));var g=at(r,f);if(p.modules){var h=nt.createPrefixedLogger(p.displayName),v=rt(o,p.hostedLibFilesBaseUrl,c.minified),_={buildInfo:c,environment:l,property:{name:e.property.name,id:e.property.id},getDataElementValue:n,getExtensionSettings:g,getHostedLibFileUrl:v,getSharedModule:u,logger:h,propertySettings:d,replaceTokens:r,onDebugChanged:a.onDebugChanged,get debugEnabled(){return a.getDebugEnabled()}};Object.keys(p.modules).forEach((function(e){var a=p.modules[e],r=ot((function(a){var r=st(e,a);return t.getModuleExports(r)}));t.registerModule(e,a,m,r,_)}))}})),t.hydrateCache()}return t},ct=We,lt=O,dt=function(e,t,a,r,n){var s=lt.createPrefixedLogger("Custom Script");e.track=function(e){lt.log('"'+e+'" does not match any direct call identifiers.')},e.getVisitorId=function(){return null},e.property={name:t.property.name,id:t.property.id},e.company=t.company,e.buildInfo=t.buildInfo,e.environment=t.environment,e.logger=s,e.notify=function(e,t){switch(lt.deprecation("_satellite.notify is deprecated. Please use the `_satellite.logger` API."),t){case 3:s.info(e);break;case 4:s.warn(e);break;case 5:s.error(e);break;default:s.log(e)}},e.getVar=r,e.setVar=n,e.setCookie=function(e,t,a){var r="",n={};a&&(r=", { expires: "+a+" }",n.expires=a);var s='_satellite.setCookie is deprecated. Please use _satellite.cookie.set("'+e+'", "'+t+'"'+r+").";lt.deprecation(s),ct.set(e,t,n)},e.readCookie=function(e){return lt.deprecation('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("'+e+'").'),ct.get(e)},e.removeCookie=function(e){lt.deprecation('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("'+e+'").'),ct.remove(e)},e.cookie=ct,e.pageBottom=function(){},e.setDebug=a;var o=!1;Object.defineProperty(e,"_container",{get:function(){return o||(lt.warn("_satellite._container may change at any time and should only be used for debugging."),o=!0),t}})},{isPlainObject:ut}=Re,mt=i,pt=c,ft=u,gt=m,ht=f,vt=h,_t=H,bt=$,yt=Q,Pt=Z,kt=ae,Ct=ne,jt=se,wt=ce,xt=de,It=me,Vt=fe,Ot=ge,Et=he,St=ve,Rt=_e,Lt=be,Tt=ye,At=Pe,Dt=ke,Mt=Ce,Nt=je,qt=we,Ft=xe,Ut=Ee,Bt=Se,Gt=Me,Ht=R,Jt=it,zt=dt,Wt=function(e,t){return function(a,r,n){return e&&ut(a)&&Object.keys(a).length&&Array.isArray(r)&&r.length?(r.forEach((function(e){Boolean(null!=n&&/^core\/.*actions.*\/customCode\.js$/.test(n))&&"source"===e&&!a.isExternal||s(e.split("."),a,t)})),a):a}},$t=O,Qt=window._satellite;if(Qt&&!window.__satelliteLoaded){window.__satelliteLoaded=!0;var Kt=Qt.container;delete Qt.container;var Yt=pt({},Kt.buildInfo);Object.defineProperty(Yt,"environment",{get:function(){return $t.deprecation("container.buildInfo.environment is deprecated.Please use `container.environment.stage` instead"),Kt.environment.stage}}),Kt.buildInfo=Yt;var Xt,Zt=ht(Ht("localStorage"),$t),ea="";mt.currentScript&&mt.currentScript.getAttribute("src")&&(ea=mt.currentScript.getAttribute("src"));try{Xt=ft(ea,Boolean(Kt.company.dynamicCdnEnabled),Kt.company.cdnAllowList,Zt)}catch(e){throw $t.warn("Please review the following error:"),e}var ta,aa=Wt(Xt.isDynamicEnforced,Xt.decorateWithDynamicHost),ra=Pt(),na=Kt.property.settings.undefinedVarsReturnEmpty,sa=Kt.property.settings.ruleComponentSequencingEnabled,oa=Kt.dataElements||{},ia=function(e){return oa[e]},ca=function(){return ta.apply(null,arguments)},la=_t(ra,ia,ca,na,aa),da={},ua=jt(da),ma=yt(da,ia),pa=bt(da,ia,la);ta=Ct(ma,pa,na),zt(Qt,Kt,Zt.setDebugEnabled,pa,ua),Jt(Kt,ra,Zt,ta,la,aa,Xt.decorateWithDynamicHost);var fa=kt(Qt),ga=vt(ra,ta,aa),ha=Et(ra),va=At(ha,$t,fa),_a=Tt(qt,ha,$t,fa),ba=Lt(qt,ha,$t,fa),ya=Dt($t,fa),Pa=Rt(Nt(sa,Ot(Vt(ga,Ft,va,_a),Mt(ga,ba,ya)),It(xt(ga,Bt,Ft,_a,va),wt(ga,Bt,ba),ya),fa),ga,Gt,qt,St(ra),$t);Ut(gt,Kt.rules||[],Pa)}return e(Qt)}console.warn("Adobe Launch is unsupported in IE 9 and below.")}();